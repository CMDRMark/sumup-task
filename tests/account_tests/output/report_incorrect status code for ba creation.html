<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <title id="head-title">report.html</title>
      <style type="text/css">body {
  font-family: Helvetica, Arial, sans-serif;
  font-size: 12px;
  /* do not increase min-width as some may use split screens */
  min-width: 800px;
  color: #999;
}

h1 {
  font-size: 24px;
  color: black;
}

h2 {
  font-size: 16px;
  color: black;
}

p {
  color: black;
}

a {
  color: #999;
}

table {
  border-collapse: collapse;
}

/******************************
 * SUMMARY INFORMATION
 ******************************/
#environment td {
  padding: 5px;
  border: 1px solid #e6e6e6;
  vertical-align: top;
}
#environment tr:nth-child(odd) {
  background-color: #f6f6f6;
}
#environment ul {
  margin: 0;
  padding: 0 20px;
}

/******************************
 * TEST RESULT COLORS
 ******************************/
span.passed,
.passed .col-result {
  color: green;
}

span.skipped,
span.xfailed,
span.rerun,
.skipped .col-result,
.xfailed .col-result,
.rerun .col-result {
  color: orange;
}

span.error,
span.failed,
span.xpassed,
.error .col-result,
.failed .col-result,
.xpassed .col-result {
  color: red;
}

.col-links__extra {
  margin-right: 3px;
}

/******************************
 * RESULTS TABLE
 *
 * 1. Table Layout
 * 2. Extra
 * 3. Sorting items
 *
 ******************************/
/*------------------
 * 1. Table Layout
 *------------------*/
#results-table {
  border: 1px solid #e6e6e6;
  color: #999;
  font-size: 12px;
  width: 100%;
}
#results-table th,
#results-table td {
  padding: 5px;
  border: 1px solid #e6e6e6;
  text-align: left;
}
#results-table th {
  font-weight: bold;
}

/*------------------
 * 2. Extra
 *------------------*/
.logwrapper {
  max-height: 230px;
  overflow-y: scroll;
  background-color: #e6e6e6;
}
.logwrapper.expanded {
  max-height: none;
}
.logwrapper.expanded .logexpander:after {
  content: "collapse [-]";
}
.logwrapper .logexpander {
  z-index: 1;
  position: sticky;
  top: 10px;
  width: max-content;
  border: 1px solid;
  border-radius: 3px;
  padding: 5px 7px;
  margin: 10px 0 10px calc(100% - 80px);
  cursor: pointer;
  background-color: #e6e6e6;
}
.logwrapper .logexpander:after {
  content: "expand [+]";
}
.logwrapper .logexpander:hover {
  color: #000;
  border-color: #000;
}
.logwrapper .log {
  min-height: 40px;
  position: relative;
  top: -50px;
  height: calc(100% + 50px);
  border: 1px solid #e6e6e6;
  color: black;
  display: block;
  font-family: "Courier New", Courier, monospace;
  padding: 5px;
  padding-right: 80px;
  white-space: pre-wrap;
}

div.media {
  border: 1px solid #e6e6e6;
  float: right;
  height: 240px;
  margin: 0 5px;
  overflow: hidden;
  width: 320px;
}

.media-container {
  display: grid;
  grid-template-columns: 25px auto 25px;
  align-items: center;
  flex: 1 1;
  overflow: hidden;
  height: 200px;
}

.media-container--fullscreen {
  grid-template-columns: 0px auto 0px;
}

.media-container__nav--right,
.media-container__nav--left {
  text-align: center;
  cursor: pointer;
}

.media-container__viewport {
  cursor: pointer;
  text-align: center;
  height: inherit;
}
.media-container__viewport img,
.media-container__viewport video {
  object-fit: cover;
  width: 100%;
  max-height: 100%;
}

.media__name,
.media__counter {
  display: flex;
  flex-direction: row;
  justify-content: space-around;
  flex: 0 0 25px;
  align-items: center;
}

.collapsible td:not(.col-links) {
  cursor: pointer;
}
.collapsible td:not(.col-links):hover::after {
  color: #bbb;
  font-style: italic;
  cursor: pointer;
}

.col-result {
  width: 130px;
}
.col-result:hover::after {
  content: " (hide details)";
}

.col-result.collapsed:hover::after {
  content: " (show details)";
}

#environment-header h2:hover::after {
  content: " (hide details)";
  color: #bbb;
  font-style: italic;
  cursor: pointer;
  font-size: 12px;
}

#environment-header.collapsed h2:hover::after {
  content: " (show details)";
  color: #bbb;
  font-style: italic;
  cursor: pointer;
  font-size: 12px;
}

/*------------------
 * 3. Sorting items
 *------------------*/
.sortable {
  cursor: pointer;
}
.sortable.desc:after {
  content: " ";
  position: relative;
  left: 5px;
  bottom: -12.5px;
  border: 10px solid #4caf50;
  border-bottom: 0;
  border-left-color: transparent;
  border-right-color: transparent;
}
.sortable.asc:after {
  content: " ";
  position: relative;
  left: 5px;
  bottom: 12.5px;
  border: 10px solid #4caf50;
  border-top: 0;
  border-left-color: transparent;
  border-right-color: transparent;
}

.hidden, .summary__reload__button.hidden {
  display: none;
}

.summary__data {
  flex: 0 0 550px;
}
.summary__reload {
  flex: 1 1;
  display: flex;
  justify-content: center;
}
.summary__reload__button {
  flex: 0 0 300px;
  display: flex;
  color: white;
  font-weight: bold;
  background-color: #4caf50;
  text-align: center;
  justify-content: center;
  align-items: center;
  border-radius: 3px;
  cursor: pointer;
}
.summary__reload__button:hover {
  background-color: #46a049;
}
.summary__spacer {
  flex: 0 0 550px;
}

.controls {
  display: flex;
  justify-content: space-between;
}

.filters,
.collapse {
  display: flex;
  align-items: center;
}
.filters button,
.collapse button {
  color: #999;
  border: none;
  background: none;
  cursor: pointer;
  text-decoration: underline;
}
.filters button:hover,
.collapse button:hover {
  color: #ccc;
}

.filter__label {
  margin-right: 10px;
}

      </style>
    
  </head>
  <body>
    <h1 id="title">report.html</h1>
    <p>Report generated on 21-Jun-2025 at 09:42:00 by <a href="https://pypi.python.org/pypi/pytest-html">pytest-html</a>
        v4.1.1</p>
    <div id="environment-header">
      <h2>Environment</h2>
    </div>
    <table id="environment"></table>
    <!-- TEMPLATES -->
      <template id="template_environment_row">
      <tr>
        <td></td>
        <td></td>
      </tr>
    </template>
    <template id="template_results-table__body--empty">
      <tbody class="results-table-row">
        <tr id="not-found-message">
          <td colspan="4">No results found. Check the filters.</th>
        </tr>
    </template>
    <template id="template_results-table__tbody">
      <tbody class="results-table-row">
        <tr class="collapsible">
        </tr>
        <tr class="extras-row">
          <td class="extra" colspan="4">
            <div class="extraHTML"></div>
            <div class="media">
              <div class="media-container">
                  <div class="media-container__nav--left"><</div>
                  <div class="media-container__viewport">
                    <img src="" />
                    <video controls>
                      <source src="" type="video/mp4">
                    </video>
                  </div>
                  <div class="media-container__nav--right">></div>
                </div>
                <div class="media__name"></div>
                <div class="media__counter"></div>
            </div>
            <div class="logwrapper">
              <div class="logexpander"></div>
              <div class="log"></div>
            </div>
          </td>
        </tr>
      </tbody>
    </template>
    <!-- END TEMPLATES -->
    <div class="summary">
      <div class="summary__data">
        <h2>Summary</h2>
        <div class="additional-summary prefix">
        </div>
        <p class="run-count">49 tests took 00:01:01.</p>
        <p class="filter">(Un)check the boxes to filter the results.</p>
        <div class="summary__reload">
          <div class="summary__reload__button hidden" onclick="location.reload()">
            <div>There are still tests running. <br />Reload this page to get the latest results!</div>
          </div>
        </div>
        <div class="summary__spacer"></div>
        <div class="controls">
          <div class="filters">
            <input checked="true" class="filter" name="filter_checkbox" type="checkbox" data-test-result="failed" />
            <span class="failed">40 Failed,</span>
            <input checked="true" class="filter" name="filter_checkbox" type="checkbox" data-test-result="passed" />
            <span class="passed">9 Passed,</span>
            <input checked="true" class="filter" name="filter_checkbox" type="checkbox" data-test-result="skipped" disabled/>
            <span class="skipped">0 Skipped,</span>
            <input checked="true" class="filter" name="filter_checkbox" type="checkbox" data-test-result="xfailed" disabled/>
            <span class="xfailed">0 Expected failures,</span>
            <input checked="true" class="filter" name="filter_checkbox" type="checkbox" data-test-result="xpassed" disabled/>
            <span class="xpassed">0 Unexpected passes,</span>
            <input checked="true" class="filter" name="filter_checkbox" type="checkbox" data-test-result="error" disabled/>
            <span class="error">0 Errors,</span>
            <input checked="true" class="filter" name="filter_checkbox" type="checkbox" data-test-result="rerun" disabled/>
            <span class="rerun">0 Reruns</span>
          </div>
          <div class="collapse">
            <button id="show_all_details">Show all details</button>&nbsp;/&nbsp;<button id="hide_all_details">Hide all details</button>
          </div>
        </div>
      </div>
      <div class="additional-summary summary">
      </div>
      <div class="additional-summary postfix">
      </div>
    </div>
    <table id="results-table">
      <thead id="results-table-head">
        <tr>
          <th class="sortable" data-column-type="result">Result</th>
          <th class="sortable" data-column-type="testId">Test</th>
          <th class="sortable" data-column-type="duration">Duration</th>
          <th>Links</th>
        </tr>
      </thead>
    </table>
  </body>
  <footer>
    <div id="data-container" data-jsonblob="{&#34;environment&#34;: {&#34;Python&#34;: &#34;3.11.2&#34;, &#34;Platform&#34;: &#34;macOS-15.5-arm64-arm-64bit&#34;, &#34;Packages&#34;: {&#34;pytest&#34;: &#34;8.4.1&#34;, &#34;pluggy&#34;: &#34;1.6.0&#34;}, &#34;Plugins&#34;: {&#34;sugar&#34;: &#34;1.0.0&#34;, &#34;html&#34;: &#34;4.1.1&#34;, &#34;metadata&#34;: &#34;3.1.1&#34;}}, &#34;tests&#34;: {&#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Empty First Name]&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Empty First Name]&#34;, &#34;duration&#34;: &#34;00:00:22&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Empty First Name]&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;00:00:22&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;------------------------------ Captured log setup ------------------------------\nINFO     root:conftest.py:32 Running tests in TEST environment\nINFO     root:conftest.py:47 Sensitive information will be logged in full\nINFO     root:conftest.py:56 Using existing registered user. username: DLVEY, password: ***\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/auth/login\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;42&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;username&amp;quot;: &amp;quot;DLVEY&amp;quot;,\n  &amp;quot;password&amp;quot;: &amp;quot;***&amp;quot;\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:40:59 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;x-api-key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;__cf_bm=LKd9AuBO1IyQASmkzQZgNz2lXlusINo3oqRU1t2itEc-1750524059-1.0.1.1-M.Ddwm7pttwPXAsrNEVsnRgjd4NE4xJErz2B2wqVCgHy.yagxzVhtlvsdpezpG7XNguUkzvSoI294dLkXc1yqb.f1d8tagUWy9egnm7H65k; path=/; expires=Sat, 21-Jun-25 17:10:59 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f369de423332-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;api_key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;expires_at&amp;quot;: &amp;quot;2025-06-21T16:41:59.575834185Z&amp;quot;\n}\nINFO     root:conftest.py:24 Logged in as existing user: DLVEY\n\n------------------------------ Captured log call -------------------------------\nINFO     root:conftest.py:13 Set bank account creation info for user: DLVEY, info: {&amp;#x27;first_name&amp;#x27;: &amp;#x27;&amp;#x27;, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe&amp;#x27;, &amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000}\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/accounts\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;X-API-KEY&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;94&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;first_name&amp;quot;: &amp;quot;&amp;quot;,\n  &amp;quot;last_name&amp;quot;: &amp;quot;Doe&amp;quot;,\n  &amp;quot;date_of_birth&amp;quot;: &amp;quot;1990-01-01&amp;quot;,\n  &amp;quot;initial_deposit&amp;quot;: 1000\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 400\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:09 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;JSESSIONID=713E5E2D69116CD39CB336476A957C71; Path=/; Secure; HttpOnly, __cf_bm=tn06i9X95UrbPFV16wkoSgIJf7yiKliu0cgH5AOomNI-1750524069-1.0.1.1-152mSB41Cl7MGF_MXSZUb2xdFmOhoFPI9PD8e7857.MDjO_5Cff89cky1mI28jKUfyzMza1xurLrADLqHzt_loLJXpu4rNdv_Z77xCnsxuU; path=/; expires=Sat, 21-Jun-25 17:11:09 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f3a89eaa7d2d-EVN&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;message&amp;quot;: &amp;quot;First name must contain alphabetical characters only&amp;quot;\n}\nDEBUG    charset_normalizer:api.py:461 Encoding detection: ascii is most likely the one.\n\n&#34;}], &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Over 50 Characters First Name]&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Over 50 Characters First Name]&#34;, &#34;duration&#34;: &#34;00:00:25&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Over 50 Characters First Name]&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;00:00:25&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;user_data = {&amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;, &amp;#x27;first_name&amp;#x27;: &amp;#x27;aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe&amp;#x27;}\nbank_account_client = &amp;lt;api_clients_and_models.bank_account_manager_api_client.BAMAPIClient object at 0x105d18990&amp;gt;\nget_registered_and_logged_in_user = User(username=&amp;#x27;DLVEY&amp;#x27;, password=&amp;#x27;ALVUV&amp;#x27;, token=&amp;#x27;2ab4b9da-a883-4079-acca-187aff53befd&amp;#x27;, id=96, bank_accounts={&amp;#x27;34&amp;#x27;: Ban...aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa&amp;#x27;, last_name=&amp;#x27;Doe&amp;#x27;, date_of_birth=&amp;#x27;1990-01-01&amp;#x27;, initial_deposit=1000))\nset_bank_account_creation_info_to_user = &amp;lt;function set_bank_account_creation_info_to_user.&amp;lt;locals&amp;gt;._set_info at 0x105d0fb00&amp;gt;\n\n    @pytest.mark.parametrize(&amp;quot;user_data&amp;quot;, invalid_bank_account_creation_info.values(), ids=invalid_bank_account_creation_info.keys())\n    def test_create_bank_account_with_invalid_data(user_data, bank_account_client, get_registered_and_logged_in_user,\n                                                   set_bank_account_creation_info_to_user):\n        user = get_registered_and_logged_in_user\n        # Set invalid bank account creation info\n        set_bank_account_creation_info_to_user(user=user, first_name=user_data[&amp;#x27;first_name&amp;#x27;], last_name=user_data[&amp;#x27;last_name&amp;#x27;],\n                                               initial_deposit=user_data[&amp;#x27;initial_deposit&amp;#x27;],\n                                               date_of_birth= user_data[&amp;#x27;date_of_birth&amp;#x27;])\n    \n        response = bank_account_client.create_bank_account(user=user)\n&amp;gt;       assert response.status_code == HTTPStatus.BAD_REQUEST, (\n            f&amp;quot;Expected 400 Bad Request, got {response.status_code} for user data: {user_data}&amp;quot;\n        )\nE       AssertionError: Expected 400 Bad Request, got 411 for user data: {&amp;#x27;first_name&amp;#x27;: &amp;#x27;aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa&amp;#x27;, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000, &amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;}\nE       assert 411 == &amp;lt;HTTPStatus.BAD_REQUEST: 400&amp;gt;\nE        +  where 411 = &amp;lt;Response [411]&amp;gt;.status_code\nE        +  and   &amp;lt;HTTPStatus.BAD_REQUEST: 400&amp;gt; = HTTPStatus.BAD_REQUEST\n\nbank_account_creation_test.py:63: AssertionError\n\n------------------------------ Captured log setup ------------------------------\nINFO     root:conftest.py:56 Using existing registered user. username: DLVEY, password: ***\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/auth/login\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;42&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;username&amp;quot;: &amp;quot;DLVEY&amp;quot;,\n  &amp;quot;password&amp;quot;: &amp;quot;***&amp;quot;\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:21 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;x-api-key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;__cf_bm=5pGZAGL0Lla39vM0X27PGcQ2b89mDSh8R86GocTHgfU-1750524081-1.0.1.1-bCf_Oah1_tmTITPgkWHNEOcoYI3QInu4ctxsPfBGQfusH2IUCj7kjncgeOtPuaZhfk2wwZQn6XG8nNTzpnLeXD7Wfsv8netdTVte.cqpKU8; path=/; expires=Sat, 21-Jun-25 17:11:21 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f3f26bcf334a-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;api_key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;expires_at&amp;quot;: &amp;quot;2025-06-21T16:42:21.367622301Z&amp;quot;\n}\nINFO     root:conftest.py:24 Logged in as existing user: DLVEY\n\n------------------------------ Captured log call -------------------------------\nINFO     root:conftest.py:13 Set bank account creation info for user: DLVEY, info: {&amp;#x27;first_name&amp;#x27;: &amp;#x27;aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa&amp;#x27;, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe&amp;#x27;, &amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000}\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/accounts\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;X-API-KEY&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;144&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;first_name&amp;quot;: &amp;quot;aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa&amp;quot;,\n  &amp;quot;last_name&amp;quot;: &amp;quot;Doe&amp;quot;,\n  &amp;quot;date_of_birth&amp;quot;: &amp;quot;1990-01-01&amp;quot;,\n  &amp;quot;initial_deposit&amp;quot;: 1000\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 411\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:41 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;JSESSIONID=D421B1198AA5A570D2950E9660E61E87; Path=/; Secure; HttpOnly, __cf_bm=qGrxuaeCRrrct.kdORC6RnnaP9PTbHEn9DfOJZNkrS8-1750524101-1.0.1.1-Yt1Imt49orCrom97fR9h49DYQ79LvRwq8wJ.T867wOM5yrzVxS2e0Qt41KOT4JdIXXtcrB5x0IcXYoI9jKOwOCB0V3fcUNmCfhOvzR7qAvg; path=/; expires=Sat, 21-Jun-25 17:11:41 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f473f9977d29-EVN&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;message&amp;quot;: &amp;quot;Full name must be less than 50 characters&amp;quot;\n}\n\n&#34;}], &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Over 50 Characters First Name with Spaces]&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Over 50 Characters First Name with Spaces]&#34;, &#34;duration&#34;: &#34;521 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Over 50 Characters First Name with Spaces]&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;521 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;user_data = {&amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;, &amp;#x27;first_name&amp;#x27;: &amp;#x27;aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa &amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe&amp;#x27;}\nbank_account_client = &amp;lt;api_clients_and_models.bank_account_manager_api_client.BAMAPIClient object at 0x105d18990&amp;gt;\nget_registered_and_logged_in_user = User(username=&amp;#x27;HR5OM&amp;#x27;, password=&amp;#x27;CX1M7&amp;#x27;, token=&amp;#x27;30fb4581-876d-4849-aa45-f29d7c9297b4&amp;#x27;, id=130, bank_accounts={}, bank_...aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa &amp;#x27;, last_name=&amp;#x27;Doe&amp;#x27;, date_of_birth=&amp;#x27;1990-01-01&amp;#x27;, initial_deposit=1000))\nset_bank_account_creation_info_to_user = &amp;lt;function set_bank_account_creation_info_to_user.&amp;lt;locals&amp;gt;._set_info at 0x105d89760&amp;gt;\n\n    @pytest.mark.parametrize(&amp;quot;user_data&amp;quot;, invalid_bank_account_creation_info.values(), ids=invalid_bank_account_creation_info.keys())\n    def test_create_bank_account_with_invalid_data(user_data, bank_account_client, get_registered_and_logged_in_user,\n                                                   set_bank_account_creation_info_to_user):\n        user = get_registered_and_logged_in_user\n        # Set invalid bank account creation info\n        set_bank_account_creation_info_to_user(user=user, first_name=user_data[&amp;#x27;first_name&amp;#x27;], last_name=user_data[&amp;#x27;last_name&amp;#x27;],\n                                               initial_deposit=user_data[&amp;#x27;initial_deposit&amp;#x27;],\n                                               date_of_birth= user_data[&amp;#x27;date_of_birth&amp;#x27;])\n    \n        response = bank_account_client.create_bank_account(user=user)\n&amp;gt;       assert response.status_code == HTTPStatus.BAD_REQUEST, (\n            f&amp;quot;Expected 400 Bad Request, got {response.status_code} for user data: {user_data}&amp;quot;\n        )\nE       AssertionError: Expected 400 Bad Request, got 411 for user data: {&amp;#x27;first_name&amp;#x27;: &amp;#x27;aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa &amp;#x27;, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000, &amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;}\nE       assert 411 == &amp;lt;HTTPStatus.BAD_REQUEST: 400&amp;gt;\nE        +  where 411 = &amp;lt;Response [411]&amp;gt;.status_code\nE        +  and   &amp;lt;HTTPStatus.BAD_REQUEST: 400&amp;gt; = HTTPStatus.BAD_REQUEST\n\nbank_account_creation_test.py:63: AssertionError\n\n------------------------------ Captured log setup ------------------------------\nINFO     root:conftest.py:56 Using existing registered user. username: HR5OM, password: ***\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/auth/login\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;42&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;username&amp;quot;: &amp;quot;HR5OM&amp;quot;,\n  &amp;quot;password&amp;quot;: &amp;quot;***&amp;quot;\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:46 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;x-api-key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;__cf_bm=m6TANO1Ahhv2pRFQ0FfiQLzatET2SIb.TOQ1Pj_JBCg-1750524106-1.0.1.1-XliQZGqzDR537H5lApY0Mi3IdNj5drgsgjX5VcnrgeVqwILXlrlTw5wOokfsRwmLZgWMFHkOTfFBMajEg14mg3KSluhdok5lYKVKlJcRxCA; path=/; expires=Sat, 21-Jun-25 17:11:46 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f48d0bc17d21-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;api_key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;expires_at&amp;quot;: &amp;quot;2025-06-21T16:42:46.065230413Z&amp;quot;\n}\nINFO     root:conftest.py:24 Logged in as existing user: HR5OM\n\n------------------------------ Captured log call -------------------------------\nINFO     root:conftest.py:13 Set bank account creation info for user: HR5OM, info: {&amp;#x27;first_name&amp;#x27;: &amp;#x27;aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa &amp;#x27;, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe&amp;#x27;, &amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000}\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/accounts\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;X-API-KEY&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;144&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;first_name&amp;quot;: &amp;quot;aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa &amp;quot;,\n  &amp;quot;last_name&amp;quot;: &amp;quot;Doe&amp;quot;,\n  &amp;quot;date_of_birth&amp;quot;: &amp;quot;1990-01-01&amp;quot;,\n  &amp;quot;initial_deposit&amp;quot;: 1000\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 411\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:46 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;JSESSIONID=BFB9EAE554B4C4900D1810B1F090CA54; Path=/; Secure; HttpOnly, __cf_bm=tigONDeH4m2RdMeiQBiV1PgEst4t6h0qax7Y2pi4blw-1750524106-1.0.1.1-nYkkfpDNEw.fRqR.fExezpgO5hbq5gzebo6c0_yap3RMjT.y_y4tC4QOA.1bnW01PU6asmw0Ccd.xiLj1CrgxuSycBVxnCvOsjxg8NSm6rs; path=/; expires=Sat, 21-Jun-25 17:11:46 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f48f681d7d39-EVN&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;message&amp;quot;: &amp;quot;Full name must be less than 50 characters&amp;quot;\n}\n\n&#34;}], &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Over 50 characters First Name with Last Name]&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Over 50 characters First Name with Last Name]&#34;, &#34;duration&#34;: &#34;337 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Over 50 characters First Name with Last Name]&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;337 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;user_data = {&amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;, &amp;#x27;first_name&amp;#x27;: &amp;#x27;aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Smith&amp;#x27;}\nbank_account_client = &amp;lt;api_clients_and_models.bank_account_manager_api_client.BAMAPIClient object at 0x105d18990&amp;gt;\nget_registered_and_logged_in_user = User(username=&amp;#x27;DLVEY&amp;#x27;, password=&amp;#x27;ALVUV&amp;#x27;, token=&amp;#x27;4db49dc6-bedb-4f50-a5d9-228da5b47ab1&amp;#x27;, id=96, bank_accounts={&amp;#x27;34&amp;#x27;: Ban...aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa&amp;#x27;, last_name=&amp;#x27;Smith&amp;#x27;, date_of_birth=&amp;#x27;1990-01-01&amp;#x27;, initial_deposit=1000))\nset_bank_account_creation_info_to_user = &amp;lt;function set_bank_account_creation_info_to_user.&amp;lt;locals&amp;gt;._set_info at 0x105d0c680&amp;gt;\n\n    @pytest.mark.parametrize(&amp;quot;user_data&amp;quot;, invalid_bank_account_creation_info.values(), ids=invalid_bank_account_creation_info.keys())\n    def test_create_bank_account_with_invalid_data(user_data, bank_account_client, get_registered_and_logged_in_user,\n                                                   set_bank_account_creation_info_to_user):\n        user = get_registered_and_logged_in_user\n        # Set invalid bank account creation info\n        set_bank_account_creation_info_to_user(user=user, first_name=user_data[&amp;#x27;first_name&amp;#x27;], last_name=user_data[&amp;#x27;last_name&amp;#x27;],\n                                               initial_deposit=user_data[&amp;#x27;initial_deposit&amp;#x27;],\n                                               date_of_birth= user_data[&amp;#x27;date_of_birth&amp;#x27;])\n    \n        response = bank_account_client.create_bank_account(user=user)\n&amp;gt;       assert response.status_code == HTTPStatus.BAD_REQUEST, (\n            f&amp;quot;Expected 400 Bad Request, got {response.status_code} for user data: {user_data}&amp;quot;\n        )\nE       AssertionError: Expected 400 Bad Request, got 411 for user data: {&amp;#x27;first_name&amp;#x27;: &amp;#x27;aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa&amp;#x27;, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Smith&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000, &amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;}\nE       assert 411 == &amp;lt;HTTPStatus.BAD_REQUEST: 400&amp;gt;\nE        +  where 411 = &amp;lt;Response [411]&amp;gt;.status_code\nE        +  and   &amp;lt;HTTPStatus.BAD_REQUEST: 400&amp;gt; = HTTPStatus.BAD_REQUEST\n\nbank_account_creation_test.py:63: AssertionError\n\n------------------------------ Captured log setup ------------------------------\nINFO     root:conftest.py:56 Using existing registered user. username: DLVEY, password: ***\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/auth/login\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;42&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;username&amp;quot;: &amp;quot;DLVEY&amp;quot;,\n  &amp;quot;password&amp;quot;: &amp;quot;***&amp;quot;\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:46 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;x-api-key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;__cf_bm=lnbDyI9mLs1oMa.VkIXkl62x5YC.uREE9bYxWwgQutk-1750524106-1.0.1.1-j0a0rxmgQsgAy6b.Z0wEhJIaz4CsDTSbztTW.7WSLgEBJQaG3OBUNIqh31Ifza.GTZAv4vyefoG3rKda9PHGC7221A6ebywH.O430kKJD3I; path=/; expires=Sat, 21-Jun-25 17:11:46 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f490587b32ea-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;api_key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;expires_at&amp;quot;: &amp;quot;2025-06-21T16:42:46.424533321Z&amp;quot;\n}\nINFO     root:conftest.py:24 Logged in as existing user: DLVEY\n\n------------------------------ Captured log call -------------------------------\nINFO     root:conftest.py:13 Set bank account creation info for user: DLVEY, info: {&amp;#x27;first_name&amp;#x27;: &amp;#x27;aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa&amp;#x27;, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Smith&amp;#x27;, &amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000}\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/accounts\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;X-API-KEY&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;143&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;first_name&amp;quot;: &amp;quot;aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa&amp;quot;,\n  &amp;quot;last_name&amp;quot;: &amp;quot;Smith&amp;quot;,\n  &amp;quot;date_of_birth&amp;quot;: &amp;quot;1990-01-01&amp;quot;,\n  &amp;quot;initial_deposit&amp;quot;: 1000\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 411\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:46 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;JSESSIONID=15F11CFC78F8EA084A0F1BB869B9BC6A; Path=/; Secure; HttpOnly, __cf_bm=8IHOhkmnSru4yJ9Ybn3XTAF3OGpIqINezQv82F3RTAg-1750524106-1.0.1.1-i2p.7pAfDMklOlg_qmBdrJjgEllkNOr99bkz8ho5lxJ4Ab3DhxlR3frHs_CFaIbNURGVGR_A9VWqw84RHk8wIS2qGjRqHeCWwFqZZvZizP4; path=/; expires=Sat, 21-Jun-25 17:11:46 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f491990d7d39-EVN&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;message&amp;quot;: &amp;quot;Full name must be less than 50 characters&amp;quot;\n}\n\n&#34;}], &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Spaces for First Name]&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Spaces for First Name]&#34;, &#34;duration&#34;: &#34;353 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Spaces for First Name]&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;353 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;user_data = {&amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;, &amp;#x27;first_name&amp;#x27;: &amp;#x27;     &amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe&amp;#x27;}\nbank_account_client = &amp;lt;api_clients_and_models.bank_account_manager_api_client.BAMAPIClient object at 0x105d18990&amp;gt;\nget_registered_and_logged_in_user = User(username=&amp;#x27;F6B0C&amp;#x27;, password=&amp;#x27;5DV6J&amp;#x27;, token=&amp;#x27;f37fee95-8707-42b7-a1bf-fc811c0b9cdc&amp;#x27;, id=123, bank_accounts={}, bank_...fo=BankAccountCreationInfoModel(first_name=&amp;#x27;     &amp;#x27;, last_name=&amp;#x27;Doe&amp;#x27;, date_of_birth=&amp;#x27;1990-01-01&amp;#x27;, initial_deposit=1000))\nset_bank_account_creation_info_to_user = &amp;lt;function set_bank_account_creation_info_to_user.&amp;lt;locals&amp;gt;._set_info at 0x105d0f240&amp;gt;\n\n    @pytest.mark.parametrize(&amp;quot;user_data&amp;quot;, invalid_bank_account_creation_info.values(), ids=invalid_bank_account_creation_info.keys())\n    def test_create_bank_account_with_invalid_data(user_data, bank_account_client, get_registered_and_logged_in_user,\n                                                   set_bank_account_creation_info_to_user):\n        user = get_registered_and_logged_in_user\n        # Set invalid bank account creation info\n        set_bank_account_creation_info_to_user(user=user, first_name=user_data[&amp;#x27;first_name&amp;#x27;], last_name=user_data[&amp;#x27;last_name&amp;#x27;],\n                                               initial_deposit=user_data[&amp;#x27;initial_deposit&amp;#x27;],\n                                               date_of_birth= user_data[&amp;#x27;date_of_birth&amp;#x27;])\n    \n        response = bank_account_client.create_bank_account(user=user)\n&amp;gt;       assert response.status_code == HTTPStatus.BAD_REQUEST, (\n            f&amp;quot;Expected 400 Bad Request, got {response.status_code} for user data: {user_data}&amp;quot;\n        )\nE       AssertionError: Expected 400 Bad Request, got 200 for user data: {&amp;#x27;first_name&amp;#x27;: &amp;#x27;     &amp;#x27;, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000, &amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;}\nE       assert 200 == &amp;lt;HTTPStatus.BAD_REQUEST: 400&amp;gt;\nE        +  where 200 = &amp;lt;Response [200]&amp;gt;.status_code\nE        +  and   &amp;lt;HTTPStatus.BAD_REQUEST: 400&amp;gt; = HTTPStatus.BAD_REQUEST\n\nbank_account_creation_test.py:63: AssertionError\n\n------------------------------ Captured log setup ------------------------------\nINFO     root:conftest.py:56 Using existing registered user. username: F6B0C, password: ***\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/auth/login\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;42&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;username&amp;quot;: &amp;quot;F6B0C&amp;quot;,\n  &amp;quot;password&amp;quot;: &amp;quot;***&amp;quot;\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:46 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;x-api-key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;__cf_bm=MD1fFsrHvjkRcOPMixRz1_wD4L_H973KohAsRGacOX0-1750524106-1.0.1.1-na0L3MJZrzl6EneWEOIeELPipjJAuRnS5yk3X_8Ws36nuRt6TxNTAhkyXICSGXu8.qsiimDFcqSxcedPVm6yccY6bhjUY0JayNRtmQk..b8; path=/; expires=Sat, 21-Jun-25 17:11:46 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f4929c9c331a-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;api_key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;expires_at&amp;quot;: &amp;quot;2025-06-21T16:42:46.777459174Z&amp;quot;\n}\nINFO     root:conftest.py:24 Logged in as existing user: F6B0C\n\n------------------------------ Captured log call -------------------------------\nINFO     root:conftest.py:13 Set bank account creation info for user: F6B0C, info: {&amp;#x27;first_name&amp;#x27;: &amp;#x27;     &amp;#x27;, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe&amp;#x27;, &amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000}\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/accounts\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;X-API-KEY&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;99&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;first_name&amp;quot;: &amp;quot;     &amp;quot;,\n  &amp;quot;last_name&amp;quot;: &amp;quot;Doe&amp;quot;,\n  &amp;quot;date_of_birth&amp;quot;: &amp;quot;1990-01-01&amp;quot;,\n  &amp;quot;initial_deposit&amp;quot;: 1000\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:46 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;JSESSIONID=05502E33BBA474129EF7DB6A92D1D30C; Path=/; Secure; HttpOnly, __cf_bm=vGRe4wtZyvKHpBn1bJ1trVw.s4txUlpd77.rm.ScEQU-1750524106-1.0.1.1-haiD_aLV291._lOppchz__2HcthZ93KcFxRWS7Ud3ft97BDhDJu6x1k_WeX7g7prC1Rhx8iQsb2wrGfLKKfcA15INuRZsZcmkDH8wvI6m3Y; path=/; expires=Sat, 21-Jun-25 17:11:46 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f493ee423362-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;id&amp;quot;: 103,\n  &amp;quot;first_name&amp;quot;: &amp;quot;     &amp;quot;,\n  &amp;quot;last_name&amp;quot;: &amp;quot;Doe&amp;quot;,\n  &amp;quot;date_of_birth&amp;quot;: &amp;quot;1990-01-01&amp;quot;,\n  &amp;quot;initial_deposit&amp;quot;: 999.99,\n  &amp;quot;full_name&amp;quot;: &amp;quot;      Doe&amp;quot;,\n  &amp;quot;iban_issuance_status&amp;quot;: &amp;quot;REQUESTED&amp;quot;,\n  &amp;quot;iban&amp;quot;: null,\n  &amp;quot;created_at&amp;quot;: &amp;quot;2025-06-21T16:41:46.916517848&amp;quot;,\n  &amp;quot;updated_at&amp;quot;: &amp;quot;2025-06-21T16:41:46.916517848&amp;quot;\n}\n\n&#34;}], &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Double First Name]&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Double First Name]&#34;, &#34;duration&#34;: &#34;347 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Double First Name]&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;347 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;user_data = {&amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;, &amp;#x27;first_name&amp;#x27;: &amp;#x27;John Martin&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe&amp;#x27;}\nbank_account_client = &amp;lt;api_clients_and_models.bank_account_manager_api_client.BAMAPIClient object at 0x105d18990&amp;gt;\nget_registered_and_logged_in_user = User(username=&amp;#x27;Z9JZO&amp;#x27;, password=&amp;#x27;R8Z6C&amp;#x27;, token=&amp;#x27;43072e25-1fed-4830-824c-98b484bab5d0&amp;#x27;, id=128, bank_accounts={}, bank_...kAccountCreationInfoModel(first_name=&amp;#x27;John Martin&amp;#x27;, last_name=&amp;#x27;Doe&amp;#x27;, date_of_birth=&amp;#x27;1990-01-01&amp;#x27;, initial_deposit=1000))\nset_bank_account_creation_info_to_user = &amp;lt;function set_bank_account_creation_info_to_user.&amp;lt;locals&amp;gt;._set_info at 0x105d0e340&amp;gt;\n\n    @pytest.mark.parametrize(&amp;quot;user_data&amp;quot;, invalid_bank_account_creation_info.values(), ids=invalid_bank_account_creation_info.keys())\n    def test_create_bank_account_with_invalid_data(user_data, bank_account_client, get_registered_and_logged_in_user,\n                                                   set_bank_account_creation_info_to_user):\n        user = get_registered_and_logged_in_user\n        # Set invalid bank account creation info\n        set_bank_account_creation_info_to_user(user=user, first_name=user_data[&amp;#x27;first_name&amp;#x27;], last_name=user_data[&amp;#x27;last_name&amp;#x27;],\n                                               initial_deposit=user_data[&amp;#x27;initial_deposit&amp;#x27;],\n                                               date_of_birth= user_data[&amp;#x27;date_of_birth&amp;#x27;])\n    \n        response = bank_account_client.create_bank_account(user=user)\n&amp;gt;       assert response.status_code == HTTPStatus.BAD_REQUEST, (\n            f&amp;quot;Expected 400 Bad Request, got {response.status_code} for user data: {user_data}&amp;quot;\n        )\nE       AssertionError: Expected 400 Bad Request, got 200 for user data: {&amp;#x27;first_name&amp;#x27;: &amp;#x27;John Martin&amp;#x27;, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000, &amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;}\nE       assert 200 == &amp;lt;HTTPStatus.BAD_REQUEST: 400&amp;gt;\nE        +  where 200 = &amp;lt;Response [200]&amp;gt;.status_code\nE        +  and   &amp;lt;HTTPStatus.BAD_REQUEST: 400&amp;gt; = HTTPStatus.BAD_REQUEST\n\nbank_account_creation_test.py:63: AssertionError\n\n------------------------------ Captured log setup ------------------------------\nINFO     root:conftest.py:56 Using existing registered user. username: Z9JZO, password: ***\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/auth/login\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;42&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;username&amp;quot;: &amp;quot;Z9JZO&amp;quot;,\n  &amp;quot;password&amp;quot;: &amp;quot;***&amp;quot;\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:47 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;x-api-key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;__cf_bm=.hclDIQwuy7INffpMRAP6AJrDtnxpSO01ckwqTzFB24-1750524107-1.0.1.1-np7Jltl0.LWy6w5Jxqf40f6kgUBQ2..RNcaYY6E_bVA9ZH1IUH.BYObyDfi3zbrPvEAG0QMbcoyxaXXvecNgrFQng1tnuZ16KQ543hhS80U; path=/; expires=Sat, 21-Jun-25 17:11:47 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f4951d4d7d29-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;api_key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;expires_at&amp;quot;: &amp;quot;2025-06-21T16:42:47.178716215Z&amp;quot;\n}\nINFO     root:conftest.py:24 Logged in as existing user: Z9JZO\n\n------------------------------ Captured log call -------------------------------\nINFO     root:conftest.py:13 Set bank account creation info for user: Z9JZO, info: {&amp;#x27;first_name&amp;#x27;: &amp;#x27;John Martin&amp;#x27;, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe&amp;#x27;, &amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000}\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/accounts\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;X-API-KEY&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;105&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;first_name&amp;quot;: &amp;quot;John Martin&amp;quot;,\n  &amp;quot;last_name&amp;quot;: &amp;quot;Doe&amp;quot;,\n  &amp;quot;date_of_birth&amp;quot;: &amp;quot;1990-01-01&amp;quot;,\n  &amp;quot;initial_deposit&amp;quot;: 1000\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:47 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;JSESSIONID=B3318AA159575836E07EA5FC18E2E992; Path=/; Secure; HttpOnly, __cf_bm=1H0D0Kdn8VAb0rI0e99x95zcsWlHjp_7.jM6VdtQilY-1750524107-1.0.1.1-8xDr.UYRDRHjyJWnVG86a1vG8MnMeX26yd7JVcm336mT2OhEyotN9xvaaOZcu3QDbLxWy14Y6WIcH.k16lt3crBdo7VH859V9t7IZ.7UXrs; path=/; expires=Sat, 21-Jun-25 17:11:47 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f496692a32f6-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;id&amp;quot;: 104,\n  &amp;quot;first_name&amp;quot;: &amp;quot;John Martin&amp;quot;,\n  &amp;quot;last_name&amp;quot;: &amp;quot;Doe&amp;quot;,\n  &amp;quot;date_of_birth&amp;quot;: &amp;quot;1990-01-01&amp;quot;,\n  &amp;quot;initial_deposit&amp;quot;: 999.99,\n  &amp;quot;full_name&amp;quot;: &amp;quot;John Martin Doe&amp;quot;,\n  &amp;quot;iban_issuance_status&amp;quot;: &amp;quot;REQUESTED&amp;quot;,\n  &amp;quot;iban&amp;quot;: null,\n  &amp;quot;created_at&amp;quot;: &amp;quot;2025-06-21T16:41:47.320062875&amp;quot;,\n  &amp;quot;updated_at&amp;quot;: &amp;quot;2025-06-21T16:41:47.320062875&amp;quot;\n}\n\n&#34;}], &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[First Name with Extra Spaces]&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[First Name with Extra Spaces]&#34;, &#34;duration&#34;: &#34;398 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[First Name with Extra Spaces]&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;398 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;user_data = {&amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;, &amp;#x27;first_name&amp;#x27;: &amp;#x27;John   &amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe&amp;#x27;}\nbank_account_client = &amp;lt;api_clients_and_models.bank_account_manager_api_client.BAMAPIClient object at 0x105d18990&amp;gt;\nget_registered_and_logged_in_user = User(username=&amp;#x27;U5CPY&amp;#x27;, password=&amp;#x27;Y2XE5&amp;#x27;, token=&amp;#x27;afae1001-4efd-45d1-81b4-a5c0424bf37f&amp;#x27;, id=116, bank_accounts={}, bank_...=BankAccountCreationInfoModel(first_name=&amp;#x27;John   &amp;#x27;, last_name=&amp;#x27;Doe&amp;#x27;, date_of_birth=&amp;#x27;1990-01-01&amp;#x27;, initial_deposit=1000))\nset_bank_account_creation_info_to_user = &amp;lt;function set_bank_account_creation_info_to_user.&amp;lt;locals&amp;gt;._set_info at 0x105d0f6a0&amp;gt;\n\n    @pytest.mark.parametrize(&amp;quot;user_data&amp;quot;, invalid_bank_account_creation_info.values(), ids=invalid_bank_account_creation_info.keys())\n    def test_create_bank_account_with_invalid_data(user_data, bank_account_client, get_registered_and_logged_in_user,\n                                                   set_bank_account_creation_info_to_user):\n        user = get_registered_and_logged_in_user\n        # Set invalid bank account creation info\n        set_bank_account_creation_info_to_user(user=user, first_name=user_data[&amp;#x27;first_name&amp;#x27;], last_name=user_data[&amp;#x27;last_name&amp;#x27;],\n                                               initial_deposit=user_data[&amp;#x27;initial_deposit&amp;#x27;],\n                                               date_of_birth= user_data[&amp;#x27;date_of_birth&amp;#x27;])\n    \n        response = bank_account_client.create_bank_account(user=user)\n&amp;gt;       assert response.status_code == HTTPStatus.BAD_REQUEST, (\n            f&amp;quot;Expected 400 Bad Request, got {response.status_code} for user data: {user_data}&amp;quot;\n        )\nE       AssertionError: Expected 400 Bad Request, got 200 for user data: {&amp;#x27;first_name&amp;#x27;: &amp;#x27;John   &amp;#x27;, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000, &amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;}\nE       assert 200 == &amp;lt;HTTPStatus.BAD_REQUEST: 400&amp;gt;\nE        +  where 200 = &amp;lt;Response [200]&amp;gt;.status_code\nE        +  and   &amp;lt;HTTPStatus.BAD_REQUEST: 400&amp;gt; = HTTPStatus.BAD_REQUEST\n\nbank_account_creation_test.py:63: AssertionError\n\n------------------------------ Captured log setup ------------------------------\nINFO     root:conftest.py:56 Using existing registered user. username: U5CPY, password: ***\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/auth/login\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;42&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;username&amp;quot;: &amp;quot;U5CPY&amp;quot;,\n  &amp;quot;password&amp;quot;: &amp;quot;***&amp;quot;\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:47 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;x-api-key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;__cf_bm=w.hlTfMR4KTCsDwpnC3HtckbKtKyzPT3pKgBJPvj21k-1750524107-1.0.1.1-ENSYRpu82Ld2J1T944Y3g5F_PnHMp6O0b5HJMbF_RT5eWD.GG2zrUJfWdAk_CW1Qj4ujKa4frz.jUnn.gsHE3afTZQp88FIZTrCitbEsKjk; path=/; expires=Sat, 21-Jun-25 17:11:47 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f4975d3332de-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;api_key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;expires_at&amp;quot;: &amp;quot;2025-06-21T16:42:47.545265361Z&amp;quot;\n}\nINFO     root:conftest.py:24 Logged in as existing user: U5CPY\n\n------------------------------ Captured log call -------------------------------\nINFO     root:conftest.py:13 Set bank account creation info for user: U5CPY, info: {&amp;#x27;first_name&amp;#x27;: &amp;#x27;John   &amp;#x27;, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe&amp;#x27;, &amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000}\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/accounts\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;X-API-KEY&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;101&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;first_name&amp;quot;: &amp;quot;John   &amp;quot;,\n  &amp;quot;last_name&amp;quot;: &amp;quot;Doe&amp;quot;,\n  &amp;quot;date_of_birth&amp;quot;: &amp;quot;1990-01-01&amp;quot;,\n  &amp;quot;initial_deposit&amp;quot;: 1000\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:47 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;JSESSIONID=60434FACBA0AE8A2EA0D32A3E3005F35; Path=/; Secure; HttpOnly, __cf_bm=tmLoqbY9pb0Y30mkU3D8iXDUaDiAv5sesE7y6URXNtk-1750524107-1.0.1.1-sJGSPTm8BBK7HxAIDKwzcOujaQcKWq_mHdtPYxqFAi2lRDGn6BmPuoseGvnoKlhEnQvpDhP2_AGtztbZNFToLk0FTUhGCiCpqUkXAdBkZGA; path=/; expires=Sat, 21-Jun-25 17:11:47 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f498eb627d2d-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;id&amp;quot;: 105,\n  &amp;quot;first_name&amp;quot;: &amp;quot;John   &amp;quot;,\n  &amp;quot;last_name&amp;quot;: &amp;quot;Doe&amp;quot;,\n  &amp;quot;date_of_birth&amp;quot;: &amp;quot;1990-01-01&amp;quot;,\n  &amp;quot;initial_deposit&amp;quot;: 999.99,\n  &amp;quot;full_name&amp;quot;: &amp;quot;John    Doe&amp;quot;,\n  &amp;quot;iban_issuance_status&amp;quot;: &amp;quot;REQUESTED&amp;quot;,\n  &amp;quot;iban&amp;quot;: null,\n  &amp;quot;created_at&amp;quot;: &amp;quot;2025-06-21T16:41:47.724815307&amp;quot;,\n  &amp;quot;updated_at&amp;quot;: &amp;quot;2025-06-21T16:41:47.724815307&amp;quot;\n}\n\n&#34;}], &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Numeric First Name]&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Numeric First Name]&#34;, &#34;duration&#34;: &#34;337 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Numeric First Name]&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;337 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;user_data = {&amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;, &amp;#x27;first_name&amp;#x27;: &amp;#x27;12345&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe&amp;#x27;}\nbank_account_client = &amp;lt;api_clients_and_models.bank_account_manager_api_client.BAMAPIClient object at 0x105d18990&amp;gt;\nget_registered_and_logged_in_user = User(username=&amp;#x27;YG65E&amp;#x27;, password=&amp;#x27;3EHM1&amp;#x27;, token=&amp;#x27;464e31c5-aff9-443a-bee3-6a8338edcf28&amp;#x27;, id=124, bank_accounts={&amp;#x27;94&amp;#x27;: Ba...fo=BankAccountCreationInfoModel(first_name=&amp;#x27;12345&amp;#x27;, last_name=&amp;#x27;Doe&amp;#x27;, date_of_birth=&amp;#x27;1990-01-01&amp;#x27;, initial_deposit=1000))\nset_bank_account_creation_info_to_user = &amp;lt;function set_bank_account_creation_info_to_user.&amp;lt;locals&amp;gt;._set_info at 0x104d03880&amp;gt;\n\n    @pytest.mark.parametrize(&amp;quot;user_data&amp;quot;, invalid_bank_account_creation_info.values(), ids=invalid_bank_account_creation_info.keys())\n    def test_create_bank_account_with_invalid_data(user_data, bank_account_client, get_registered_and_logged_in_user,\n                                                   set_bank_account_creation_info_to_user):\n        user = get_registered_and_logged_in_user\n        # Set invalid bank account creation info\n        set_bank_account_creation_info_to_user(user=user, first_name=user_data[&amp;#x27;first_name&amp;#x27;], last_name=user_data[&amp;#x27;last_name&amp;#x27;],\n                                               initial_deposit=user_data[&amp;#x27;initial_deposit&amp;#x27;],\n                                               date_of_birth= user_data[&amp;#x27;date_of_birth&amp;#x27;])\n    \n        response = bank_account_client.create_bank_account(user=user)\n&amp;gt;       assert response.status_code == HTTPStatus.BAD_REQUEST, (\n            f&amp;quot;Expected 400 Bad Request, got {response.status_code} for user data: {user_data}&amp;quot;\n        )\nE       AssertionError: Expected 400 Bad Request, got 200 for user data: {&amp;#x27;first_name&amp;#x27;: &amp;#x27;12345&amp;#x27;, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000, &amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;}\nE       assert 200 == &amp;lt;HTTPStatus.BAD_REQUEST: 400&amp;gt;\nE        +  where 200 = &amp;lt;Response [200]&amp;gt;.status_code\nE        +  and   &amp;lt;HTTPStatus.BAD_REQUEST: 400&amp;gt; = HTTPStatus.BAD_REQUEST\n\nbank_account_creation_test.py:63: AssertionError\n\n------------------------------ Captured log setup ------------------------------\nINFO     root:conftest.py:56 Using existing registered user. username: YG65E, password: ***\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/auth/login\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;42&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;username&amp;quot;: &amp;quot;YG65E&amp;quot;,\n  &amp;quot;password&amp;quot;: &amp;quot;***&amp;quot;\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:47 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;x-api-key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;__cf_bm=Qj9mIyVC9wbGiMzQBQTAvmw_WS8Hzud_5EZrDZaPymE-1750524107-1.0.1.1-jVWcBpC2Sw05WFpIQOaaE8.JaP4wAlj2V9IB9MnEbvbH0KHJ0L5fw7jpIKxQlzBMqkGbyebqVOnWhU59gsBFRIZ1cX4jlL2EB1qVFV5Sci4; path=/; expires=Sat, 21-Jun-25 17:11:47 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f499ebb77d2d-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;api_key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;expires_at&amp;quot;: &amp;quot;2025-06-21T16:42:47.946445903Z&amp;quot;\n}\nINFO     root:conftest.py:24 Logged in as existing user: YG65E\n\n------------------------------ Captured log call -------------------------------\nINFO     root:conftest.py:13 Set bank account creation info for user: YG65E, info: {&amp;#x27;first_name&amp;#x27;: &amp;#x27;12345&amp;#x27;, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe&amp;#x27;, &amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000}\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/accounts\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;X-API-KEY&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;99&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;first_name&amp;quot;: &amp;quot;12345&amp;quot;,\n  &amp;quot;last_name&amp;quot;: &amp;quot;Doe&amp;quot;,\n  &amp;quot;date_of_birth&amp;quot;: &amp;quot;1990-01-01&amp;quot;,\n  &amp;quot;initial_deposit&amp;quot;: 1000\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:48 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;JSESSIONID=0013101FFD3501B633F97C1C28B43C54; Path=/; Secure; HttpOnly, __cf_bm=aHf9YpLMDXonzGaDwJd.90no1Gg1u3BKp1dcvqQUT6Q-1750524108-1.0.1.1-tlTDc6ZnnJ8HDd2BrgN3WRVdNvUvWJjw.rX9H5W8uSzMxWknBn81JQ2pr9E4yoNnN6eAWs.SeUXc_FkDX516J7YEZmpLThXTOVECXx6EjC8; path=/; expires=Sat, 21-Jun-25 17:11:48 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f49b2ca67d41-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;id&amp;quot;: 106,\n  &amp;quot;first_name&amp;quot;: &amp;quot;12345&amp;quot;,\n  &amp;quot;last_name&amp;quot;: &amp;quot;Doe&amp;quot;,\n  &amp;quot;date_of_birth&amp;quot;: &amp;quot;1990-01-01&amp;quot;,\n  &amp;quot;initial_deposit&amp;quot;: 999.99,\n  &amp;quot;full_name&amp;quot;: &amp;quot;12345 Doe&amp;quot;,\n  &amp;quot;iban_issuance_status&amp;quot;: &amp;quot;REQUESTED&amp;quot;,\n  &amp;quot;iban&amp;quot;: null,\n  &amp;quot;created_at&amp;quot;: &amp;quot;2025-06-21T16:41:48.080119775&amp;quot;,\n  &amp;quot;updated_at&amp;quot;: &amp;quot;2025-06-21T16:41:48.080119775&amp;quot;\n}\n\n&#34;}], &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Integer First Name]&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Integer First Name]&#34;, &#34;duration&#34;: &#34;219 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Integer First Name]&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;219 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;user_data = {&amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;, &amp;#x27;first_name&amp;#x27;: 12345, &amp;#x27;initial_deposit&amp;#x27;: 1000, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe&amp;#x27;}\nbank_account_client = &amp;lt;api_clients_and_models.bank_account_manager_api_client.BAMAPIClient object at 0x105d18990&amp;gt;\nget_registered_and_logged_in_user = User(username=&amp;#x27;LNACQ&amp;#x27;, password=&amp;#x27;L4SSD&amp;#x27;, token=&amp;#x27;b7c024fc-74be-444a-8348-8cd21f7decf0&amp;#x27;, id=119, bank_accounts={}, bank_..._creation_info=BankAccountCreationInfoModel(first_name=None, last_name=None, date_of_birth=None, initial_deposit=None))\nset_bank_account_creation_info_to_user = &amp;lt;function set_bank_account_creation_info_to_user.&amp;lt;locals&amp;gt;._set_info at 0x105d8a020&amp;gt;\n\n    @pytest.mark.parametrize(&amp;quot;user_data&amp;quot;, invalid_bank_account_creation_info.values(), ids=invalid_bank_account_creation_info.keys())\n    def test_create_bank_account_with_invalid_data(user_data, bank_account_client, get_registered_and_logged_in_user,\n                                                   set_bank_account_creation_info_to_user):\n        user = get_registered_and_logged_in_user\n        # Set invalid bank account creation info\n&amp;gt;       set_bank_account_creation_info_to_user(user=user, first_name=user_data[&amp;#x27;first_name&amp;#x27;], last_name=user_data[&amp;#x27;last_name&amp;#x27;],\n                                               initial_deposit=user_data[&amp;#x27;initial_deposit&amp;#x27;],\n                                               date_of_birth= user_data[&amp;#x27;date_of_birth&amp;#x27;])\n\nbank_account_creation_test.py:58: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nuser = User(username=&amp;#x27;LNACQ&amp;#x27;, password=&amp;#x27;L4SSD&amp;#x27;, token=&amp;#x27;b7c024fc-74be-444a-8348-8cd21f7decf0&amp;#x27;, id=119, bank_accounts={}, bank_..._creation_info=BankAccountCreationInfoModel(first_name=None, last_name=None, date_of_birth=None, initial_deposit=None))\nfirst_name = 12345, last_name = &amp;#x27;Doe&amp;#x27;, initial_deposit = 1000\ndate_of_birth = &amp;#x27;1990-01-01&amp;#x27;\n\n    def _set_info(user: User, first_name=None, last_name=None, initial_deposit=None, date_of_birth=None):\n&amp;gt;       info = BankAccountCreationInfoModel(first_name=first_name, last_name=last_name, initial_deposit=initial_deposit, date_of_birth=date_of_birth)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       pydantic_core._pydantic_core.ValidationError: 1 validation error for BankAccountCreationInfoModel\nE       first_name\nE         Input should be a valid string [type=string_type, input_value=12345, input_type=int]\nE           For further information visit https://errors.pydantic.dev/2.11/v/string_type\n\nconftest.py:11: ValidationError\n\n------------------------------ Captured log setup ------------------------------\nINFO     root:conftest.py:56 Using existing registered user. username: LNACQ, password: ***\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/auth/login\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;42&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;username&amp;quot;: &amp;quot;LNACQ&amp;quot;,\n  &amp;quot;password&amp;quot;: &amp;quot;***&amp;quot;\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:48 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;x-api-key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;__cf_bm=O7lX5AfTcpH1G_omzNJz9w55Yga4bKjtcyblLqpA03Q-1750524108-1.0.1.1-eAfnqbLiWFCzathdtlujeA7wo1fc1eA8QXRy9iVKVVlQ8TQToOb5vC6LOBuHy2FPEiAhcpfqA7YJCrotmFbRxw_ix0oVGZR.w3XP0MvJVqA; path=/; expires=Sat, 21-Jun-25 17:11:48 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f49c1fd47d29-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;api_key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;expires_at&amp;quot;: &amp;quot;2025-06-21T16:42:48.294181552Z&amp;quot;\n}\nINFO     root:conftest.py:24 Logged in as existing user: LNACQ\n&#34;}], &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Special Characters in First Name]&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Special Characters in First Name]&#34;, &#34;duration&#34;: &#34;345 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Special Characters in First Name]&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;345 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;user_data = {&amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;, &amp;#x27;first_name&amp;#x27;: &amp;#x27;!@#$%&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe&amp;#x27;}\nbank_account_client = &amp;lt;api_clients_and_models.bank_account_manager_api_client.BAMAPIClient object at 0x105d18990&amp;gt;\nget_registered_and_logged_in_user = User(username=&amp;#x27;F6B0C&amp;#x27;, password=&amp;#x27;5DV6J&amp;#x27;, token=&amp;#x27;a9e5b931-b4de-433d-97ee-5268b5b9e90a&amp;#x27;, id=123, bank_accounts={}, bank_...fo=BankAccountCreationInfoModel(first_name=&amp;#x27;!@#$%&amp;#x27;, last_name=&amp;#x27;Doe&amp;#x27;, date_of_birth=&amp;#x27;1990-01-01&amp;#x27;, initial_deposit=1000))\nset_bank_account_creation_info_to_user = &amp;lt;function set_bank_account_creation_info_to_user.&amp;lt;locals&amp;gt;._set_info at 0x105d896c0&amp;gt;\n\n    @pytest.mark.parametrize(&amp;quot;user_data&amp;quot;, invalid_bank_account_creation_info.values(), ids=invalid_bank_account_creation_info.keys())\n    def test_create_bank_account_with_invalid_data(user_data, bank_account_client, get_registered_and_logged_in_user,\n                                                   set_bank_account_creation_info_to_user):\n        user = get_registered_and_logged_in_user\n        # Set invalid bank account creation info\n        set_bank_account_creation_info_to_user(user=user, first_name=user_data[&amp;#x27;first_name&amp;#x27;], last_name=user_data[&amp;#x27;last_name&amp;#x27;],\n                                               initial_deposit=user_data[&amp;#x27;initial_deposit&amp;#x27;],\n                                               date_of_birth= user_data[&amp;#x27;date_of_birth&amp;#x27;])\n    \n        response = bank_account_client.create_bank_account(user=user)\n&amp;gt;       assert response.status_code == HTTPStatus.BAD_REQUEST, (\n            f&amp;quot;Expected 400 Bad Request, got {response.status_code} for user data: {user_data}&amp;quot;\n        )\nE       AssertionError: Expected 400 Bad Request, got 200 for user data: {&amp;#x27;first_name&amp;#x27;: &amp;#x27;!@#$%&amp;#x27;, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000, &amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;}\nE       assert 200 == &amp;lt;HTTPStatus.BAD_REQUEST: 400&amp;gt;\nE        +  where 200 = &amp;lt;Response [200]&amp;gt;.status_code\nE        +  and   &amp;lt;HTTPStatus.BAD_REQUEST: 400&amp;gt; = HTTPStatus.BAD_REQUEST\n\nbank_account_creation_test.py:63: AssertionError\n\n------------------------------ Captured log setup ------------------------------\nINFO     root:conftest.py:56 Using existing registered user. username: F6B0C, password: ***\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/auth/login\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;42&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;username&amp;quot;: &amp;quot;F6B0C&amp;quot;,\n  &amp;quot;password&amp;quot;: &amp;quot;***&amp;quot;\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:48 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;x-api-key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;__cf_bm=IHdFviekSvGIGTEHdXC_hxl3i6q_sJXCffVeDgSsSv0-1750524108-1.0.1.1-lszluL8d02au.FluZm8cbr2pNRc_3bweYqaDnrJ_jL.nU1FomGuQGVHgJ1ScG0HqKma39.7ipx9T8V6n2kr3gSjVIB6kT7yfN8aU_rlbusg; path=/; expires=Sat, 21-Jun-25 17:11:48 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f49d98807d29-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;api_key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;expires_at&amp;quot;: &amp;quot;2025-06-21T16:42:48.541739217Z&amp;quot;\n}\nINFO     root:conftest.py:24 Logged in as existing user: F6B0C\n\n------------------------------ Captured log call -------------------------------\nINFO     root:conftest.py:13 Set bank account creation info for user: F6B0C, info: {&amp;#x27;first_name&amp;#x27;: &amp;#x27;!@#$%&amp;#x27;, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe&amp;#x27;, &amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000}\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/accounts\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;X-API-KEY&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;99&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;first_name&amp;quot;: &amp;quot;!@#$%&amp;quot;,\n  &amp;quot;last_name&amp;quot;: &amp;quot;Doe&amp;quot;,\n  &amp;quot;date_of_birth&amp;quot;: &amp;quot;1990-01-01&amp;quot;,\n  &amp;quot;initial_deposit&amp;quot;: 1000\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:48 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;JSESSIONID=1898AE9DBE5772D03120B436709B25C4; Path=/; Secure; HttpOnly, __cf_bm=jH.RKWyN02DsIISX8J3BWi8pugQX8geLYxPDwVI7.2Q-1750524108-1.0.1.1-8cv2bPPeQctWWOR6mwEG6dep8.1iVoTdq57hzHuAY6aqMB.1zVpbNN_B2cXViwkVTTp2VYfqv4lKnxS5cxQUUg7jg6TulwkP6EeSqiGGy1A; path=/; expires=Sat, 21-Jun-25 17:11:48 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f49efa093326-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;id&amp;quot;: 107,\n  &amp;quot;first_name&amp;quot;: &amp;quot;!@#$%&amp;quot;,\n  &amp;quot;last_name&amp;quot;: &amp;quot;Doe&amp;quot;,\n  &amp;quot;date_of_birth&amp;quot;: &amp;quot;1990-01-01&amp;quot;,\n  &amp;quot;initial_deposit&amp;quot;: 999.99,\n  &amp;quot;full_name&amp;quot;: &amp;quot;!@#$% Doe&amp;quot;,\n  &amp;quot;iban_issuance_status&amp;quot;: &amp;quot;REQUESTED&amp;quot;,\n  &amp;quot;iban&amp;quot;: null,\n  &amp;quot;created_at&amp;quot;: &amp;quot;2025-06-21T16:41:48.680331175&amp;quot;,\n  &amp;quot;updated_at&amp;quot;: &amp;quot;2025-06-21T16:41:48.680331175&amp;quot;\n}\n\n&#34;}], &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Boolean First Name]&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Boolean First Name]&#34;, &#34;duration&#34;: &#34;211 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Boolean First Name]&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;211 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;user_data = {&amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;, &amp;#x27;first_name&amp;#x27;: True, &amp;#x27;initial_deposit&amp;#x27;: 1000, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe&amp;#x27;}\nbank_account_client = &amp;lt;api_clients_and_models.bank_account_manager_api_client.BAMAPIClient object at 0x105d18990&amp;gt;\nget_registered_and_logged_in_user = User(username=&amp;#x27;F6B0C&amp;#x27;, password=&amp;#x27;5DV6J&amp;#x27;, token=&amp;#x27;cd8d58a5-4f47-4cf0-a0cd-372911668b9a&amp;#x27;, id=123, bank_accounts={}, bank_..._creation_info=BankAccountCreationInfoModel(first_name=None, last_name=None, date_of_birth=None, initial_deposit=None))\nset_bank_account_creation_info_to_user = &amp;lt;function set_bank_account_creation_info_to_user.&amp;lt;locals&amp;gt;._set_info at 0x105d8ba60&amp;gt;\n\n    @pytest.mark.parametrize(&amp;quot;user_data&amp;quot;, invalid_bank_account_creation_info.values(), ids=invalid_bank_account_creation_info.keys())\n    def test_create_bank_account_with_invalid_data(user_data, bank_account_client, get_registered_and_logged_in_user,\n                                                   set_bank_account_creation_info_to_user):\n        user = get_registered_and_logged_in_user\n        # Set invalid bank account creation info\n&amp;gt;       set_bank_account_creation_info_to_user(user=user, first_name=user_data[&amp;#x27;first_name&amp;#x27;], last_name=user_data[&amp;#x27;last_name&amp;#x27;],\n                                               initial_deposit=user_data[&amp;#x27;initial_deposit&amp;#x27;],\n                                               date_of_birth= user_data[&amp;#x27;date_of_birth&amp;#x27;])\n\nbank_account_creation_test.py:58: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nuser = User(username=&amp;#x27;F6B0C&amp;#x27;, password=&amp;#x27;5DV6J&amp;#x27;, token=&amp;#x27;cd8d58a5-4f47-4cf0-a0cd-372911668b9a&amp;#x27;, id=123, bank_accounts={}, bank_..._creation_info=BankAccountCreationInfoModel(first_name=None, last_name=None, date_of_birth=None, initial_deposit=None))\nfirst_name = True, last_name = &amp;#x27;Doe&amp;#x27;, initial_deposit = 1000\ndate_of_birth = &amp;#x27;1990-01-01&amp;#x27;\n\n    def _set_info(user: User, first_name=None, last_name=None, initial_deposit=None, date_of_birth=None):\n&amp;gt;       info = BankAccountCreationInfoModel(first_name=first_name, last_name=last_name, initial_deposit=initial_deposit, date_of_birth=date_of_birth)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       pydantic_core._pydantic_core.ValidationError: 1 validation error for BankAccountCreationInfoModel\nE       first_name\nE         Input should be a valid string [type=string_type, input_value=True, input_type=bool]\nE           For further information visit https://errors.pydantic.dev/2.11/v/string_type\n\nconftest.py:11: ValidationError\n\n------------------------------ Captured log setup ------------------------------\nINFO     root:conftest.py:56 Using existing registered user. username: F6B0C, password: ***\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/auth/login\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;42&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;username&amp;quot;: &amp;quot;F6B0C&amp;quot;,\n  &amp;quot;password&amp;quot;: &amp;quot;***&amp;quot;\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:48 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;x-api-key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;__cf_bm=pLEv6R05WPnXrYZt_CGFN8gW0uBpmQ.V8SceDsWRzbM-1750524108-1.0.1.1-1SssVC2vlEAiczd_iigkiCCbOpCEhtUfGmIzSx2b0z4CysMGXZUPXDtBQqtAoin.sXXXGgAOb6gPHB5duLbs0cOetwIESSxU74wlWx13cX0; path=/; expires=Sat, 21-Jun-25 17:11:48 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f49fd9377d29-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;api_key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;expires_at&amp;quot;: &amp;quot;2025-06-21T16:42:48.900092586Z&amp;quot;\n}\nINFO     root:conftest.py:24 Logged in as existing user: F6B0C\n&#34;}], &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[None First Name]&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[None First Name]&#34;, &#34;duration&#34;: &#34;408 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[None First Name]&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;408 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;------------------------------ Captured log setup ------------------------------\nINFO     root:conftest.py:56 Using existing registered user. username: Z9JZO, password: ***\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/auth/login\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;42&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;username&amp;quot;: &amp;quot;Z9JZO&amp;quot;,\n  &amp;quot;password&amp;quot;: &amp;quot;***&amp;quot;\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:49 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;x-api-key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;__cf_bm=OGiXeiJPzefg7gx88jNgsXOoZN3VMqcxRSSLxNJcPB0-1750524109-1.0.1.1-g3VOUQXKt1eWvXsddngL1KwPLlxFMzexiYmKqVSnshdxdCd_PtlYRzoVQdw8jwj_ebfI1R.cme8o81vpl5TTLmUBPDoIP_mThSKOVtvph2I; path=/; expires=Sat, 21-Jun-25 17:11:49 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f4a17fa23332-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;api_key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;expires_at&amp;quot;: &amp;quot;2025-06-21T16:42:49.160585367Z&amp;quot;\n}\nINFO     root:conftest.py:24 Logged in as existing user: Z9JZO\n\n------------------------------ Captured log call -------------------------------\nINFO     root:conftest.py:13 Set bank account creation info for user: Z9JZO, info: {&amp;#x27;first_name&amp;#x27;: None, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe&amp;#x27;, &amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000}\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/accounts\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;X-API-KEY&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;96&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;first_name&amp;quot;: null,\n  &amp;quot;last_name&amp;quot;: &amp;quot;Doe&amp;quot;,\n  &amp;quot;date_of_birth&amp;quot;: &amp;quot;1990-01-01&amp;quot;,\n  &amp;quot;initial_deposit&amp;quot;: 1000\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 400\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:49 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;JSESSIONID=6BCDE197FA61D531AA73F8463070A4F9; Path=/; Secure; HttpOnly, __cf_bm=szbkWoc2oXreXRtEUZT8ISb41rB3L6WF2w1Se7nTA0w-1750524109-1.0.1.1-zOXCzqAREEECRvkVUNJjAHqTcR6AckkIkssjjUrxp2Ud08C1EeFXkbhUZqx8frA_HEbjgC8cOJe3Usx9rxzkt4T_d9_maeNJBDf1G2P5YxA; path=/; expires=Sat, 21-Jun-25 17:11:49 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f4a2ffa97d41-EVN&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;timestamp&amp;quot;: &amp;quot;2025-06-21T16:41:49.322+00:00&amp;quot;,\n  &amp;quot;status&amp;quot;: 400,\n  &amp;quot;error&amp;quot;: &amp;quot;Bad Request&amp;quot;,\n  &amp;quot;message&amp;quot;: &amp;quot;JSON parse error: Instantiation of [simple type, class com.sumup.bank.qachallenge.dto.CreateAccountRequest] value failed for JSON property first_name due to missing (therefore NULL) value for creator parameter firstName which is a non-nullable type&amp;quot;,\n  &amp;quot;path&amp;quot;: &amp;quot;/api/accounts&amp;quot;\n}\n\n&#34;}], &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[List First Name]&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[List First Name]&#34;, &#34;duration&#34;: &#34;224 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[List First Name]&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;224 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;user_data = {&amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;, &amp;#x27;first_name&amp;#x27;: [&amp;#x27;John&amp;#x27;], &amp;#x27;initial_deposit&amp;#x27;: 1000, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe&amp;#x27;}\nbank_account_client = &amp;lt;api_clients_and_models.bank_account_manager_api_client.BAMAPIClient object at 0x105d18990&amp;gt;\nget_registered_and_logged_in_user = User(username=&amp;#x27;IOETQ&amp;#x27;, password=&amp;#x27;EDTJI&amp;#x27;, token=&amp;#x27;1b89dee5-7258-45c6-a7e0-e5046f75ab14&amp;#x27;, id=129, bank_accounts={}, bank_..._creation_info=BankAccountCreationInfoModel(first_name=None, last_name=None, date_of_birth=None, initial_deposit=None))\nset_bank_account_creation_info_to_user = &amp;lt;function set_bank_account_creation_info_to_user.&amp;lt;locals&amp;gt;._set_info at 0x105d589a0&amp;gt;\n\n    @pytest.mark.parametrize(&amp;quot;user_data&amp;quot;, invalid_bank_account_creation_info.values(), ids=invalid_bank_account_creation_info.keys())\n    def test_create_bank_account_with_invalid_data(user_data, bank_account_client, get_registered_and_logged_in_user,\n                                                   set_bank_account_creation_info_to_user):\n        user = get_registered_and_logged_in_user\n        # Set invalid bank account creation info\n&amp;gt;       set_bank_account_creation_info_to_user(user=user, first_name=user_data[&amp;#x27;first_name&amp;#x27;], last_name=user_data[&amp;#x27;last_name&amp;#x27;],\n                                               initial_deposit=user_data[&amp;#x27;initial_deposit&amp;#x27;],\n                                               date_of_birth= user_data[&amp;#x27;date_of_birth&amp;#x27;])\n\nbank_account_creation_test.py:58: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nuser = User(username=&amp;#x27;IOETQ&amp;#x27;, password=&amp;#x27;EDTJI&amp;#x27;, token=&amp;#x27;1b89dee5-7258-45c6-a7e0-e5046f75ab14&amp;#x27;, id=129, bank_accounts={}, bank_..._creation_info=BankAccountCreationInfoModel(first_name=None, last_name=None, date_of_birth=None, initial_deposit=None))\nfirst_name = [&amp;#x27;John&amp;#x27;], last_name = &amp;#x27;Doe&amp;#x27;, initial_deposit = 1000\ndate_of_birth = &amp;#x27;1990-01-01&amp;#x27;\n\n    def _set_info(user: User, first_name=None, last_name=None, initial_deposit=None, date_of_birth=None):\n&amp;gt;       info = BankAccountCreationInfoModel(first_name=first_name, last_name=last_name, initial_deposit=initial_deposit, date_of_birth=date_of_birth)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       pydantic_core._pydantic_core.ValidationError: 1 validation error for BankAccountCreationInfoModel\nE       first_name\nE         Input should be a valid string [type=string_type, input_value=[&amp;#x27;John&amp;#x27;], input_type=list]\nE           For further information visit https://errors.pydantic.dev/2.11/v/string_type\n\nconftest.py:11: ValidationError\n\n------------------------------ Captured log setup ------------------------------\nINFO     root:conftest.py:56 Using existing registered user. username: IOETQ, password: ***\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/auth/login\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;42&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;username&amp;quot;: &amp;quot;IOETQ&amp;quot;,\n  &amp;quot;password&amp;quot;: &amp;quot;***&amp;quot;\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:49 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;x-api-key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;__cf_bm=cTN6ZljUZfj664rUIu4KrlsuN8UbGPvICBFS8ykKg0o-1750524109-1.0.1.1-VUqgKtNtuyF9Y7ysvd1ge._P8Jd8ONGHNtUxXNvZThW4iVsnkOSLwcflT2JZG4t3G4I.vky4PZfGQHAiT7r.1PMWFxFE0H6v0R9CLBZYCAw; path=/; expires=Sat, 21-Jun-25 17:11:49 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f4a3dfec7d31-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;api_key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;expires_at&amp;quot;: &amp;quot;2025-06-21T16:42:49.547420438Z&amp;quot;\n}\nINFO     root:conftest.py:24 Logged in as existing user: IOETQ\n&#34;}], &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Dict First Name]&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Dict First Name]&#34;, &#34;duration&#34;: &#34;204 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Dict First Name]&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;204 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;user_data = {&amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;, &amp;#x27;first_name&amp;#x27;: {&amp;#x27;name&amp;#x27;: &amp;#x27;John&amp;#x27;}, &amp;#x27;initial_deposit&amp;#x27;: 1000, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe&amp;#x27;}\nbank_account_client = &amp;lt;api_clients_and_models.bank_account_manager_api_client.BAMAPIClient object at 0x105d18990&amp;gt;\nget_registered_and_logged_in_user = User(username=&amp;#x27;IOETQ&amp;#x27;, password=&amp;#x27;EDTJI&amp;#x27;, token=&amp;#x27;b808deca-0fa0-4006-8e84-59e9947314be&amp;#x27;, id=129, bank_accounts={}, bank_..._creation_info=BankAccountCreationInfoModel(first_name=None, last_name=None, date_of_birth=None, initial_deposit=None))\nset_bank_account_creation_info_to_user = &amp;lt;function set_bank_account_creation_info_to_user.&amp;lt;locals&amp;gt;._set_info at 0x105d8a8e0&amp;gt;\n\n    @pytest.mark.parametrize(&amp;quot;user_data&amp;quot;, invalid_bank_account_creation_info.values(), ids=invalid_bank_account_creation_info.keys())\n    def test_create_bank_account_with_invalid_data(user_data, bank_account_client, get_registered_and_logged_in_user,\n                                                   set_bank_account_creation_info_to_user):\n        user = get_registered_and_logged_in_user\n        # Set invalid bank account creation info\n&amp;gt;       set_bank_account_creation_info_to_user(user=user, first_name=user_data[&amp;#x27;first_name&amp;#x27;], last_name=user_data[&amp;#x27;last_name&amp;#x27;],\n                                               initial_deposit=user_data[&amp;#x27;initial_deposit&amp;#x27;],\n                                               date_of_birth= user_data[&amp;#x27;date_of_birth&amp;#x27;])\n\nbank_account_creation_test.py:58: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nuser = User(username=&amp;#x27;IOETQ&amp;#x27;, password=&amp;#x27;EDTJI&amp;#x27;, token=&amp;#x27;b808deca-0fa0-4006-8e84-59e9947314be&amp;#x27;, id=129, bank_accounts={}, bank_..._creation_info=BankAccountCreationInfoModel(first_name=None, last_name=None, date_of_birth=None, initial_deposit=None))\nfirst_name = {&amp;#x27;name&amp;#x27;: &amp;#x27;John&amp;#x27;}, last_name = &amp;#x27;Doe&amp;#x27;, initial_deposit = 1000\ndate_of_birth = &amp;#x27;1990-01-01&amp;#x27;\n\n    def _set_info(user: User, first_name=None, last_name=None, initial_deposit=None, date_of_birth=None):\n&amp;gt;       info = BankAccountCreationInfoModel(first_name=first_name, last_name=last_name, initial_deposit=initial_deposit, date_of_birth=date_of_birth)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       pydantic_core._pydantic_core.ValidationError: 1 validation error for BankAccountCreationInfoModel\nE       first_name\nE         Input should be a valid string [type=string_type, input_value={&amp;#x27;name&amp;#x27;: &amp;#x27;John&amp;#x27;}, input_type=dict]\nE           For further information visit https://errors.pydantic.dev/2.11/v/string_type\n\nconftest.py:11: ValidationError\n\n------------------------------ Captured log setup ------------------------------\nINFO     root:conftest.py:56 Using existing registered user. username: IOETQ, password: ***\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/auth/login\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;42&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;username&amp;quot;: &amp;quot;IOETQ&amp;quot;,\n  &amp;quot;password&amp;quot;: &amp;quot;***&amp;quot;\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:49 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;x-api-key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;__cf_bm=p_3pMPDBgmDuF9V8eaeh0Rgiy2MdVx2wh0FV0UUqhrw-1750524109-1.0.1.1-Syi.QSTsFhy89jgxxuBO3twNPlOTfN5nwFHWYwwbeg3XKdf6O5CpWw_tpmLkaBZIPNPk0LTkxqgKb6jOJq3Ccb.njoQ_M7q15JS4qE4zLug; path=/; expires=Sat, 21-Jun-25 17:11:49 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f4a558807d39-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;api_key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;expires_at&amp;quot;: &amp;quot;2025-06-21T16:42:49.781119876Z&amp;quot;\n}\nINFO     root:conftest.py:24 Logged in as existing user: IOETQ\n&#34;}], &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[SQL Injection First Name]&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[SQL Injection First Name]&#34;, &#34;duration&#34;: &#34;335 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[SQL Injection First Name]&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;335 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;user_data = {&amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;, &amp;#x27;first_name&amp;#x27;: &amp;quot;&amp;#x27;; DROP TABLE users; --&amp;quot;, &amp;#x27;initial_deposit&amp;#x27;: 1000, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe&amp;#x27;}\nbank_account_client = &amp;lt;api_clients_and_models.bank_account_manager_api_client.BAMAPIClient object at 0x105d18990&amp;gt;\nget_registered_and_logged_in_user = User(username=&amp;#x27;Z9JZO&amp;#x27;, password=&amp;#x27;R8Z6C&amp;#x27;, token=&amp;#x27;4b501a01-0741-44ec-a526-8766f2351485&amp;#x27;, id=128, bank_accounts={}, bank_...tionInfoModel(first_name=&amp;quot;&amp;#x27;; DROP TABLE users; --&amp;quot;, last_name=&amp;#x27;Doe&amp;#x27;, date_of_birth=&amp;#x27;1990-01-01&amp;#x27;, initial_deposit=1000))\nset_bank_account_creation_info_to_user = &amp;lt;function set_bank_account_creation_info_to_user.&amp;lt;locals&amp;gt;._set_info at 0x105d8ad40&amp;gt;\n\n    @pytest.mark.parametrize(&amp;quot;user_data&amp;quot;, invalid_bank_account_creation_info.values(), ids=invalid_bank_account_creation_info.keys())\n    def test_create_bank_account_with_invalid_data(user_data, bank_account_client, get_registered_and_logged_in_user,\n                                                   set_bank_account_creation_info_to_user):\n        user = get_registered_and_logged_in_user\n        # Set invalid bank account creation info\n        set_bank_account_creation_info_to_user(user=user, first_name=user_data[&amp;#x27;first_name&amp;#x27;], last_name=user_data[&amp;#x27;last_name&amp;#x27;],\n                                               initial_deposit=user_data[&amp;#x27;initial_deposit&amp;#x27;],\n                                               date_of_birth= user_data[&amp;#x27;date_of_birth&amp;#x27;])\n    \n        response = bank_account_client.create_bank_account(user=user)\n&amp;gt;       assert response.status_code == HTTPStatus.BAD_REQUEST, (\n            f&amp;quot;Expected 400 Bad Request, got {response.status_code} for user data: {user_data}&amp;quot;\n        )\nE       AssertionError: Expected 400 Bad Request, got 200 for user data: {&amp;#x27;first_name&amp;#x27;: &amp;quot;&amp;#x27;; DROP TABLE users; --&amp;quot;, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000, &amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;}\nE       assert 200 == &amp;lt;HTTPStatus.BAD_REQUEST: 400&amp;gt;\nE        +  where 200 = &amp;lt;Response [200]&amp;gt;.status_code\nE        +  and   &amp;lt;HTTPStatus.BAD_REQUEST: 400&amp;gt; = HTTPStatus.BAD_REQUEST\n\nbank_account_creation_test.py:63: AssertionError\n\n------------------------------ Captured log setup ------------------------------\nINFO     root:conftest.py:56 Using existing registered user. username: Z9JZO, password: ***\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/auth/login\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;42&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;username&amp;quot;: &amp;quot;Z9JZO&amp;quot;,\n  &amp;quot;password&amp;quot;: &amp;quot;***&amp;quot;\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:50 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;x-api-key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;__cf_bm=t998IE.hSqIujKynM4JMyRUe2cUT3n7WQzZDqmBYA_c-1750524110-1.0.1.1-S7GwZ2hUHIn3jdsD7uIaogc8sGOEqd1s0NfjET6UfyvD57dqLOoIsyH4pWhC1vVC_LLAIkZxnBDFGcLU_c3yzZ9dlPka_p6P2YIM3opoRnU; path=/; expires=Sat, 21-Jun-25 17:11:50 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f4a6bc2f3362-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;api_key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;expires_at&amp;quot;: &amp;quot;2025-06-21T16:42:49.998107039Z&amp;quot;\n}\nINFO     root:conftest.py:24 Logged in as existing user: Z9JZO\n\n------------------------------ Captured log call -------------------------------\nINFO     root:conftest.py:13 Set bank account creation info for user: Z9JZO, info: {&amp;#x27;first_name&amp;#x27;: &amp;quot;&amp;#x27;; DROP TABLE users; --&amp;quot;, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe&amp;#x27;, &amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000}\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/accounts\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;X-API-KEY&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;117&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;first_name&amp;quot;: &amp;quot;&amp;#x27;; DROP TABLE users; --&amp;quot;,\n  &amp;quot;last_name&amp;quot;: &amp;quot;Doe&amp;quot;,\n  &amp;quot;date_of_birth&amp;quot;: &amp;quot;1990-01-01&amp;quot;,\n  &amp;quot;initial_deposit&amp;quot;: 1000\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:50 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;JSESSIONID=01A4A25B3EE57A9047AEF867247617CE; Path=/; Secure; HttpOnly, __cf_bm=Cg8THDPPegofgA56EI8fidHgnsK4AwrofU.iJZUApiw-1750524110-1.0.1.1-2WedhqqOrw_CfxUMf0Aza2uTaDI7MCvFmqUxlXB1Z2.5IQ2jGb7r_JMoKSiRl5CrUEdKTzpcrJnfaYi2p69Q6j.vSYMprVZsgT.hrbXhk90; path=/; expires=Sat, 21-Jun-25 17:11:50 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f4a7fb117d35-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;id&amp;quot;: 108,\n  &amp;quot;first_name&amp;quot;: &amp;quot;&amp;#x27;; DROP TABLE users; --&amp;quot;,\n  &amp;quot;last_name&amp;quot;: &amp;quot;Doe&amp;quot;,\n  &amp;quot;date_of_birth&amp;quot;: &amp;quot;1990-01-01&amp;quot;,\n  &amp;quot;initial_deposit&amp;quot;: 999.99,\n  &amp;quot;full_name&amp;quot;: &amp;quot;&amp;#x27;; DROP TABLE users; -- Doe&amp;quot;,\n  &amp;quot;iban_issuance_status&amp;quot;: &amp;quot;REQUESTED&amp;quot;,\n  &amp;quot;iban&amp;quot;: null,\n  &amp;quot;created_at&amp;quot;: &amp;quot;2025-06-21T16:41:50.133575276&amp;quot;,\n  &amp;quot;updated_at&amp;quot;: &amp;quot;2025-06-21T16:41:50.133575276&amp;quot;\n}\n\n&#34;}], &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[XSS First Name]&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[XSS First Name]&#34;, &#34;duration&#34;: &#34;345 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[XSS First Name]&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;345 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;user_data = {&amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;, &amp;#x27;first_name&amp;#x27;: &amp;quot;&amp;lt;script&amp;gt;alert(&amp;#x27;XSS&amp;#x27;);&amp;lt;/script&amp;gt;&amp;quot;, &amp;#x27;initial_deposit&amp;#x27;: 1000, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe&amp;#x27;}\nbank_account_client = &amp;lt;api_clients_and_models.bank_account_manager_api_client.BAMAPIClient object at 0x105d18990&amp;gt;\nget_registered_and_logged_in_user = User(username=&amp;#x27;DLVEY&amp;#x27;, password=&amp;#x27;ALVUV&amp;#x27;, token=&amp;#x27;a64d98c6-7de5-4b67-aaef-77d17726f6fb&amp;#x27;, id=96, bank_accounts={&amp;#x27;34&amp;#x27;: Ban...oModel(first_name=&amp;quot;&amp;lt;script&amp;gt;alert(&amp;#x27;XSS&amp;#x27;);&amp;lt;/script&amp;gt;&amp;quot;, last_name=&amp;#x27;Doe&amp;#x27;, date_of_birth=&amp;#x27;1990-01-01&amp;#x27;, initial_deposit=1000))\nset_bank_account_creation_info_to_user = &amp;lt;function set_bank_account_creation_info_to_user.&amp;lt;locals&amp;gt;._set_info at 0x105de5800&amp;gt;\n\n    @pytest.mark.parametrize(&amp;quot;user_data&amp;quot;, invalid_bank_account_creation_info.values(), ids=invalid_bank_account_creation_info.keys())\n    def test_create_bank_account_with_invalid_data(user_data, bank_account_client, get_registered_and_logged_in_user,\n                                                   set_bank_account_creation_info_to_user):\n        user = get_registered_and_logged_in_user\n        # Set invalid bank account creation info\n        set_bank_account_creation_info_to_user(user=user, first_name=user_data[&amp;#x27;first_name&amp;#x27;], last_name=user_data[&amp;#x27;last_name&amp;#x27;],\n                                               initial_deposit=user_data[&amp;#x27;initial_deposit&amp;#x27;],\n                                               date_of_birth= user_data[&amp;#x27;date_of_birth&amp;#x27;])\n    \n        response = bank_account_client.create_bank_account(user=user)\n&amp;gt;       assert response.status_code == HTTPStatus.BAD_REQUEST, (\n            f&amp;quot;Expected 400 Bad Request, got {response.status_code} for user data: {user_data}&amp;quot;\n        )\nE       AssertionError: Expected 400 Bad Request, got 200 for user data: {&amp;#x27;first_name&amp;#x27;: &amp;quot;&amp;lt;script&amp;gt;alert(&amp;#x27;XSS&amp;#x27;);&amp;lt;/script&amp;gt;&amp;quot;, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000, &amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;}\nE       assert 200 == &amp;lt;HTTPStatus.BAD_REQUEST: 400&amp;gt;\nE        +  where 200 = &amp;lt;Response [200]&amp;gt;.status_code\nE        +  and   &amp;lt;HTTPStatus.BAD_REQUEST: 400&amp;gt; = HTTPStatus.BAD_REQUEST\n\nbank_account_creation_test.py:63: AssertionError\n\n------------------------------ Captured log setup ------------------------------\nINFO     root:conftest.py:56 Using existing registered user. username: DLVEY, password: ***\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/auth/login\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;42&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;username&amp;quot;: &amp;quot;DLVEY&amp;quot;,\n  &amp;quot;password&amp;quot;: &amp;quot;***&amp;quot;\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:50 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;x-api-key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;__cf_bm=S_vhdQrFJAm6ERbH_BdB_Uz1JqhXsI3LNPEixIWfdvM-1750524110-1.0.1.1-W5AX8yj2hZtO1QA7EDY3aRuaIGBCEbgilb.8Fjz9PK0YmZPa341j0TpZjXShrr_VaXF0ulUaiCEBRS6AKIezCQtQo45bss2PeStioGKfiXk; path=/; expires=Sat, 21-Jun-25 17:11:50 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f4a8ed3d3326-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;api_key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;expires_at&amp;quot;: &amp;quot;2025-06-21T16:42:50.346733665Z&amp;quot;\n}\nINFO     root:conftest.py:24 Logged in as existing user: DLVEY\n\n------------------------------ Captured log call -------------------------------\nINFO     root:conftest.py:13 Set bank account creation info for user: DLVEY, info: {&amp;#x27;first_name&amp;#x27;: &amp;quot;&amp;lt;script&amp;gt;alert(&amp;#x27;XSS&amp;#x27;);&amp;lt;/script&amp;gt;&amp;quot;, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe&amp;#x27;, &amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000}\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/accounts\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;X-API-KEY&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;124&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;first_name&amp;quot;: &amp;quot;&amp;lt;script&amp;gt;alert(&amp;#x27;XSS&amp;#x27;);&amp;lt;/script&amp;gt;&amp;quot;,\n  &amp;quot;last_name&amp;quot;: &amp;quot;Doe&amp;quot;,\n  &amp;quot;date_of_birth&amp;quot;: &amp;quot;1990-01-01&amp;quot;,\n  &amp;quot;initial_deposit&amp;quot;: 1000\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:50 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;JSESSIONID=0AB74511A2847D8DD7E131979E64E620; Path=/; Secure; HttpOnly, __cf_bm=XzJjayplTeyHk90bvSIX4bt8.dAFtEuajKJkjsoa99U-1750524110-1.0.1.1-hDfrCZWxO8wfXxNZakM73uJw614r_MACp4oLFKsjNqBFjZkLE2pOxBKgRW1EXwrmvcd3lZrTlVt0dxGgqsNSQrf3.fJEU1Mj3VFpuumxPG0; path=/; expires=Sat, 21-Jun-25 17:11:50 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f4aa38ff7d2d-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;id&amp;quot;: 109,\n  &amp;quot;first_name&amp;quot;: &amp;quot;&amp;lt;script&amp;gt;alert(&amp;#x27;XSS&amp;#x27;);&amp;lt;/script&amp;gt;&amp;quot;,\n  &amp;quot;last_name&amp;quot;: &amp;quot;Doe&amp;quot;,\n  &amp;quot;date_of_birth&amp;quot;: &amp;quot;1990-01-01&amp;quot;,\n  &amp;quot;initial_deposit&amp;quot;: 999.99,\n  &amp;quot;full_name&amp;quot;: &amp;quot;&amp;lt;script&amp;gt;alert(&amp;#x27;XSS&amp;#x27;);&amp;lt;/script&amp;gt; Doe&amp;quot;,\n  &amp;quot;iban_issuance_status&amp;quot;: &amp;quot;REQUESTED&amp;quot;,\n  &amp;quot;iban&amp;quot;: null,\n  &amp;quot;created_at&amp;quot;: &amp;quot;2025-06-21T16:41:50.487838809&amp;quot;,\n  &amp;quot;updated_at&amp;quot;: &amp;quot;2025-06-21T16:41:50.487838809&amp;quot;\n}\n\n&#34;}], &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Empty Last Name]&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Empty Last Name]&#34;, &#34;duration&#34;: &#34;347 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Empty Last Name]&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;347 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;------------------------------ Captured log setup ------------------------------\nINFO     root:conftest.py:56 Using existing registered user. username: U5CPY, password: ***\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/auth/login\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;42&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;username&amp;quot;: &amp;quot;U5CPY&amp;quot;,\n  &amp;quot;password&amp;quot;: &amp;quot;***&amp;quot;\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:50 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;x-api-key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;__cf_bm=Pnor4elXpUhKtqkhu4i13_NAI3rRIjsEE4JLlve4czY-1750524110-1.0.1.1-X.yce4qRMgSAaWMCurJqGIcom1_mn4wi1zq04bXVIFov.0a4kqHDAopR6i73iryj_G0yJUxCgjOZczblWjcOmme4hIDBBVvaz2YN_dC19AA; path=/; expires=Sat, 21-Jun-25 17:11:50 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f4ab2dda7d29-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;api_key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;expires_at&amp;quot;: &amp;quot;2025-06-21T16:42:50.706419274Z&amp;quot;\n}\nINFO     root:conftest.py:24 Logged in as existing user: U5CPY\n\n------------------------------ Captured log call -------------------------------\nINFO     root:conftest.py:13 Set bank account creation info for user: U5CPY, info: {&amp;#x27;first_name&amp;#x27;: &amp;#x27;John&amp;#x27;, &amp;#x27;last_name&amp;#x27;: &amp;#x27;&amp;#x27;, &amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000}\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/accounts\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;X-API-KEY&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;95&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;first_name&amp;quot;: &amp;quot;John&amp;quot;,\n  &amp;quot;last_name&amp;quot;: &amp;quot;&amp;quot;,\n  &amp;quot;date_of_birth&amp;quot;: &amp;quot;1990-01-01&amp;quot;,\n  &amp;quot;initial_deposit&amp;quot;: 1000\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 400\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:50 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;JSESSIONID=9A43B64E8BBF6EFEF4BC7B6C50FBBF19; Path=/; Secure; HttpOnly, __cf_bm=D6mxT3TJj7OCYfkIDja1PPhfYKtpBTTpdUlm1rOj8wI-1750524110-1.0.1.1-qUMhhUYxW7g8HEpXvoEOecNLVwe4Ox3RXB5h.YSdAR60ZE9mZaOMTlhmqdUXSPOh0yESS_FKUC53IK8kJ_uu7qi6koeyaZT7NXeo.qTN71E; path=/; expires=Sat, 21-Jun-25 17:11:50 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f4ac7e997d19-EVN&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;message&amp;quot;: &amp;quot;Last name must contain alphabetical characters only&amp;quot;\n}\n\n&#34;}], &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Spaces for Last Name]&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Spaces for Last Name]&#34;, &#34;duration&#34;: &#34;344 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Spaces for Last Name]&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;344 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;user_data = {&amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;, &amp;#x27;first_name&amp;#x27;: &amp;#x27;John&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000, &amp;#x27;last_name&amp;#x27;: &amp;#x27;     &amp;#x27;}\nbank_account_client = &amp;lt;api_clients_and_models.bank_account_manager_api_client.BAMAPIClient object at 0x105d18990&amp;gt;\nget_registered_and_logged_in_user = User(username=&amp;#x27;DLVEY&amp;#x27;, password=&amp;#x27;ALVUV&amp;#x27;, token=&amp;#x27;db8a75c2-86aa-4ead-8c1e-bfd4473fbcaa&amp;#x27;, id=96, bank_accounts={&amp;#x27;34&amp;#x27;: Ban...o=BankAccountCreationInfoModel(first_name=&amp;#x27;John&amp;#x27;, last_name=&amp;#x27;     &amp;#x27;, date_of_birth=&amp;#x27;1990-01-01&amp;#x27;, initial_deposit=1000))\nset_bank_account_creation_info_to_user = &amp;lt;function set_bank_account_creation_info_to_user.&amp;lt;locals&amp;gt;._set_info at 0x105de54e0&amp;gt;\n\n    @pytest.mark.parametrize(&amp;quot;user_data&amp;quot;, invalid_bank_account_creation_info.values(), ids=invalid_bank_account_creation_info.keys())\n    def test_create_bank_account_with_invalid_data(user_data, bank_account_client, get_registered_and_logged_in_user,\n                                                   set_bank_account_creation_info_to_user):\n        user = get_registered_and_logged_in_user\n        # Set invalid bank account creation info\n        set_bank_account_creation_info_to_user(user=user, first_name=user_data[&amp;#x27;first_name&amp;#x27;], last_name=user_data[&amp;#x27;last_name&amp;#x27;],\n                                               initial_deposit=user_data[&amp;#x27;initial_deposit&amp;#x27;],\n                                               date_of_birth= user_data[&amp;#x27;date_of_birth&amp;#x27;])\n    \n        response = bank_account_client.create_bank_account(user=user)\n&amp;gt;       assert response.status_code == HTTPStatus.BAD_REQUEST, (\n            f&amp;quot;Expected 400 Bad Request, got {response.status_code} for user data: {user_data}&amp;quot;\n        )\nE       AssertionError: Expected 400 Bad Request, got 200 for user data: {&amp;#x27;first_name&amp;#x27;: &amp;#x27;John&amp;#x27;, &amp;#x27;last_name&amp;#x27;: &amp;#x27;     &amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000, &amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;}\nE       assert 200 == &amp;lt;HTTPStatus.BAD_REQUEST: 400&amp;gt;\nE        +  where 200 = &amp;lt;Response [200]&amp;gt;.status_code\nE        +  and   &amp;lt;HTTPStatus.BAD_REQUEST: 400&amp;gt; = HTTPStatus.BAD_REQUEST\n\nbank_account_creation_test.py:63: AssertionError\n\n------------------------------ Captured log setup ------------------------------\nINFO     root:conftest.py:56 Using existing registered user. username: DLVEY, password: ***\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/auth/login\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;42&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;username&amp;quot;: &amp;quot;DLVEY&amp;quot;,\n  &amp;quot;password&amp;quot;: &amp;quot;***&amp;quot;\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:51 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;x-api-key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;__cf_bm=glDvY.Yoqwf9BFxvo0S.i2ssV_FMaVXGCzWrjDMTzXc-1750524111-1.0.1.1-mgz2_iaOuL.KsrC0hp5ZQH5wjcOtuRu8CoLs_tRVi1_KzUl0VQiX.EZV4VnOC.qQbO14BVBJw1UVq_3nxQUl3vG89GpiZ4L6XAXIiPM941M; path=/; expires=Sat, 21-Jun-25 17:11:51 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f4ad59e27d2d-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;api_key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;expires_at&amp;quot;: &amp;quot;2025-06-21T16:42:51.057724250Z&amp;quot;\n}\nINFO     root:conftest.py:24 Logged in as existing user: DLVEY\n\n------------------------------ Captured log call -------------------------------\nINFO     root:conftest.py:13 Set bank account creation info for user: DLVEY, info: {&amp;#x27;first_name&amp;#x27;: &amp;#x27;John&amp;#x27;, &amp;#x27;last_name&amp;#x27;: &amp;#x27;     &amp;#x27;, &amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000}\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/accounts\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;X-API-KEY&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;100&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;first_name&amp;quot;: &amp;quot;John&amp;quot;,\n  &amp;quot;last_name&amp;quot;: &amp;quot;     &amp;quot;,\n  &amp;quot;date_of_birth&amp;quot;: &amp;quot;1990-01-01&amp;quot;,\n  &amp;quot;initial_deposit&amp;quot;: 1000\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:51 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;JSESSIONID=783ED4898222E090703CD20A8D42B33B; Path=/; Secure; HttpOnly, __cf_bm=HrdxXn1zrB9NMyg2aWhybAPq8MTypPQQ2ZJ.EpW_eNc-1750524111-1.0.1.1-uM3OXneNWOe3HQWCtK8fm58Bkd1bFKp6jQH3AwHGSOiLlwxm0H2MZeNNCE6NjceViyKIvV8uGZJPW_xja5inzzZYvDQMKZ15zWxpKFjFwRU; path=/; expires=Sat, 21-Jun-25 17:11:51 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f4ae9bf37d39-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;id&amp;quot;: 110,\n  &amp;quot;first_name&amp;quot;: &amp;quot;John&amp;quot;,\n  &amp;quot;last_name&amp;quot;: &amp;quot;     &amp;quot;,\n  &amp;quot;date_of_birth&amp;quot;: &amp;quot;1990-01-01&amp;quot;,\n  &amp;quot;initial_deposit&amp;quot;: 999.99,\n  &amp;quot;full_name&amp;quot;: &amp;quot;John      &amp;quot;,\n  &amp;quot;iban_issuance_status&amp;quot;: &amp;quot;REQUESTED&amp;quot;,\n  &amp;quot;iban&amp;quot;: null,\n  &amp;quot;created_at&amp;quot;: &amp;quot;2025-06-21T16:41:51.190520977&amp;quot;,\n  &amp;quot;updated_at&amp;quot;: &amp;quot;2025-06-21T16:41:51.190520977&amp;quot;\n}\n\n&#34;}], &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Double Last Name]&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Double Last Name]&#34;, &#34;duration&#34;: &#34;348 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Double Last Name]&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;348 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;user_data = {&amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;, &amp;#x27;first_name&amp;#x27;: &amp;#x27;John&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe Smith&amp;#x27;}\nbank_account_client = &amp;lt;api_clients_and_models.bank_account_manager_api_client.BAMAPIClient object at 0x105d18990&amp;gt;\nget_registered_and_logged_in_user = User(username=&amp;#x27;OJW08&amp;#x27;, password=&amp;#x27;BFV75&amp;#x27;, token=&amp;#x27;8f64bd86-face-4953-af3e-a1fd78cb3a6c&amp;#x27;, id=126, bank_accounts={}, bank_...nkAccountCreationInfoModel(first_name=&amp;#x27;John&amp;#x27;, last_name=&amp;#x27;Doe Smith&amp;#x27;, date_of_birth=&amp;#x27;1990-01-01&amp;#x27;, initial_deposit=1000))\nset_bank_account_creation_info_to_user = &amp;lt;function set_bank_account_creation_info_to_user.&amp;lt;locals&amp;gt;._set_info at 0x105d8a020&amp;gt;\n\n    @pytest.mark.parametrize(&amp;quot;user_data&amp;quot;, invalid_bank_account_creation_info.values(), ids=invalid_bank_account_creation_info.keys())\n    def test_create_bank_account_with_invalid_data(user_data, bank_account_client, get_registered_and_logged_in_user,\n                                                   set_bank_account_creation_info_to_user):\n        user = get_registered_and_logged_in_user\n        # Set invalid bank account creation info\n        set_bank_account_creation_info_to_user(user=user, first_name=user_data[&amp;#x27;first_name&amp;#x27;], last_name=user_data[&amp;#x27;last_name&amp;#x27;],\n                                               initial_deposit=user_data[&amp;#x27;initial_deposit&amp;#x27;],\n                                               date_of_birth= user_data[&amp;#x27;date_of_birth&amp;#x27;])\n    \n        response = bank_account_client.create_bank_account(user=user)\n&amp;gt;       assert response.status_code == HTTPStatus.BAD_REQUEST, (\n            f&amp;quot;Expected 400 Bad Request, got {response.status_code} for user data: {user_data}&amp;quot;\n        )\nE       AssertionError: Expected 400 Bad Request, got 200 for user data: {&amp;#x27;first_name&amp;#x27;: &amp;#x27;John&amp;#x27;, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe Smith&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000, &amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;}\nE       assert 200 == &amp;lt;HTTPStatus.BAD_REQUEST: 400&amp;gt;\nE        +  where 200 = &amp;lt;Response [200]&amp;gt;.status_code\nE        +  and   &amp;lt;HTTPStatus.BAD_REQUEST: 400&amp;gt; = HTTPStatus.BAD_REQUEST\n\nbank_account_creation_test.py:63: AssertionError\n\n------------------------------ Captured log setup ------------------------------\nINFO     root:conftest.py:56 Using existing registered user. username: OJW08, password: ***\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/auth/login\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;42&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;username&amp;quot;: &amp;quot;OJW08&amp;quot;,\n  &amp;quot;password&amp;quot;: &amp;quot;***&amp;quot;\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:51 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;x-api-key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;__cf_bm=BVKdcjkXKGPd3mb80.FeC5JeevSkAK8ikAAC1F5Thfw-1750524111-1.0.1.1-wOjs15s9YcfTpHJqWp.A6PRXBzODSvzwO268yJh2a3ONIwlw1l_.j3mgA4.UwHZVDLixVM_6WWKLyip7o4vnt_2SAtc1YPxItCbFbLgj6jU; path=/; expires=Sat, 21-Jun-25 17:11:51 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f4af9d7d7d15-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;api_key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;expires_at&amp;quot;: &amp;quot;2025-06-21T16:42:51.421743543Z&amp;quot;\n}\nINFO     root:conftest.py:24 Logged in as existing user: OJW08\n\n------------------------------ Captured log call -------------------------------\nINFO     root:conftest.py:13 Set bank account creation info for user: OJW08, info: {&amp;#x27;first_name&amp;#x27;: &amp;#x27;John&amp;#x27;, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe Smith&amp;#x27;, &amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000}\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/accounts\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;X-API-KEY&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;104&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;first_name&amp;quot;: &amp;quot;John&amp;quot;,\n  &amp;quot;last_name&amp;quot;: &amp;quot;Doe Smith&amp;quot;,\n  &amp;quot;date_of_birth&amp;quot;: &amp;quot;1990-01-01&amp;quot;,\n  &amp;quot;initial_deposit&amp;quot;: 1000\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:51 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;JSESSIONID=6BD0AE9A91CC0CDE0C700093981C0648; Path=/; Secure; HttpOnly, __cf_bm=PR1u.cGR0vdJF9jmkCGOzQU615b2qOyNRwe3s0qd5fk-1750524111-1.0.1.1-qt.3nARRSe1ulZ6SC9Avx7lt0OVIh.B2ECef2I9E1.APWi7VTWgKHeLITK_7cc4L0EZlJU.soLsnawUZimvlzwI8FWLAOfTzZFq71wG4BmM; path=/; expires=Sat, 21-Jun-25 17:11:51 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f4b0ee417d35-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;id&amp;quot;: 111,\n  &amp;quot;first_name&amp;quot;: &amp;quot;John&amp;quot;,\n  &amp;quot;last_name&amp;quot;: &amp;quot;Doe Smith&amp;quot;,\n  &amp;quot;date_of_birth&amp;quot;: &amp;quot;1990-01-01&amp;quot;,\n  &amp;quot;initial_deposit&amp;quot;: 999.99,\n  &amp;quot;full_name&amp;quot;: &amp;quot;John Doe Smith&amp;quot;,\n  &amp;quot;iban_issuance_status&amp;quot;: &amp;quot;REQUESTED&amp;quot;,\n  &amp;quot;iban&amp;quot;: null,\n  &amp;quot;created_at&amp;quot;: &amp;quot;2025-06-21T16:41:51.558031642&amp;quot;,\n  &amp;quot;updated_at&amp;quot;: &amp;quot;2025-06-21T16:41:51.558031642&amp;quot;\n}\n\n&#34;}], &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Last Name with Extra Spaces]&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Last Name with Extra Spaces]&#34;, &#34;duration&#34;: &#34;342 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Last Name with Extra Spaces]&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;342 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;user_data = {&amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;, &amp;#x27;first_name&amp;#x27;: &amp;#x27;John&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe   &amp;#x27;}\nbank_account_client = &amp;lt;api_clients_and_models.bank_account_manager_api_client.BAMAPIClient object at 0x105d18990&amp;gt;\nget_registered_and_logged_in_user = User(username=&amp;#x27;Z9JZO&amp;#x27;, password=&amp;#x27;R8Z6C&amp;#x27;, token=&amp;#x27;1f749ffc-6217-4f33-8dd7-f4ac1e8f0a3f&amp;#x27;, id=128, bank_accounts={}, bank_...=BankAccountCreationInfoModel(first_name=&amp;#x27;John&amp;#x27;, last_name=&amp;#x27;Doe   &amp;#x27;, date_of_birth=&amp;#x27;1990-01-01&amp;#x27;, initial_deposit=1000))\nset_bank_account_creation_info_to_user = &amp;lt;function set_bank_account_creation_info_to_user.&amp;lt;locals&amp;gt;._set_info at 0x105d8ad40&amp;gt;\n\n    @pytest.mark.parametrize(&amp;quot;user_data&amp;quot;, invalid_bank_account_creation_info.values(), ids=invalid_bank_account_creation_info.keys())\n    def test_create_bank_account_with_invalid_data(user_data, bank_account_client, get_registered_and_logged_in_user,\n                                                   set_bank_account_creation_info_to_user):\n        user = get_registered_and_logged_in_user\n        # Set invalid bank account creation info\n        set_bank_account_creation_info_to_user(user=user, first_name=user_data[&amp;#x27;first_name&amp;#x27;], last_name=user_data[&amp;#x27;last_name&amp;#x27;],\n                                               initial_deposit=user_data[&amp;#x27;initial_deposit&amp;#x27;],\n                                               date_of_birth= user_data[&amp;#x27;date_of_birth&amp;#x27;])\n    \n        response = bank_account_client.create_bank_account(user=user)\n&amp;gt;       assert response.status_code == HTTPStatus.BAD_REQUEST, (\n            f&amp;quot;Expected 400 Bad Request, got {response.status_code} for user data: {user_data}&amp;quot;\n        )\nE       AssertionError: Expected 400 Bad Request, got 200 for user data: {&amp;#x27;first_name&amp;#x27;: &amp;#x27;John&amp;#x27;, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe   &amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000, &amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;}\nE       assert 200 == &amp;lt;HTTPStatus.BAD_REQUEST: 400&amp;gt;\nE        +  where 200 = &amp;lt;Response [200]&amp;gt;.status_code\nE        +  and   &amp;lt;HTTPStatus.BAD_REQUEST: 400&amp;gt; = HTTPStatus.BAD_REQUEST\n\nbank_account_creation_test.py:63: AssertionError\n\n------------------------------ Captured log setup ------------------------------\nINFO     root:conftest.py:56 Using existing registered user. username: Z9JZO, password: ***\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/auth/login\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;42&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;username&amp;quot;: &amp;quot;Z9JZO&amp;quot;,\n  &amp;quot;password&amp;quot;: &amp;quot;***&amp;quot;\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:51 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;x-api-key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;__cf_bm=bN2d5LY9gIgDXcGk6ZxUAIsg5A7HlNwpb4LAm1fZs6I-1750524111-1.0.1.1-EkTUnfsg5jUU.WeknUDbZZCSTdfvOOQbSA0EViGTGUgGHa2uO1vV50ntNYcjnZWLgdRDre1GiyGtutbbVdyQhLHBplq6W18u8RgV5HlN1cI; path=/; expires=Sat, 21-Jun-25 17:11:51 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f4b1db5f7d2d-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;api_key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;expires_at&amp;quot;: &amp;quot;2025-06-21T16:42:51.780318056Z&amp;quot;\n}\nINFO     root:conftest.py:24 Logged in as existing user: Z9JZO\n\n------------------------------ Captured log call -------------------------------\nINFO     root:conftest.py:13 Set bank account creation info for user: Z9JZO, info: {&amp;#x27;first_name&amp;#x27;: &amp;#x27;John&amp;#x27;, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe   &amp;#x27;, &amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000}\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/accounts\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;X-API-KEY&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;101&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;first_name&amp;quot;: &amp;quot;John&amp;quot;,\n  &amp;quot;last_name&amp;quot;: &amp;quot;Doe   &amp;quot;,\n  &amp;quot;date_of_birth&amp;quot;: &amp;quot;1990-01-01&amp;quot;,\n  &amp;quot;initial_deposit&amp;quot;: 1000\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:51 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;JSESSIONID=FBFA461FB99B1E48714B2C04372FF1B0; Path=/; Secure; HttpOnly, __cf_bm=BCcDRao5B8NBgFXRx3bOjU.7rNk8Vz1apIVLqloI0Ps-1750524111-1.0.1.1-ZPmzagzT12s8yZ_sHW5Fq4v5iG6uB5bEGRwsPv_x.ymsEWtwytoolxfE2b_w5LY7BoOcpzlLaueiymEN3dwVIkk2iVM1VtMjbpcvDK_N6HA; path=/; expires=Sat, 21-Jun-25 17:11:51 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f4b32d827d31-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;id&amp;quot;: 112,\n  &amp;quot;first_name&amp;quot;: &amp;quot;John&amp;quot;,\n  &amp;quot;last_name&amp;quot;: &amp;quot;Doe   &amp;quot;,\n  &amp;quot;date_of_birth&amp;quot;: &amp;quot;1990-01-01&amp;quot;,\n  &amp;quot;initial_deposit&amp;quot;: 999.99,\n  &amp;quot;full_name&amp;quot;: &amp;quot;John Doe   &amp;quot;,\n  &amp;quot;iban_issuance_status&amp;quot;: &amp;quot;REQUESTED&amp;quot;,\n  &amp;quot;iban&amp;quot;: null,\n  &amp;quot;created_at&amp;quot;: &amp;quot;2025-06-21T16:41:51.917950153&amp;quot;,\n  &amp;quot;updated_at&amp;quot;: &amp;quot;2025-06-21T16:41:51.917950153&amp;quot;\n}\n\n&#34;}], &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Numeric Last Name]&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Numeric Last Name]&#34;, &#34;duration&#34;: &#34;353 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Numeric Last Name]&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;353 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;user_data = {&amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;, &amp;#x27;first_name&amp;#x27;: &amp;#x27;John&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000, &amp;#x27;last_name&amp;#x27;: &amp;#x27;12345&amp;#x27;}\nbank_account_client = &amp;lt;api_clients_and_models.bank_account_manager_api_client.BAMAPIClient object at 0x105d18990&amp;gt;\nget_registered_and_logged_in_user = User(username=&amp;#x27;F6B0C&amp;#x27;, password=&amp;#x27;5DV6J&amp;#x27;, token=&amp;#x27;76515d55-7d13-498b-97e8-d5ba6c21c13e&amp;#x27;, id=123, bank_accounts={}, bank_...o=BankAccountCreationInfoModel(first_name=&amp;#x27;John&amp;#x27;, last_name=&amp;#x27;12345&amp;#x27;, date_of_birth=&amp;#x27;1990-01-01&amp;#x27;, initial_deposit=1000))\nset_bank_account_creation_info_to_user = &amp;lt;function set_bank_account_creation_info_to_user.&amp;lt;locals&amp;gt;._set_info at 0x105d8afc0&amp;gt;\n\n    @pytest.mark.parametrize(&amp;quot;user_data&amp;quot;, invalid_bank_account_creation_info.values(), ids=invalid_bank_account_creation_info.keys())\n    def test_create_bank_account_with_invalid_data(user_data, bank_account_client, get_registered_and_logged_in_user,\n                                                   set_bank_account_creation_info_to_user):\n        user = get_registered_and_logged_in_user\n        # Set invalid bank account creation info\n        set_bank_account_creation_info_to_user(user=user, first_name=user_data[&amp;#x27;first_name&amp;#x27;], last_name=user_data[&amp;#x27;last_name&amp;#x27;],\n                                               initial_deposit=user_data[&amp;#x27;initial_deposit&amp;#x27;],\n                                               date_of_birth= user_data[&amp;#x27;date_of_birth&amp;#x27;])\n    \n        response = bank_account_client.create_bank_account(user=user)\n&amp;gt;       assert response.status_code == HTTPStatus.BAD_REQUEST, (\n            f&amp;quot;Expected 400 Bad Request, got {response.status_code} for user data: {user_data}&amp;quot;\n        )\nE       AssertionError: Expected 400 Bad Request, got 200 for user data: {&amp;#x27;first_name&amp;#x27;: &amp;#x27;John&amp;#x27;, &amp;#x27;last_name&amp;#x27;: &amp;#x27;12345&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000, &amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;}\nE       assert 200 == &amp;lt;HTTPStatus.BAD_REQUEST: 400&amp;gt;\nE        +  where 200 = &amp;lt;Response [200]&amp;gt;.status_code\nE        +  and   &amp;lt;HTTPStatus.BAD_REQUEST: 400&amp;gt; = HTTPStatus.BAD_REQUEST\n\nbank_account_creation_test.py:63: AssertionError\n\n------------------------------ Captured log setup ------------------------------\nINFO     root:conftest.py:56 Using existing registered user. username: F6B0C, password: ***\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/auth/login\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;42&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;username&amp;quot;: &amp;quot;F6B0C&amp;quot;,\n  &amp;quot;password&amp;quot;: &amp;quot;***&amp;quot;\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:52 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;x-api-key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;__cf_bm=a1Zwzq.DrjfrPt_RI2PhyLy5P47wSR9bAvs11pWpAL4-1750524112-1.0.1.1-FkjJtvajRVtCIrB75kJWEx_0KHhe35_2RykMXfgMkgyQ2jSu7wJZWoOkfW1852n5vDgA5hCTlbY.BE4Yn418uDYL8HyOa.EMFHjoGAoDDmE; path=/; expires=Sat, 21-Jun-25 17:11:52 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f4b41f0132ea-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;api_key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;expires_at&amp;quot;: &amp;quot;2025-06-21T16:42:52.142677959Z&amp;quot;\n}\nINFO     root:conftest.py:24 Logged in as existing user: F6B0C\n\n------------------------------ Captured log call -------------------------------\nINFO     root:conftest.py:13 Set bank account creation info for user: F6B0C, info: {&amp;#x27;first_name&amp;#x27;: &amp;#x27;John&amp;#x27;, &amp;#x27;last_name&amp;#x27;: &amp;#x27;12345&amp;#x27;, &amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000}\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/accounts\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;X-API-KEY&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;100&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;first_name&amp;quot;: &amp;quot;John&amp;quot;,\n  &amp;quot;last_name&amp;quot;: &amp;quot;12345&amp;quot;,\n  &amp;quot;date_of_birth&amp;quot;: &amp;quot;1990-01-01&amp;quot;,\n  &amp;quot;initial_deposit&amp;quot;: 1000\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:52 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;JSESSIONID=6D9F318A2A42518794CAD766051D924C; Path=/; Secure; HttpOnly, __cf_bm=onm4KgYFVlImz2kOurjSsjQdZxotKxUinJO4Cq3ghCM-1750524112-1.0.1.1-XDyRZfR77IVoDMYccjllSq5rSr1AUukrvboOiqKMexB7YZacLERYCLo35hBQo0HWglNK5Ki8_6ggiqgNkoeuXcCAdZiZcU9gRS6uQZ3S15g; path=/; expires=Sat, 21-Jun-25 17:11:52 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f4b57a473326-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;id&amp;quot;: 113,\n  &amp;quot;first_name&amp;quot;: &amp;quot;John&amp;quot;,\n  &amp;quot;last_name&amp;quot;: &amp;quot;12345&amp;quot;,\n  &amp;quot;date_of_birth&amp;quot;: &amp;quot;1990-01-01&amp;quot;,\n  &amp;quot;initial_deposit&amp;quot;: 999.99,\n  &amp;quot;full_name&amp;quot;: &amp;quot;John 12345&amp;quot;,\n  &amp;quot;iban_issuance_status&amp;quot;: &amp;quot;REQUESTED&amp;quot;,\n  &amp;quot;iban&amp;quot;: null,\n  &amp;quot;created_at&amp;quot;: &amp;quot;2025-06-21T16:41:52.284026436&amp;quot;,\n  &amp;quot;updated_at&amp;quot;: &amp;quot;2025-06-21T16:41:52.284026436&amp;quot;\n}\n\n&#34;}], &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Integer Last Name]&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Integer Last Name]&#34;, &#34;duration&#34;: &#34;213 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Integer Last Name]&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;213 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;user_data = {&amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;, &amp;#x27;first_name&amp;#x27;: &amp;#x27;John&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000, &amp;#x27;last_name&amp;#x27;: 12345}\nbank_account_client = &amp;lt;api_clients_and_models.bank_account_manager_api_client.BAMAPIClient object at 0x105d18990&amp;gt;\nget_registered_and_logged_in_user = User(username=&amp;#x27;DLVEY&amp;#x27;, password=&amp;#x27;ALVUV&amp;#x27;, token=&amp;#x27;a355844d-8662-411d-9055-d2611fc7587a&amp;#x27;, id=96, bank_accounts={&amp;#x27;34&amp;#x27;: Ban...nfo=BankAccountCreationInfoModel(first_name=&amp;#x27;John&amp;#x27;, last_name=&amp;#x27;Doe&amp;#x27;, date_of_birth=&amp;#x27;1990-01-01&amp;#x27;, initial_deposit=1000))\nset_bank_account_creation_info_to_user = &amp;lt;function set_bank_account_creation_info_to_user.&amp;lt;locals&amp;gt;._set_info at 0x105de6840&amp;gt;\n\n    @pytest.mark.parametrize(&amp;quot;user_data&amp;quot;, invalid_bank_account_creation_info.values(), ids=invalid_bank_account_creation_info.keys())\n    def test_create_bank_account_with_invalid_data(user_data, bank_account_client, get_registered_and_logged_in_user,\n                                                   set_bank_account_creation_info_to_user):\n        user = get_registered_and_logged_in_user\n        # Set invalid bank account creation info\n&amp;gt;       set_bank_account_creation_info_to_user(user=user, first_name=user_data[&amp;#x27;first_name&amp;#x27;], last_name=user_data[&amp;#x27;last_name&amp;#x27;],\n                                               initial_deposit=user_data[&amp;#x27;initial_deposit&amp;#x27;],\n                                               date_of_birth= user_data[&amp;#x27;date_of_birth&amp;#x27;])\n\nbank_account_creation_test.py:58: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nuser = User(username=&amp;#x27;DLVEY&amp;#x27;, password=&amp;#x27;ALVUV&amp;#x27;, token=&amp;#x27;a355844d-8662-411d-9055-d2611fc7587a&amp;#x27;, id=96, bank_accounts={&amp;#x27;34&amp;#x27;: Ban...nfo=BankAccountCreationInfoModel(first_name=&amp;#x27;John&amp;#x27;, last_name=&amp;#x27;Doe&amp;#x27;, date_of_birth=&amp;#x27;1990-01-01&amp;#x27;, initial_deposit=1000))\nfirst_name = &amp;#x27;John&amp;#x27;, last_name = 12345, initial_deposit = 1000\ndate_of_birth = &amp;#x27;1990-01-01&amp;#x27;\n\n    def _set_info(user: User, first_name=None, last_name=None, initial_deposit=None, date_of_birth=None):\n&amp;gt;       info = BankAccountCreationInfoModel(first_name=first_name, last_name=last_name, initial_deposit=initial_deposit, date_of_birth=date_of_birth)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       pydantic_core._pydantic_core.ValidationError: 1 validation error for BankAccountCreationInfoModel\nE       last_name\nE         Input should be a valid string [type=string_type, input_value=12345, input_type=int]\nE           For further information visit https://errors.pydantic.dev/2.11/v/string_type\n\nconftest.py:11: ValidationError\n\n------------------------------ Captured log setup ------------------------------\nINFO     root:conftest.py:56 Using existing registered user. username: DLVEY, password: ***\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/auth/login\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;42&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;username&amp;quot;: &amp;quot;DLVEY&amp;quot;,\n  &amp;quot;password&amp;quot;: &amp;quot;***&amp;quot;\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:52 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;x-api-key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;__cf_bm=B9fYNoKqsvGR8bYMncVnvQ5S1jBMUPbQq4fdjYia4uA-1750524112-1.0.1.1-zdI8cb7ILIU5COPCoqfwrnXXO97i8iM9bgZNfQMNIKqT5wXQ.YoGeGQqmauQmoQYwMcn94H9H3E5SNt323IjgDnyiwuu9d4Zxp9xfE1qS1U; path=/; expires=Sat, 21-Jun-25 17:11:52 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f4b66de27d21-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;api_key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;expires_at&amp;quot;: &amp;quot;2025-06-21T16:42:52.509105352Z&amp;quot;\n}\nINFO     root:conftest.py:24 Logged in as existing user: DLVEY\n&#34;}], &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Special Characters in Last Name]&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Special Characters in Last Name]&#34;, &#34;duration&#34;: &#34;354 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Special Characters in Last Name]&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;354 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;user_data = {&amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;, &amp;#x27;first_name&amp;#x27;: &amp;#x27;John&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000, &amp;#x27;last_name&amp;#x27;: &amp;#x27;!@#$%&amp;#x27;}\nbank_account_client = &amp;lt;api_clients_and_models.bank_account_manager_api_client.BAMAPIClient object at 0x105d18990&amp;gt;\nget_registered_and_logged_in_user = User(username=&amp;#x27;HR5OM&amp;#x27;, password=&amp;#x27;CX1M7&amp;#x27;, token=&amp;#x27;c1c6d2fa-4960-45ae-a566-a5ccce48ab6e&amp;#x27;, id=130, bank_accounts={}, bank_...o=BankAccountCreationInfoModel(first_name=&amp;#x27;John&amp;#x27;, last_name=&amp;#x27;!@#$%&amp;#x27;, date_of_birth=&amp;#x27;1990-01-01&amp;#x27;, initial_deposit=1000))\nset_bank_account_creation_info_to_user = &amp;lt;function set_bank_account_creation_info_to_user.&amp;lt;locals&amp;gt;._set_info at 0x105de5620&amp;gt;\n\n    @pytest.mark.parametrize(&amp;quot;user_data&amp;quot;, invalid_bank_account_creation_info.values(), ids=invalid_bank_account_creation_info.keys())\n    def test_create_bank_account_with_invalid_data(user_data, bank_account_client, get_registered_and_logged_in_user,\n                                                   set_bank_account_creation_info_to_user):\n        user = get_registered_and_logged_in_user\n        # Set invalid bank account creation info\n        set_bank_account_creation_info_to_user(user=user, first_name=user_data[&amp;#x27;first_name&amp;#x27;], last_name=user_data[&amp;#x27;last_name&amp;#x27;],\n                                               initial_deposit=user_data[&amp;#x27;initial_deposit&amp;#x27;],\n                                               date_of_birth= user_data[&amp;#x27;date_of_birth&amp;#x27;])\n    \n        response = bank_account_client.create_bank_account(user=user)\n&amp;gt;       assert response.status_code == HTTPStatus.BAD_REQUEST, (\n            f&amp;quot;Expected 400 Bad Request, got {response.status_code} for user data: {user_data}&amp;quot;\n        )\nE       AssertionError: Expected 400 Bad Request, got 200 for user data: {&amp;#x27;first_name&amp;#x27;: &amp;#x27;John&amp;#x27;, &amp;#x27;last_name&amp;#x27;: &amp;#x27;!@#$%&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000, &amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;}\nE       assert 200 == &amp;lt;HTTPStatus.BAD_REQUEST: 400&amp;gt;\nE        +  where 200 = &amp;lt;Response [200]&amp;gt;.status_code\nE        +  and   &amp;lt;HTTPStatus.BAD_REQUEST: 400&amp;gt; = HTTPStatus.BAD_REQUEST\n\nbank_account_creation_test.py:63: AssertionError\n\n------------------------------ Captured log setup ------------------------------\nINFO     root:conftest.py:56 Using existing registered user. username: HR5OM, password: ***\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/auth/login\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;42&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;username&amp;quot;: &amp;quot;HR5OM&amp;quot;,\n  &amp;quot;password&amp;quot;: &amp;quot;***&amp;quot;\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:52 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;x-api-key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;__cf_bm=VEln3NnGwJtDz.1o__foLUk71LOoSSXJN42FcJ7HtdM-1750524112-1.0.1.1-hzebtUrCNWdL2IM8Aqn9NF1FnKShtTD91Q8NMjAs_bRRKNrgpTukZaTf2VLweaLIs0eTBpeooA0HZB.NGpbqvMoxcyekNNeMM8P2.YDx2pM; path=/; expires=Sat, 21-Jun-25 17:11:52 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f4b7ff277d39-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;api_key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;expires_at&amp;quot;: &amp;quot;2025-06-21T16:42:52.758334347Z&amp;quot;\n}\nINFO     root:conftest.py:24 Logged in as existing user: HR5OM\n\n------------------------------ Captured log call -------------------------------\nINFO     root:conftest.py:13 Set bank account creation info for user: HR5OM, info: {&amp;#x27;first_name&amp;#x27;: &amp;#x27;John&amp;#x27;, &amp;#x27;last_name&amp;#x27;: &amp;#x27;!@#$%&amp;#x27;, &amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000}\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/accounts\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;X-API-KEY&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;100&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;first_name&amp;quot;: &amp;quot;John&amp;quot;,\n  &amp;quot;last_name&amp;quot;: &amp;quot;!@#$%&amp;quot;,\n  &amp;quot;date_of_birth&amp;quot;: &amp;quot;1990-01-01&amp;quot;,\n  &amp;quot;initial_deposit&amp;quot;: 1000\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:52 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;JSESSIONID=FB65CC0519AB8D78B9A7ACE2D3EBBACA; Path=/; Secure; HttpOnly, __cf_bm=Ow0GuEXXQNx1f0zIni0125magEGYYMEZggi60tq_Vsw-1750524112-1.0.1.1-0eKA2_eBW3ntJKl3evO.32jKBP8rwy5pn_yKAAnN7zEP_ZHNpxyb8mxuEer_5fDG4VrzWcc2zCdWmY3lw1cKpmSqWeFA5IRWp1F1GVzxWAI; path=/; expires=Sat, 21-Jun-25 17:11:52 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f4b93f6f7d21-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;id&amp;quot;: 114,\n  &amp;quot;first_name&amp;quot;: &amp;quot;John&amp;quot;,\n  &amp;quot;last_name&amp;quot;: &amp;quot;!@#$%&amp;quot;,\n  &amp;quot;date_of_birth&amp;quot;: &amp;quot;1990-01-01&amp;quot;,\n  &amp;quot;initial_deposit&amp;quot;: 999.99,\n  &amp;quot;full_name&amp;quot;: &amp;quot;John !@#$%&amp;quot;,\n  &amp;quot;iban_issuance_status&amp;quot;: &amp;quot;REQUESTED&amp;quot;,\n  &amp;quot;iban&amp;quot;: null,\n  &amp;quot;created_at&amp;quot;: &amp;quot;2025-06-21T16:41:52.883175427&amp;quot;,\n  &amp;quot;updated_at&amp;quot;: &amp;quot;2025-06-21T16:41:52.883175427&amp;quot;\n}\n\n&#34;}], &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Boolean Last Name]&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Boolean Last Name]&#34;, &#34;duration&#34;: &#34;207 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Boolean Last Name]&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;207 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;user_data = {&amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;, &amp;#x27;first_name&amp;#x27;: &amp;#x27;John&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000, &amp;#x27;last_name&amp;#x27;: True}\nbank_account_client = &amp;lt;api_clients_and_models.bank_account_manager_api_client.BAMAPIClient object at 0x105d18990&amp;gt;\nget_registered_and_logged_in_user = User(username=&amp;#x27;OJW08&amp;#x27;, password=&amp;#x27;BFV75&amp;#x27;, token=&amp;#x27;cfa50f1d-dd25-4e5c-bc5f-f9bb5b72cd18&amp;#x27;, id=126, bank_accounts={}, bank_..._creation_info=BankAccountCreationInfoModel(first_name=None, last_name=None, date_of_birth=None, initial_deposit=None))\nset_bank_account_creation_info_to_user = &amp;lt;function set_bank_account_creation_info_to_user.&amp;lt;locals&amp;gt;._set_info at 0x105de42c0&amp;gt;\n\n    @pytest.mark.parametrize(&amp;quot;user_data&amp;quot;, invalid_bank_account_creation_info.values(), ids=invalid_bank_account_creation_info.keys())\n    def test_create_bank_account_with_invalid_data(user_data, bank_account_client, get_registered_and_logged_in_user,\n                                                   set_bank_account_creation_info_to_user):\n        user = get_registered_and_logged_in_user\n        # Set invalid bank account creation info\n&amp;gt;       set_bank_account_creation_info_to_user(user=user, first_name=user_data[&amp;#x27;first_name&amp;#x27;], last_name=user_data[&amp;#x27;last_name&amp;#x27;],\n                                               initial_deposit=user_data[&amp;#x27;initial_deposit&amp;#x27;],\n                                               date_of_birth= user_data[&amp;#x27;date_of_birth&amp;#x27;])\n\nbank_account_creation_test.py:58: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nuser = User(username=&amp;#x27;OJW08&amp;#x27;, password=&amp;#x27;BFV75&amp;#x27;, token=&amp;#x27;cfa50f1d-dd25-4e5c-bc5f-f9bb5b72cd18&amp;#x27;, id=126, bank_accounts={}, bank_..._creation_info=BankAccountCreationInfoModel(first_name=None, last_name=None, date_of_birth=None, initial_deposit=None))\nfirst_name = &amp;#x27;John&amp;#x27;, last_name = True, initial_deposit = 1000\ndate_of_birth = &amp;#x27;1990-01-01&amp;#x27;\n\n    def _set_info(user: User, first_name=None, last_name=None, initial_deposit=None, date_of_birth=None):\n&amp;gt;       info = BankAccountCreationInfoModel(first_name=first_name, last_name=last_name, initial_deposit=initial_deposit, date_of_birth=date_of_birth)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       pydantic_core._pydantic_core.ValidationError: 1 validation error for BankAccountCreationInfoModel\nE       last_name\nE         Input should be a valid string [type=string_type, input_value=True, input_type=bool]\nE           For further information visit https://errors.pydantic.dev/2.11/v/string_type\n\nconftest.py:11: ValidationError\n\n------------------------------ Captured log setup ------------------------------\nINFO     root:conftest.py:56 Using existing registered user. username: OJW08, password: ***\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/auth/login\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;42&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;username&amp;quot;: &amp;quot;OJW08&amp;quot;,\n  &amp;quot;password&amp;quot;: &amp;quot;***&amp;quot;\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:53 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;x-api-key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;__cf_bm=egpJw8mImIRKhj85f8_1yOilpwp9e2DCSctLgSt7xPg-1750524113-1.0.1.1-pl5.z_c.PiWtmiXS_FOiciKn0DkZm2q2zGRhmtHWyOQ4oIvNGOF6xLbS5ultDVJGvJPPT4q0TMmCqCleMxtTYNJD8d4qox1Dmsym0n1kzlE; path=/; expires=Sat, 21-Jun-25 17:11:53 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f4ba2db57d2d-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;api_key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;expires_at&amp;quot;: &amp;quot;2025-06-21T16:42:53.105549709Z&amp;quot;\n}\nINFO     root:conftest.py:24 Logged in as existing user: OJW08\n&#34;}], &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[None Last Name]&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[None Last Name]&#34;, &#34;duration&#34;: &#34;329 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[None Last Name]&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;329 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;------------------------------ Captured log setup ------------------------------\nINFO     root:conftest.py:56 Using existing registered user. username: Z9JZO, password: ***\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/auth/login\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;42&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;username&amp;quot;: &amp;quot;Z9JZO&amp;quot;,\n  &amp;quot;password&amp;quot;: &amp;quot;***&amp;quot;\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:53 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;x-api-key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;__cf_bm=O23PWn2uz_lGL31WIZ6u3zYx5F76d4CqykL21l3daY0-1750524113-1.0.1.1-QUx9N.2ZZK1VqJtJA1.vjFF1v4uAAGry7Pq_b62hcy74EbkZxl9_kvwUbYj5Xpz9iw7lDGxc99UnUqqJiPqjVkgtcLPqqOC6dLheIcoE8r0; path=/; expires=Sat, 21-Jun-25 17:11:53 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f4bb8bec3362-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;api_key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;expires_at&amp;quot;: &amp;quot;2025-06-21T16:42:53.328472031Z&amp;quot;\n}\nINFO     root:conftest.py:24 Logged in as existing user: Z9JZO\n\n------------------------------ Captured log call -------------------------------\nINFO     root:conftest.py:13 Set bank account creation info for user: Z9JZO, info: {&amp;#x27;first_name&amp;#x27;: &amp;#x27;John&amp;#x27;, &amp;#x27;last_name&amp;#x27;: None, &amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000}\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/accounts\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;X-API-KEY&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;97&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;first_name&amp;quot;: &amp;quot;John&amp;quot;,\n  &amp;quot;last_name&amp;quot;: null,\n  &amp;quot;date_of_birth&amp;quot;: &amp;quot;1990-01-01&amp;quot;,\n  &amp;quot;initial_deposit&amp;quot;: 1000\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 400\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:53 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;JSESSIONID=5EF0A9CA8983DDE413F6FEECFADA0672; Path=/; Secure; HttpOnly, __cf_bm=nIPxaxZwaYnfn.q8Vmxs.nMWHj05p2mJ1D3N5jNHJHQ-1750524113-1.0.1.1-0HTeMcky_NBFWagl0ShS1cwG2tw2Qa8wjND9q.9aVLItrnllHzp7fpSZG0Rg1WWHLBtqzIE6kBxfLsZqfq99yzs3Ysg52n3yZTuO3sFZgXU; path=/; expires=Sat, 21-Jun-25 17:11:53 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f4bccc433362-EVN&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;timestamp&amp;quot;: &amp;quot;2025-06-21T16:41:53.457+00:00&amp;quot;,\n  &amp;quot;status&amp;quot;: 400,\n  &amp;quot;error&amp;quot;: &amp;quot;Bad Request&amp;quot;,\n  &amp;quot;message&amp;quot;: &amp;quot;JSON parse error: Instantiation of [simple type, class com.sumup.bank.qachallenge.dto.CreateAccountRequest] value failed for JSON property last_name due to missing (therefore NULL) value for creator parameter lastName which is a non-nullable type&amp;quot;,\n  &amp;quot;path&amp;quot;: &amp;quot;/api/accounts&amp;quot;\n}\n\n&#34;}], &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[List Last Name]&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[List Last Name]&#34;, &#34;duration&#34;: &#34;209 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[List Last Name]&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;209 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;user_data = {&amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;, &amp;#x27;first_name&amp;#x27;: &amp;#x27;John&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000, &amp;#x27;last_name&amp;#x27;: [&amp;#x27;Doe&amp;#x27;]}\nbank_account_client = &amp;lt;api_clients_and_models.bank_account_manager_api_client.BAMAPIClient object at 0x105d18990&amp;gt;\nget_registered_and_logged_in_user = User(username=&amp;#x27;U5CPY&amp;#x27;, password=&amp;#x27;Y2XE5&amp;#x27;, token=&amp;#x27;f27dfde4-481b-420b-baae-2a076bee7c9a&amp;#x27;, id=116, bank_accounts={}, bank_..._creation_info=BankAccountCreationInfoModel(first_name=None, last_name=None, date_of_birth=None, initial_deposit=None))\nset_bank_account_creation_info_to_user = &amp;lt;function set_bank_account_creation_info_to_user.&amp;lt;locals&amp;gt;._set_info at 0x105de68e0&amp;gt;\n\n    @pytest.mark.parametrize(&amp;quot;user_data&amp;quot;, invalid_bank_account_creation_info.values(), ids=invalid_bank_account_creation_info.keys())\n    def test_create_bank_account_with_invalid_data(user_data, bank_account_client, get_registered_and_logged_in_user,\n                                                   set_bank_account_creation_info_to_user):\n        user = get_registered_and_logged_in_user\n        # Set invalid bank account creation info\n&amp;gt;       set_bank_account_creation_info_to_user(user=user, first_name=user_data[&amp;#x27;first_name&amp;#x27;], last_name=user_data[&amp;#x27;last_name&amp;#x27;],\n                                               initial_deposit=user_data[&amp;#x27;initial_deposit&amp;#x27;],\n                                               date_of_birth= user_data[&amp;#x27;date_of_birth&amp;#x27;])\n\nbank_account_creation_test.py:58: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nuser = User(username=&amp;#x27;U5CPY&amp;#x27;, password=&amp;#x27;Y2XE5&amp;#x27;, token=&amp;#x27;f27dfde4-481b-420b-baae-2a076bee7c9a&amp;#x27;, id=116, bank_accounts={}, bank_..._creation_info=BankAccountCreationInfoModel(first_name=None, last_name=None, date_of_birth=None, initial_deposit=None))\nfirst_name = &amp;#x27;John&amp;#x27;, last_name = [&amp;#x27;Doe&amp;#x27;], initial_deposit = 1000\ndate_of_birth = &amp;#x27;1990-01-01&amp;#x27;\n\n    def _set_info(user: User, first_name=None, last_name=None, initial_deposit=None, date_of_birth=None):\n&amp;gt;       info = BankAccountCreationInfoModel(first_name=first_name, last_name=last_name, initial_deposit=initial_deposit, date_of_birth=date_of_birth)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       pydantic_core._pydantic_core.ValidationError: 1 validation error for BankAccountCreationInfoModel\nE       last_name\nE         Input should be a valid string [type=string_type, input_value=[&amp;#x27;Doe&amp;#x27;], input_type=list]\nE           For further information visit https://errors.pydantic.dev/2.11/v/string_type\n\nconftest.py:11: ValidationError\n\n------------------------------ Captured log setup ------------------------------\nINFO     root:conftest.py:56 Using existing registered user. username: U5CPY, password: ***\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/auth/login\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;42&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;username&amp;quot;: &amp;quot;U5CPY&amp;quot;,\n  &amp;quot;password&amp;quot;: &amp;quot;***&amp;quot;\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:53 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;x-api-key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;__cf_bm=TioxM6rDJQ04P8W513sfZyIRZknX1hoWKOhh.XxNCDo-1750524113-1.0.1.1-j8KHQk86N3hMgtm7b25i2FP32jMGLmsQxUNXgLvpmNcmbOEJGov6xnIsOWBjqg38vpyRl4AYNyZxiMA2R5.99_V8j6Z6Im5uh_9bYEOOvTk; path=/; expires=Sat, 21-Jun-25 17:11:53 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f4bd9b3d331a-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;api_key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;expires_at&amp;quot;: &amp;quot;2025-06-21T16:42:53.661338792Z&amp;quot;\n}\nINFO     root:conftest.py:24 Logged in as existing user: U5CPY\n&#34;}], &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Dict Last Name]&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Dict Last Name]&#34;, &#34;duration&#34;: &#34;208 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Dict Last Name]&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;208 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;user_data = {&amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;, &amp;#x27;first_name&amp;#x27;: &amp;#x27;John&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000, &amp;#x27;last_name&amp;#x27;: {&amp;#x27;name&amp;#x27;: &amp;#x27;Doe&amp;#x27;}}\nbank_account_client = &amp;lt;api_clients_and_models.bank_account_manager_api_client.BAMAPIClient object at 0x105d18990&amp;gt;\nget_registered_and_logged_in_user = User(username=&amp;#x27;OJW08&amp;#x27;, password=&amp;#x27;BFV75&amp;#x27;, token=&amp;#x27;1c715729-57c3-4299-9935-7d5b0dfd152f&amp;#x27;, id=126, bank_accounts={}, bank_..._creation_info=BankAccountCreationInfoModel(first_name=None, last_name=None, date_of_birth=None, initial_deposit=None))\nset_bank_account_creation_info_to_user = &amp;lt;function set_bank_account_creation_info_to_user.&amp;lt;locals&amp;gt;._set_info at 0x105de77e0&amp;gt;\n\n    @pytest.mark.parametrize(&amp;quot;user_data&amp;quot;, invalid_bank_account_creation_info.values(), ids=invalid_bank_account_creation_info.keys())\n    def test_create_bank_account_with_invalid_data(user_data, bank_account_client, get_registered_and_logged_in_user,\n                                                   set_bank_account_creation_info_to_user):\n        user = get_registered_and_logged_in_user\n        # Set invalid bank account creation info\n&amp;gt;       set_bank_account_creation_info_to_user(user=user, first_name=user_data[&amp;#x27;first_name&amp;#x27;], last_name=user_data[&amp;#x27;last_name&amp;#x27;],\n                                               initial_deposit=user_data[&amp;#x27;initial_deposit&amp;#x27;],\n                                               date_of_birth= user_data[&amp;#x27;date_of_birth&amp;#x27;])\n\nbank_account_creation_test.py:58: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nuser = User(username=&amp;#x27;OJW08&amp;#x27;, password=&amp;#x27;BFV75&amp;#x27;, token=&amp;#x27;1c715729-57c3-4299-9935-7d5b0dfd152f&amp;#x27;, id=126, bank_accounts={}, bank_..._creation_info=BankAccountCreationInfoModel(first_name=None, last_name=None, date_of_birth=None, initial_deposit=None))\nfirst_name = &amp;#x27;John&amp;#x27;, last_name = {&amp;#x27;name&amp;#x27;: &amp;#x27;Doe&amp;#x27;}, initial_deposit = 1000\ndate_of_birth = &amp;#x27;1990-01-01&amp;#x27;\n\n    def _set_info(user: User, first_name=None, last_name=None, initial_deposit=None, date_of_birth=None):\n&amp;gt;       info = BankAccountCreationInfoModel(first_name=first_name, last_name=last_name, initial_deposit=initial_deposit, date_of_birth=date_of_birth)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       pydantic_core._pydantic_core.ValidationError: 1 validation error for BankAccountCreationInfoModel\nE       last_name\nE         Input should be a valid string [type=string_type, input_value={&amp;#x27;name&amp;#x27;: &amp;#x27;Doe&amp;#x27;}, input_type=dict]\nE           For further information visit https://errors.pydantic.dev/2.11/v/string_type\n\nconftest.py:11: ValidationError\n\n------------------------------ Captured log setup ------------------------------\nINFO     root:conftest.py:56 Using existing registered user. username: OJW08, password: ***\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/auth/login\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;42&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;username&amp;quot;: &amp;quot;OJW08&amp;quot;,\n  &amp;quot;password&amp;quot;: &amp;quot;***&amp;quot;\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:53 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;x-api-key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;__cf_bm=AEo.gG9KchGv3XyqTvimUyzxtK_70fnxa0s5rFyAuzU-1750524113-1.0.1.1-MAkgiPSYbwYVpghLV3zY5CP.mOAAjKfLz43I5G0Yv4HW7SDMLXae9PklIC.I9WMPrshJDEiak9oUuELbF.6MiuC2AF7ud4JfI_tkHxYcg5Y; path=/; expires=Sat, 21-Jun-25 17:11:53 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f4bf0f237d2d-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;api_key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;expires_at&amp;quot;: &amp;quot;2025-06-21T16:42:53.889532458Z&amp;quot;\n}\nINFO     root:conftest.py:24 Logged in as existing user: OJW08\n&#34;}], &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[SQL Injection Last Name]&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[SQL Injection Last Name]&#34;, &#34;duration&#34;: &#34;334 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[SQL Injection Last Name]&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;334 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;user_data = {&amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;, &amp;#x27;first_name&amp;#x27;: &amp;#x27;John&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000, &amp;#x27;last_name&amp;#x27;: &amp;quot;&amp;#x27;; DROP TABLE users; --&amp;quot;}\nbank_account_client = &amp;lt;api_clients_and_models.bank_account_manager_api_client.BAMAPIClient object at 0x105d18990&amp;gt;\nget_registered_and_logged_in_user = User(username=&amp;#x27;F6B0C&amp;#x27;, password=&amp;#x27;5DV6J&amp;#x27;, token=&amp;#x27;de187e72-ab63-4f18-b911-2f82ae7c4949&amp;#x27;, id=123, bank_accounts={}, bank_...ionInfoModel(first_name=&amp;#x27;John&amp;#x27;, last_name=&amp;quot;&amp;#x27;; DROP TABLE users; --&amp;quot;, date_of_birth=&amp;#x27;1990-01-01&amp;#x27;, initial_deposit=1000))\nset_bank_account_creation_info_to_user = &amp;lt;function set_bank_account_creation_info_to_user.&amp;lt;locals&amp;gt;._set_info at 0x105de4860&amp;gt;\n\n    @pytest.mark.parametrize(&amp;quot;user_data&amp;quot;, invalid_bank_account_creation_info.values(), ids=invalid_bank_account_creation_info.keys())\n    def test_create_bank_account_with_invalid_data(user_data, bank_account_client, get_registered_and_logged_in_user,\n                                                   set_bank_account_creation_info_to_user):\n        user = get_registered_and_logged_in_user\n        # Set invalid bank account creation info\n        set_bank_account_creation_info_to_user(user=user, first_name=user_data[&amp;#x27;first_name&amp;#x27;], last_name=user_data[&amp;#x27;last_name&amp;#x27;],\n                                               initial_deposit=user_data[&amp;#x27;initial_deposit&amp;#x27;],\n                                               date_of_birth= user_data[&amp;#x27;date_of_birth&amp;#x27;])\n    \n        response = bank_account_client.create_bank_account(user=user)\n&amp;gt;       assert response.status_code == HTTPStatus.BAD_REQUEST, (\n            f&amp;quot;Expected 400 Bad Request, got {response.status_code} for user data: {user_data}&amp;quot;\n        )\nE       AssertionError: Expected 400 Bad Request, got 200 for user data: {&amp;#x27;first_name&amp;#x27;: &amp;#x27;John&amp;#x27;, &amp;#x27;last_name&amp;#x27;: &amp;quot;&amp;#x27;; DROP TABLE users; --&amp;quot;, &amp;#x27;initial_deposit&amp;#x27;: 1000, &amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;}\nE       assert 200 == &amp;lt;HTTPStatus.BAD_REQUEST: 400&amp;gt;\nE        +  where 200 = &amp;lt;Response [200]&amp;gt;.status_code\nE        +  and   &amp;lt;HTTPStatus.BAD_REQUEST: 400&amp;gt; = HTTPStatus.BAD_REQUEST\n\nbank_account_creation_test.py:63: AssertionError\n\n------------------------------ Captured log setup ------------------------------\nINFO     root:conftest.py:56 Using existing registered user. username: F6B0C, password: ***\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/auth/login\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;42&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;username&amp;quot;: &amp;quot;F6B0C&amp;quot;,\n  &amp;quot;password&amp;quot;: &amp;quot;***&amp;quot;\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:54 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;x-api-key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;__cf_bm=FWXFfsCbZO.QfNmOjZEbiJ9IstiGqeH6kwcSt7_wFBY-1750524114-1.0.1.1-Pidk9dzmbioQrWocDUv2MW3BFF0RB9wx8KgcYYyVRb3L9_CS24Ir8z3v5wU6QkeJBcZqplA6JBayd1zAlPQD1CApvvFDrFqHAnWXh63Vuyw; path=/; expires=Sat, 21-Jun-25 17:11:54 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f4c06a3f7d21-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;api_key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;expires_at&amp;quot;: &amp;quot;2025-06-21T16:42:54.112511338Z&amp;quot;\n}\nINFO     root:conftest.py:24 Logged in as existing user: F6B0C\n\n------------------------------ Captured log call -------------------------------\nINFO     root:conftest.py:13 Set bank account creation info for user: F6B0C, info: {&amp;#x27;first_name&amp;#x27;: &amp;#x27;John&amp;#x27;, &amp;#x27;last_name&amp;#x27;: &amp;quot;&amp;#x27;; DROP TABLE users; --&amp;quot;, &amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000}\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/accounts\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;X-API-KEY&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;118&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;first_name&amp;quot;: &amp;quot;John&amp;quot;,\n  &amp;quot;last_name&amp;quot;: &amp;quot;&amp;#x27;; DROP TABLE users; --&amp;quot;,\n  &amp;quot;date_of_birth&amp;quot;: &amp;quot;1990-01-01&amp;quot;,\n  &amp;quot;initial_deposit&amp;quot;: 1000\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:54 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;JSESSIONID=971CA4164706FABA73813A8FD9C09071; Path=/; Secure; HttpOnly, __cf_bm=Vskfg2g1mBAPKmx9DLOoUkfGsAWA1nnfShNwJSlSJbo-1750524114-1.0.1.1-K46J2.qJGQYE0fYgMuWzF2LSdSRkYdHngdgynTBZKPhOSqaxgiCUFHftEPeUwpNMqoBC83rebmjF13QDedON7JVQxdQiQ4fi1RasiVt5mkg; path=/; expires=Sat, 21-Jun-25 17:11:54 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f4c1af33334a-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;id&amp;quot;: 115,\n  &amp;quot;first_name&amp;quot;: &amp;quot;John&amp;quot;,\n  &amp;quot;last_name&amp;quot;: &amp;quot;&amp;#x27;; DROP TABLE users; --&amp;quot;,\n  &amp;quot;date_of_birth&amp;quot;: &amp;quot;1990-01-01&amp;quot;,\n  &amp;quot;initial_deposit&amp;quot;: 999.99,\n  &amp;quot;full_name&amp;quot;: &amp;quot;John &amp;#x27;; DROP TABLE users; --&amp;quot;,\n  &amp;quot;iban_issuance_status&amp;quot;: &amp;quot;REQUESTED&amp;quot;,\n  &amp;quot;iban&amp;quot;: null,\n  &amp;quot;created_at&amp;quot;: &amp;quot;2025-06-21T16:41:54.244867263&amp;quot;,\n  &amp;quot;updated_at&amp;quot;: &amp;quot;2025-06-21T16:41:54.244867263&amp;quot;\n}\n\n&#34;}], &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[XSS Last Name]&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[XSS Last Name]&#34;, &#34;duration&#34;: &#34;337 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[XSS Last Name]&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;337 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;user_data = {&amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;, &amp;#x27;first_name&amp;#x27;: &amp;#x27;John&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000, &amp;#x27;last_name&amp;#x27;: &amp;quot;&amp;lt;script&amp;gt;alert(&amp;#x27;XSS&amp;#x27;);&amp;lt;/script&amp;gt;&amp;quot;}\nbank_account_client = &amp;lt;api_clients_and_models.bank_account_manager_api_client.BAMAPIClient object at 0x105d18990&amp;gt;\nget_registered_and_logged_in_user = User(username=&amp;#x27;F6B0C&amp;#x27;, password=&amp;#x27;5DV6J&amp;#x27;, token=&amp;#x27;031066e9-41c9-4cc9-9131-f9cb476ffc16&amp;#x27;, id=123, bank_accounts={}, bank_...Model(first_name=&amp;#x27;John&amp;#x27;, last_name=&amp;quot;&amp;lt;script&amp;gt;alert(&amp;#x27;XSS&amp;#x27;);&amp;lt;/script&amp;gt;&amp;quot;, date_of_birth=&amp;#x27;1990-01-01&amp;#x27;, initial_deposit=1000))\nset_bank_account_creation_info_to_user = &amp;lt;function set_bank_account_creation_info_to_user.&amp;lt;locals&amp;gt;._set_info at 0x105de7420&amp;gt;\n\n    @pytest.mark.parametrize(&amp;quot;user_data&amp;quot;, invalid_bank_account_creation_info.values(), ids=invalid_bank_account_creation_info.keys())\n    def test_create_bank_account_with_invalid_data(user_data, bank_account_client, get_registered_and_logged_in_user,\n                                                   set_bank_account_creation_info_to_user):\n        user = get_registered_and_logged_in_user\n        # Set invalid bank account creation info\n        set_bank_account_creation_info_to_user(user=user, first_name=user_data[&amp;#x27;first_name&amp;#x27;], last_name=user_data[&amp;#x27;last_name&amp;#x27;],\n                                               initial_deposit=user_data[&amp;#x27;initial_deposit&amp;#x27;],\n                                               date_of_birth= user_data[&amp;#x27;date_of_birth&amp;#x27;])\n    \n        response = bank_account_client.create_bank_account(user=user)\n&amp;gt;       assert response.status_code == HTTPStatus.BAD_REQUEST, (\n            f&amp;quot;Expected 400 Bad Request, got {response.status_code} for user data: {user_data}&amp;quot;\n        )\nE       AssertionError: Expected 400 Bad Request, got 200 for user data: {&amp;#x27;first_name&amp;#x27;: &amp;#x27;John&amp;#x27;, &amp;#x27;last_name&amp;#x27;: &amp;quot;&amp;lt;script&amp;gt;alert(&amp;#x27;XSS&amp;#x27;);&amp;lt;/script&amp;gt;&amp;quot;, &amp;#x27;initial_deposit&amp;#x27;: 1000, &amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;}\nE       assert 200 == &amp;lt;HTTPStatus.BAD_REQUEST: 400&amp;gt;\nE        +  where 200 = &amp;lt;Response [200]&amp;gt;.status_code\nE        +  and   &amp;lt;HTTPStatus.BAD_REQUEST: 400&amp;gt; = HTTPStatus.BAD_REQUEST\n\nbank_account_creation_test.py:63: AssertionError\n\n------------------------------ Captured log setup ------------------------------\nINFO     root:conftest.py:56 Using existing registered user. username: F6B0C, password: ***\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/auth/login\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;42&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;username&amp;quot;: &amp;quot;F6B0C&amp;quot;,\n  &amp;quot;password&amp;quot;: &amp;quot;***&amp;quot;\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:54 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;x-api-key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;__cf_bm=hdCmC6Fe7VpJEpGQszwwkfV9conwru1ncZfV3olfm9U-1750524114-1.0.1.1-Nw2r112Maw1o4U_FDymxSPX86NZ.uta7EZk9z3CQab_B1f5HC_DyYdNw6lDvNakWtICWz0x3pyW9t5g8.rPL4Xm0LIU3wiGIGVHygsfG1hI; path=/; expires=Sat, 21-Jun-25 17:11:54 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f4c29b307d31-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;api_key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;expires_at&amp;quot;: &amp;quot;2025-06-21T16:42:54.458927311Z&amp;quot;\n}\nINFO     root:conftest.py:24 Logged in as existing user: F6B0C\n\n------------------------------ Captured log call -------------------------------\nINFO     root:conftest.py:13 Set bank account creation info for user: F6B0C, info: {&amp;#x27;first_name&amp;#x27;: &amp;#x27;John&amp;#x27;, &amp;#x27;last_name&amp;#x27;: &amp;quot;&amp;lt;script&amp;gt;alert(&amp;#x27;XSS&amp;#x27;);&amp;lt;/script&amp;gt;&amp;quot;, &amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000}\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/accounts\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;X-API-KEY&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;125&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;first_name&amp;quot;: &amp;quot;John&amp;quot;,\n  &amp;quot;last_name&amp;quot;: &amp;quot;&amp;lt;script&amp;gt;alert(&amp;#x27;XSS&amp;#x27;);&amp;lt;/script&amp;gt;&amp;quot;,\n  &amp;quot;date_of_birth&amp;quot;: &amp;quot;1990-01-01&amp;quot;,\n  &amp;quot;initial_deposit&amp;quot;: 1000\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:54 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;JSESSIONID=A66E52779B9CDFF64A5357F6A651FB9C; Path=/; Secure; HttpOnly, __cf_bm=Ma4Y.DVYN4lNHc0XwP5pRYEmG_03vm6kj9WB.ys.97s-1750524114-1.0.1.1-WEcEPm_8GOJEbIQg_5RcDNV7KXb8gunkbtxAn5s3mqPEYfSqXdxjbpzLkksFlDlbEZ83lhOE0mu5POmScl.h6mc7d5mpf1Z31F408mpPdrc; path=/; expires=Sat, 21-Jun-25 17:11:54 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f4c3dcdf32ea-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;id&amp;quot;: 116,\n  &amp;quot;first_name&amp;quot;: &amp;quot;John&amp;quot;,\n  &amp;quot;last_name&amp;quot;: &amp;quot;&amp;lt;script&amp;gt;alert(&amp;#x27;XSS&amp;#x27;);&amp;lt;/script&amp;gt;&amp;quot;,\n  &amp;quot;date_of_birth&amp;quot;: &amp;quot;1990-01-01&amp;quot;,\n  &amp;quot;initial_deposit&amp;quot;: 999.99,\n  &amp;quot;full_name&amp;quot;: &amp;quot;John &amp;lt;script&amp;gt;alert(&amp;#x27;XSS&amp;#x27;);&amp;lt;/script&amp;gt;&amp;quot;,\n  &amp;quot;iban_issuance_status&amp;quot;: &amp;quot;REQUESTED&amp;quot;,\n  &amp;quot;iban&amp;quot;: null,\n  &amp;quot;created_at&amp;quot;: &amp;quot;2025-06-21T16:41:54.584963788&amp;quot;,\n  &amp;quot;updated_at&amp;quot;: &amp;quot;2025-06-21T16:41:54.584963788&amp;quot;\n}\n\n&#34;}], &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Negative Initial Deposit]&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Negative Initial Deposit]&#34;, &#34;duration&#34;: &#34;345 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Negative Initial Deposit]&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;345 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;user_data = {&amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;, &amp;#x27;first_name&amp;#x27;: &amp;#x27;John&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: -1000, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe&amp;#x27;}\nbank_account_client = &amp;lt;api_clients_and_models.bank_account_manager_api_client.BAMAPIClient object at 0x105d18990&amp;gt;\nget_registered_and_logged_in_user = User(username=&amp;#x27;IOETQ&amp;#x27;, password=&amp;#x27;EDTJI&amp;#x27;, token=&amp;#x27;654d7d5b-35d1-427b-922b-357f3548985d&amp;#x27;, id=129, bank_accounts={}, bank_...fo=BankAccountCreationInfoModel(first_name=&amp;#x27;John&amp;#x27;, last_name=&amp;#x27;Doe&amp;#x27;, date_of_birth=&amp;#x27;1990-01-01&amp;#x27;, initial_deposit=-1000))\nset_bank_account_creation_info_to_user = &amp;lt;function set_bank_account_creation_info_to_user.&amp;lt;locals&amp;gt;._set_info at 0x105d89b20&amp;gt;\n\n    @pytest.mark.parametrize(&amp;quot;user_data&amp;quot;, invalid_bank_account_creation_info.values(), ids=invalid_bank_account_creation_info.keys())\n    def test_create_bank_account_with_invalid_data(user_data, bank_account_client, get_registered_and_logged_in_user,\n                                                   set_bank_account_creation_info_to_user):\n        user = get_registered_and_logged_in_user\n        # Set invalid bank account creation info\n        set_bank_account_creation_info_to_user(user=user, first_name=user_data[&amp;#x27;first_name&amp;#x27;], last_name=user_data[&amp;#x27;last_name&amp;#x27;],\n                                               initial_deposit=user_data[&amp;#x27;initial_deposit&amp;#x27;],\n                                               date_of_birth= user_data[&amp;#x27;date_of_birth&amp;#x27;])\n    \n        response = bank_account_client.create_bank_account(user=user)\n&amp;gt;       assert response.status_code == HTTPStatus.BAD_REQUEST, (\n            f&amp;quot;Expected 400 Bad Request, got {response.status_code} for user data: {user_data}&amp;quot;\n        )\nE       AssertionError: Expected 400 Bad Request, got 200 for user data: {&amp;#x27;first_name&amp;#x27;: &amp;#x27;John&amp;#x27;, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: -1000, &amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;}\nE       assert 200 == &amp;lt;HTTPStatus.BAD_REQUEST: 400&amp;gt;\nE        +  where 200 = &amp;lt;Response [200]&amp;gt;.status_code\nE        +  and   &amp;lt;HTTPStatus.BAD_REQUEST: 400&amp;gt; = HTTPStatus.BAD_REQUEST\n\nbank_account_creation_test.py:63: AssertionError\n\n------------------------------ Captured log setup ------------------------------\nINFO     root:conftest.py:56 Using existing registered user. username: IOETQ, password: ***\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/auth/login\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;42&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;username&amp;quot;: &amp;quot;IOETQ&amp;quot;,\n  &amp;quot;password&amp;quot;: &amp;quot;***&amp;quot;\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:54 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;x-api-key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;__cf_bm=UP9rwkpqVZA1l77A134qZn7J_Hz9Trp1lZ9C6Jl5XoI-1750524114-1.0.1.1-ftPaiI_x00y3Z2Udsu9rHLwO7EBM1evXXS1ci3McESxXSvWcugzEoBFHuy3OAqWubNK_5jEWleuTl778HtDUauxjzYUzNV0zytVDRqJ8K_k; path=/; expires=Sat, 21-Jun-25 17:11:54 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f4c4cbb87d39-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;api_key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;expires_at&amp;quot;: &amp;quot;2025-06-21T16:42:54.815878389Z&amp;quot;\n}\nINFO     root:conftest.py:24 Logged in as existing user: IOETQ\n\n------------------------------ Captured log call -------------------------------\nINFO     root:conftest.py:13 Set bank account creation info for user: IOETQ, info: {&amp;#x27;first_name&amp;#x27;: &amp;#x27;John&amp;#x27;, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe&amp;#x27;, &amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: -1000}\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/accounts\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;X-API-KEY&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;99&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;first_name&amp;quot;: &amp;quot;John&amp;quot;,\n  &amp;quot;last_name&amp;quot;: &amp;quot;Doe&amp;quot;,\n  &amp;quot;date_of_birth&amp;quot;: &amp;quot;1990-01-01&amp;quot;,\n  &amp;quot;initial_deposit&amp;quot;: -1000\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:54 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;JSESSIONID=6CA84460C0EB482EB7FAAE76B4509A90; Path=/; Secure; HttpOnly, __cf_bm=ZpKw7BD1TUYkXBS0vmQsOsVhoDCsLqqScRRlcDGSEd8-1750524114-1.0.1.1-L5uizc6TBe7TYg5OrTkDooF80f7JXe8oXRGivZOEDnqZNsfr5bsEQnFD73nv.KiQ1J0nrDwpCppLieNtKpURHXMOD7qkgMGt3AsGD70KnJ8; path=/; expires=Sat, 21-Jun-25 17:11:54 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f4c62fcd7d29-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;id&amp;quot;: 117,\n  &amp;quot;first_name&amp;quot;: &amp;quot;John&amp;quot;,\n  &amp;quot;last_name&amp;quot;: &amp;quot;Doe&amp;quot;,\n  &amp;quot;date_of_birth&amp;quot;: &amp;quot;1990-01-01&amp;quot;,\n  &amp;quot;initial_deposit&amp;quot;: -1000.0,\n  &amp;quot;full_name&amp;quot;: &amp;quot;John Doe&amp;quot;,\n  &amp;quot;iban_issuance_status&amp;quot;: &amp;quot;REQUESTED&amp;quot;,\n  &amp;quot;iban&amp;quot;: null,\n  &amp;quot;created_at&amp;quot;: &amp;quot;2025-06-21T16:41:54.951253673&amp;quot;,\n  &amp;quot;updated_at&amp;quot;: &amp;quot;2025-06-21T16:41:54.951253673&amp;quot;\n}\n\n&#34;}], &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Zero Initial Deposit]&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Zero Initial Deposit]&#34;, &#34;duration&#34;: &#34;330 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Zero Initial Deposit]&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;330 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;user_data = {&amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;, &amp;#x27;first_name&amp;#x27;: &amp;#x27;John&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 0, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe&amp;#x27;}\nbank_account_client = &amp;lt;api_clients_and_models.bank_account_manager_api_client.BAMAPIClient object at 0x105d18990&amp;gt;\nget_registered_and_logged_in_user = User(username=&amp;#x27;YG65E&amp;#x27;, password=&amp;#x27;3EHM1&amp;#x27;, token=&amp;#x27;47c1c1e2-f8f0-4654-8a56-a1b77bc149ff&amp;#x27;, id=124, bank_accounts={&amp;#x27;94&amp;#x27;: Ba...n_info=BankAccountCreationInfoModel(first_name=&amp;#x27;John&amp;#x27;, last_name=&amp;#x27;Doe&amp;#x27;, date_of_birth=&amp;#x27;1990-01-01&amp;#x27;, initial_deposit=0))\nset_bank_account_creation_info_to_user = &amp;lt;function set_bank_account_creation_info_to_user.&amp;lt;locals&amp;gt;._set_info at 0x105de5260&amp;gt;\n\n    @pytest.mark.parametrize(&amp;quot;user_data&amp;quot;, invalid_bank_account_creation_info.values(), ids=invalid_bank_account_creation_info.keys())\n    def test_create_bank_account_with_invalid_data(user_data, bank_account_client, get_registered_and_logged_in_user,\n                                                   set_bank_account_creation_info_to_user):\n        user = get_registered_and_logged_in_user\n        # Set invalid bank account creation info\n        set_bank_account_creation_info_to_user(user=user, first_name=user_data[&amp;#x27;first_name&amp;#x27;], last_name=user_data[&amp;#x27;last_name&amp;#x27;],\n                                               initial_deposit=user_data[&amp;#x27;initial_deposit&amp;#x27;],\n                                               date_of_birth= user_data[&amp;#x27;date_of_birth&amp;#x27;])\n    \n        response = bank_account_client.create_bank_account(user=user)\n&amp;gt;       assert response.status_code == HTTPStatus.BAD_REQUEST, (\n            f&amp;quot;Expected 400 Bad Request, got {response.status_code} for user data: {user_data}&amp;quot;\n        )\nE       AssertionError: Expected 400 Bad Request, got 200 for user data: {&amp;#x27;first_name&amp;#x27;: &amp;#x27;John&amp;#x27;, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 0, &amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;}\nE       assert 200 == &amp;lt;HTTPStatus.BAD_REQUEST: 400&amp;gt;\nE        +  where 200 = &amp;lt;Response [200]&amp;gt;.status_code\nE        +  and   &amp;lt;HTTPStatus.BAD_REQUEST: 400&amp;gt; = HTTPStatus.BAD_REQUEST\n\nbank_account_creation_test.py:63: AssertionError\n\n------------------------------ Captured log setup ------------------------------\nINFO     root:conftest.py:56 Using existing registered user. username: YG65E, password: ***\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/auth/login\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;42&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;username&amp;quot;: &amp;quot;YG65E&amp;quot;,\n  &amp;quot;password&amp;quot;: &amp;quot;***&amp;quot;\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:55 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;x-api-key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;__cf_bm=KCChvtTUZ4hqD7hUeLvExdpLNyK2egRljvlSIJkU_rw-1750524115-1.0.1.1-EIxFH8978cx4Z53mg6TBGD0DvQupkmSv_BaaqyjRkTJopN69rgXui4Hi7Nr0bsy14P9ybFXMDrxGZ166Ovir5h9riLws0pwQubW78R4L0FY; path=/; expires=Sat, 21-Jun-25 17:11:55 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f4c70add3332-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;api_key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;expires_at&amp;quot;: &amp;quot;2025-06-21T16:42:55.172075488Z&amp;quot;\n}\nINFO     root:conftest.py:24 Logged in as existing user: YG65E\n\n------------------------------ Captured log call -------------------------------\nINFO     root:conftest.py:13 Set bank account creation info for user: YG65E, info: {&amp;#x27;first_name&amp;#x27;: &amp;#x27;John&amp;#x27;, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe&amp;#x27;, &amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 0}\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/accounts\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;X-API-KEY&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;95&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;first_name&amp;quot;: &amp;quot;John&amp;quot;,\n  &amp;quot;last_name&amp;quot;: &amp;quot;Doe&amp;quot;,\n  &amp;quot;date_of_birth&amp;quot;: &amp;quot;1990-01-01&amp;quot;,\n  &amp;quot;initial_deposit&amp;quot;: 0\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:55 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;JSESSIONID=DEE3D36CAD68F08CE8B065614D1E108F; Path=/; Secure; HttpOnly, __cf_bm=dDVQHTGDHVtvCpF6a7jbgJCQlXe347Bi.BQcE9Xgq.Q-1750524115-1.0.1.1-IdzD2mewQbV84n45OS3.9WL90p5VPLpMNbxKQpA3_cUKFNbS5dA7eHSS3iDkBYmmoQmSLkROPEbwYFw4pn4Xd3wa1okUcdFs2qDbAuPiVz8; path=/; expires=Sat, 21-Jun-25 17:11:55 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f4c848747d29-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;id&amp;quot;: 118,\n  &amp;quot;first_name&amp;quot;: &amp;quot;John&amp;quot;,\n  &amp;quot;last_name&amp;quot;: &amp;quot;Doe&amp;quot;,\n  &amp;quot;date_of_birth&amp;quot;: &amp;quot;1990-01-01&amp;quot;,\n  &amp;quot;initial_deposit&amp;quot;: 0.0,\n  &amp;quot;full_name&amp;quot;: &amp;quot;John Doe&amp;quot;,\n  &amp;quot;iban_issuance_status&amp;quot;: &amp;quot;REQUESTED&amp;quot;,\n  &amp;quot;iban&amp;quot;: null,\n  &amp;quot;created_at&amp;quot;: &amp;quot;2025-06-21T16:41:55.29912817&amp;quot;,\n  &amp;quot;updated_at&amp;quot;: &amp;quot;2025-06-21T16:41:55.29912817&amp;quot;\n}\n\n&#34;}], &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[String Initial Deposit]&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[String Initial Deposit]&#34;, &#34;duration&#34;: &#34;332 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[String Initial Deposit]&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;332 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;user_data = {&amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;, &amp;#x27;first_name&amp;#x27;: &amp;#x27;John&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: &amp;#x27;1000&amp;#x27;, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe&amp;#x27;}\nbank_account_client = &amp;lt;api_clients_and_models.bank_account_manager_api_client.BAMAPIClient object at 0x105d18990&amp;gt;\nget_registered_and_logged_in_user = User(username=&amp;#x27;F6B0C&amp;#x27;, password=&amp;#x27;5DV6J&amp;#x27;, token=&amp;#x27;68672448-cb2a-43ff-9ea3-aa823f8a2073&amp;#x27;, id=123, bank_accounts={}, bank_...nfo=BankAccountCreationInfoModel(first_name=&amp;#x27;John&amp;#x27;, last_name=&amp;#x27;Doe&amp;#x27;, date_of_birth=&amp;#x27;1990-01-01&amp;#x27;, initial_deposit=1000))\nset_bank_account_creation_info_to_user = &amp;lt;function set_bank_account_creation_info_to_user.&amp;lt;locals&amp;gt;._set_info at 0x105de6840&amp;gt;\n\n    @pytest.mark.parametrize(&amp;quot;user_data&amp;quot;, invalid_bank_account_creation_info.values(), ids=invalid_bank_account_creation_info.keys())\n    def test_create_bank_account_with_invalid_data(user_data, bank_account_client, get_registered_and_logged_in_user,\n                                                   set_bank_account_creation_info_to_user):\n        user = get_registered_and_logged_in_user\n        # Set invalid bank account creation info\n        set_bank_account_creation_info_to_user(user=user, first_name=user_data[&amp;#x27;first_name&amp;#x27;], last_name=user_data[&amp;#x27;last_name&amp;#x27;],\n                                               initial_deposit=user_data[&amp;#x27;initial_deposit&amp;#x27;],\n                                               date_of_birth= user_data[&amp;#x27;date_of_birth&amp;#x27;])\n    \n        response = bank_account_client.create_bank_account(user=user)\n&amp;gt;       assert response.status_code == HTTPStatus.BAD_REQUEST, (\n            f&amp;quot;Expected 400 Bad Request, got {response.status_code} for user data: {user_data}&amp;quot;\n        )\nE       AssertionError: Expected 400 Bad Request, got 200 for user data: {&amp;#x27;first_name&amp;#x27;: &amp;#x27;John&amp;#x27;, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: &amp;#x27;1000&amp;#x27;, &amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;}\nE       assert 200 == &amp;lt;HTTPStatus.BAD_REQUEST: 400&amp;gt;\nE        +  where 200 = &amp;lt;Response [200]&amp;gt;.status_code\nE        +  and   &amp;lt;HTTPStatus.BAD_REQUEST: 400&amp;gt; = HTTPStatus.BAD_REQUEST\n\nbank_account_creation_test.py:63: AssertionError\n\n------------------------------ Captured log setup ------------------------------\nINFO     root:conftest.py:56 Using existing registered user. username: F6B0C, password: ***\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/auth/login\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;42&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;username&amp;quot;: &amp;quot;F6B0C&amp;quot;,\n  &amp;quot;password&amp;quot;: &amp;quot;***&amp;quot;\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:55 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;x-api-key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;__cf_bm=PPKxD_H_kIkWnWhE7gzjwcteXB_0nw8y7h450E_SHR4-1750524115-1.0.1.1-TEoWQe16WalsqrGIn5b0udbEzUw8hAOqEj63B0.duVUAU0bgOs1lpMLz_2aNuNjGZqVuYnywbPhixbpNj1Dsnlk7FRcfGrzVU2WEznd3sfs; path=/; expires=Sat, 21-Jun-25 17:11:55 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f4c93e4a7d41-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;api_key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;expires_at&amp;quot;: &amp;quot;2025-06-21T16:42:55.520825216Z&amp;quot;\n}\nINFO     root:conftest.py:24 Logged in as existing user: F6B0C\n\n------------------------------ Captured log call -------------------------------\nINFO     root:conftest.py:13 Set bank account creation info for user: F6B0C, info: {&amp;#x27;first_name&amp;#x27;: &amp;#x27;John&amp;#x27;, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe&amp;#x27;, &amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000}\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/accounts\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;X-API-KEY&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;98&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;first_name&amp;quot;: &amp;quot;John&amp;quot;,\n  &amp;quot;last_name&amp;quot;: &amp;quot;Doe&amp;quot;,\n  &amp;quot;date_of_birth&amp;quot;: &amp;quot;1990-01-01&amp;quot;,\n  &amp;quot;initial_deposit&amp;quot;: 1000\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:55 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;JSESSIONID=2BEA6D80A417A31E5DFAB448A4C2D05C; Path=/; Secure; HttpOnly, __cf_bm=mmhOcsmfyxfMxDtttUfZBg5JZ690zkn2ruxVJn11BgU-1750524115-1.0.1.1-iayye5OPVFeYZwTa9eMUeraYVTduLVS9PM.JpKDED.naD6JwDtljVV_VQG0nygSkDHXwzzPfyi_E4E7ocgipV9A_WAl7T5y3gu2YO7BZvnY; path=/; expires=Sat, 21-Jun-25 17:11:55 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f4ca7e2d32de-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;id&amp;quot;: 119,\n  &amp;quot;first_name&amp;quot;: &amp;quot;John&amp;quot;,\n  &amp;quot;last_name&amp;quot;: &amp;quot;Doe&amp;quot;,\n  &amp;quot;date_of_birth&amp;quot;: &amp;quot;1990-01-01&amp;quot;,\n  &amp;quot;initial_deposit&amp;quot;: 999.99,\n  &amp;quot;full_name&amp;quot;: &amp;quot;John Doe&amp;quot;,\n  &amp;quot;iban_issuance_status&amp;quot;: &amp;quot;REQUESTED&amp;quot;,\n  &amp;quot;iban&amp;quot;: null,\n  &amp;quot;created_at&amp;quot;: &amp;quot;2025-06-21T16:41:55.646539625&amp;quot;,\n  &amp;quot;updated_at&amp;quot;: &amp;quot;2025-06-21T16:41:55.646539625&amp;quot;\n}\n\n&#34;}], &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Boolean Initial Deposit]&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Boolean Initial Deposit]&#34;, &#34;duration&#34;: &#34;336 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Boolean Initial Deposit]&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;336 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;user_data = {&amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;, &amp;#x27;first_name&amp;#x27;: &amp;#x27;John&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: True, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe&amp;#x27;}\nbank_account_client = &amp;lt;api_clients_and_models.bank_account_manager_api_client.BAMAPIClient object at 0x105d18990&amp;gt;\nget_registered_and_logged_in_user = User(username=&amp;#x27;F6B0C&amp;#x27;, password=&amp;#x27;5DV6J&amp;#x27;, token=&amp;#x27;66d3db5e-3edd-4c90-b6b4-7cb4258fd3e5&amp;#x27;, id=123, bank_accounts={}, bank_...n_info=BankAccountCreationInfoModel(first_name=&amp;#x27;John&amp;#x27;, last_name=&amp;#x27;Doe&amp;#x27;, date_of_birth=&amp;#x27;1990-01-01&amp;#x27;, initial_deposit=1))\nset_bank_account_creation_info_to_user = &amp;lt;function set_bank_account_creation_info_to_user.&amp;lt;locals&amp;gt;._set_info at 0x105de68e0&amp;gt;\n\n    @pytest.mark.parametrize(&amp;quot;user_data&amp;quot;, invalid_bank_account_creation_info.values(), ids=invalid_bank_account_creation_info.keys())\n    def test_create_bank_account_with_invalid_data(user_data, bank_account_client, get_registered_and_logged_in_user,\n                                                   set_bank_account_creation_info_to_user):\n        user = get_registered_and_logged_in_user\n        # Set invalid bank account creation info\n        set_bank_account_creation_info_to_user(user=user, first_name=user_data[&amp;#x27;first_name&amp;#x27;], last_name=user_data[&amp;#x27;last_name&amp;#x27;],\n                                               initial_deposit=user_data[&amp;#x27;initial_deposit&amp;#x27;],\n                                               date_of_birth= user_data[&amp;#x27;date_of_birth&amp;#x27;])\n    \n        response = bank_account_client.create_bank_account(user=user)\n&amp;gt;       assert response.status_code == HTTPStatus.BAD_REQUEST, (\n            f&amp;quot;Expected 400 Bad Request, got {response.status_code} for user data: {user_data}&amp;quot;\n        )\nE       AssertionError: Expected 400 Bad Request, got 200 for user data: {&amp;#x27;first_name&amp;#x27;: &amp;#x27;John&amp;#x27;, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: True, &amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;}\nE       assert 200 == &amp;lt;HTTPStatus.BAD_REQUEST: 400&amp;gt;\nE        +  where 200 = &amp;lt;Response [200]&amp;gt;.status_code\nE        +  and   &amp;lt;HTTPStatus.BAD_REQUEST: 400&amp;gt; = HTTPStatus.BAD_REQUEST\n\nbank_account_creation_test.py:63: AssertionError\n\n------------------------------ Captured log setup ------------------------------\nINFO     root:conftest.py:56 Using existing registered user. username: F6B0C, password: ***\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/auth/login\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;42&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;username&amp;quot;: &amp;quot;F6B0C&amp;quot;,\n  &amp;quot;password&amp;quot;: &amp;quot;***&amp;quot;\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:55 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;x-api-key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;__cf_bm=P0k3U4rJbZe3WwDh7OrckQuCGLOXHI27dvn6YpFI.Cg-1750524115-1.0.1.1-DOlVfya90kRQXeDuxWnWsRjMR8O4GiDbBU3eZuHEqXsLVE5Fo7lsqq5L4llbKj_v0uGTUJCcWqUudK3e6AXZBZFVhhDQe.USi5Qzu60FtJ0; path=/; expires=Sat, 21-Jun-25 17:11:55 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f4cb6bfc3332-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;api_key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;expires_at&amp;quot;: &amp;quot;2025-06-21T16:42:55.869914944Z&amp;quot;\n}\nINFO     root:conftest.py:24 Logged in as existing user: F6B0C\n\n------------------------------ Captured log call -------------------------------\nINFO     root:conftest.py:13 Set bank account creation info for user: F6B0C, info: {&amp;#x27;first_name&amp;#x27;: &amp;#x27;John&amp;#x27;, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe&amp;#x27;, &amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1}\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/accounts\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;X-API-KEY&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;95&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;first_name&amp;quot;: &amp;quot;John&amp;quot;,\n  &amp;quot;last_name&amp;quot;: &amp;quot;Doe&amp;quot;,\n  &amp;quot;date_of_birth&amp;quot;: &amp;quot;1990-01-01&amp;quot;,\n  &amp;quot;initial_deposit&amp;quot;: 1\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:56 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;JSESSIONID=DCC4EF0CED700816858F5A5DE2DC227D; Path=/; Secure; HttpOnly, __cf_bm=j35xzQxM61IatpEIjBrIL5u.B4vJQJcWY1x8kdazxLQ-1750524116-1.0.1.1-J_w9A56rgExq2xkrm1WyFgAAqKWrl0N9PDLf5KCbiPn.wwk1EqSoT2RqG3pjhXXJM12sfJpqvNVt33BOod3dDzBxDcG1_Z9QjLQqApqpLrI; path=/; expires=Sat, 21-Jun-25 17:11:56 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f4ccbc547d1d-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;id&amp;quot;: 120,\n  &amp;quot;first_name&amp;quot;: &amp;quot;John&amp;quot;,\n  &amp;quot;last_name&amp;quot;: &amp;quot;Doe&amp;quot;,\n  &amp;quot;date_of_birth&amp;quot;: &amp;quot;1990-01-01&amp;quot;,\n  &amp;quot;initial_deposit&amp;quot;: 0.99,\n  &amp;quot;full_name&amp;quot;: &amp;quot;John Doe&amp;quot;,\n  &amp;quot;iban_issuance_status&amp;quot;: &amp;quot;REQUESTED&amp;quot;,\n  &amp;quot;iban&amp;quot;: null,\n  &amp;quot;created_at&amp;quot;: &amp;quot;2025-06-21T16:41:56.00467833&amp;quot;,\n  &amp;quot;updated_at&amp;quot;: &amp;quot;2025-06-21T16:41:56.00467833&amp;quot;\n}\n\n&#34;}], &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[None Initial Deposit]&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[None Initial Deposit]&#34;, &#34;duration&#34;: &#34;342 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[None Initial Deposit]&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;342 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;user_data = {&amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;, &amp;#x27;first_name&amp;#x27;: &amp;#x27;John&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: None, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe&amp;#x27;}\nbank_account_client = &amp;lt;api_clients_and_models.bank_account_manager_api_client.BAMAPIClient object at 0x105d18990&amp;gt;\nget_registered_and_logged_in_user = User(username=&amp;#x27;OJW08&amp;#x27;, password=&amp;#x27;BFV75&amp;#x27;, token=&amp;#x27;5abcb5e9-ec79-4cfb-83bc-15fa64a81d0b&amp;#x27;, id=126, bank_accounts={}, bank_...nfo=BankAccountCreationInfoModel(first_name=&amp;#x27;John&amp;#x27;, last_name=&amp;#x27;Doe&amp;#x27;, date_of_birth=&amp;#x27;1990-01-01&amp;#x27;, initial_deposit=None))\nset_bank_account_creation_info_to_user = &amp;lt;function set_bank_account_creation_info_to_user.&amp;lt;locals&amp;gt;._set_info at 0x105de49a0&amp;gt;\n\n    @pytest.mark.parametrize(&amp;quot;user_data&amp;quot;, invalid_bank_account_creation_info.values(), ids=invalid_bank_account_creation_info.keys())\n    def test_create_bank_account_with_invalid_data(user_data, bank_account_client, get_registered_and_logged_in_user,\n                                                   set_bank_account_creation_info_to_user):\n        user = get_registered_and_logged_in_user\n        # Set invalid bank account creation info\n        set_bank_account_creation_info_to_user(user=user, first_name=user_data[&amp;#x27;first_name&amp;#x27;], last_name=user_data[&amp;#x27;last_name&amp;#x27;],\n                                               initial_deposit=user_data[&amp;#x27;initial_deposit&amp;#x27;],\n                                               date_of_birth= user_data[&amp;#x27;date_of_birth&amp;#x27;])\n    \n        response = bank_account_client.create_bank_account(user=user)\n&amp;gt;       assert response.status_code == HTTPStatus.BAD_REQUEST, (\n            f&amp;quot;Expected 400 Bad Request, got {response.status_code} for user data: {user_data}&amp;quot;\n        )\nE       AssertionError: Expected 400 Bad Request, got 200 for user data: {&amp;#x27;first_name&amp;#x27;: &amp;#x27;John&amp;#x27;, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: None, &amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;}\nE       assert 200 == &amp;lt;HTTPStatus.BAD_REQUEST: 400&amp;gt;\nE        +  where 200 = &amp;lt;Response [200]&amp;gt;.status_code\nE        +  and   &amp;lt;HTTPStatus.BAD_REQUEST: 400&amp;gt; = HTTPStatus.BAD_REQUEST\n\nbank_account_creation_test.py:63: AssertionError\n\n------------------------------ Captured log setup ------------------------------\nINFO     root:conftest.py:56 Using existing registered user. username: OJW08, password: ***\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/auth/login\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;42&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;username&amp;quot;: &amp;quot;OJW08&amp;quot;,\n  &amp;quot;password&amp;quot;: &amp;quot;***&amp;quot;\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:56 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;x-api-key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;__cf_bm=LN2qmOIWqzhwfEBejkAF_v.CkQdKRDUSnnd_w7ZOxzM-1750524116-1.0.1.1-P_mYQb_.bfX98YInoduJ8SachhnuV_Ok1Q3HQU3.1qh0EUTZDGaQDFUROouHHxEqSXlCxztng8NOuA55qNgK1U9oBLh8wm72xQKgRjluJJ0; path=/; expires=Sat, 21-Jun-25 17:11:56 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f4cd99ae7d35-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;api_key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;expires_at&amp;quot;: &amp;quot;2025-06-21T16:42:56.225600418Z&amp;quot;\n}\nINFO     root:conftest.py:24 Logged in as existing user: OJW08\n\n------------------------------ Captured log call -------------------------------\nINFO     root:conftest.py:13 Set bank account creation info for user: OJW08, info: {&amp;#x27;first_name&amp;#x27;: &amp;#x27;John&amp;#x27;, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe&amp;#x27;, &amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: None}\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/accounts\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;X-API-KEY&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;98&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;first_name&amp;quot;: &amp;quot;John&amp;quot;,\n  &amp;quot;last_name&amp;quot;: &amp;quot;Doe&amp;quot;,\n  &amp;quot;date_of_birth&amp;quot;: &amp;quot;1990-01-01&amp;quot;,\n  &amp;quot;initial_deposit&amp;quot;: null\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:56 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;JSESSIONID=9FC6780864D7ED0095E9C4DDF18F867C; Path=/; Secure; HttpOnly, __cf_bm=lRa6tcCJXapdFC1FQg_dl24qSH.sLnY80EXbcIFblUQ-1750524116-1.0.1.1-M6szDuxCQDZelMOuBiYQk4d1w.5pvwYVt7buN1_Q5CMIvGWqHD02xOIfSyusfbKCXu36Lu_Kgkov.HVPEGRuWPTi02GE.GnQdhKj0y2BN5s; path=/; expires=Sat, 21-Jun-25 17:11:56 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f4cee8047d21-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;id&amp;quot;: 121,\n  &amp;quot;first_name&amp;quot;: &amp;quot;John&amp;quot;,\n  &amp;quot;last_name&amp;quot;: &amp;quot;Doe&amp;quot;,\n  &amp;quot;date_of_birth&amp;quot;: &amp;quot;1990-01-01&amp;quot;,\n  &amp;quot;initial_deposit&amp;quot;: 0.0,\n  &amp;quot;full_name&amp;quot;: &amp;quot;John Doe&amp;quot;,\n  &amp;quot;iban_issuance_status&amp;quot;: &amp;quot;REQUESTED&amp;quot;,\n  &amp;quot;iban&amp;quot;: null,\n  &amp;quot;created_at&amp;quot;: &amp;quot;2025-06-21T16:41:56.359558129&amp;quot;,\n  &amp;quot;updated_at&amp;quot;: &amp;quot;2025-06-21T16:41:56.359558129&amp;quot;\n}\n\n&#34;}], &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[List Initial Deposit]&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[List Initial Deposit]&#34;, &#34;duration&#34;: &#34;206 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[List Initial Deposit]&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;206 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;user_data = {&amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;, &amp;#x27;first_name&amp;#x27;: &amp;#x27;John&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: [1000], &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe&amp;#x27;}\nbank_account_client = &amp;lt;api_clients_and_models.bank_account_manager_api_client.BAMAPIClient object at 0x105d18990&amp;gt;\nget_registered_and_logged_in_user = User(username=&amp;#x27;OJW08&amp;#x27;, password=&amp;#x27;BFV75&amp;#x27;, token=&amp;#x27;dd9fed0a-86d4-4f02-8d84-dc1d644ad177&amp;#x27;, id=126, bank_accounts={}, bank_..._creation_info=BankAccountCreationInfoModel(first_name=None, last_name=None, date_of_birth=None, initial_deposit=None))\nset_bank_account_creation_info_to_user = &amp;lt;function set_bank_account_creation_info_to_user.&amp;lt;locals&amp;gt;._set_info at 0x105de4860&amp;gt;\n\n    @pytest.mark.parametrize(&amp;quot;user_data&amp;quot;, invalid_bank_account_creation_info.values(), ids=invalid_bank_account_creation_info.keys())\n    def test_create_bank_account_with_invalid_data(user_data, bank_account_client, get_registered_and_logged_in_user,\n                                                   set_bank_account_creation_info_to_user):\n        user = get_registered_and_logged_in_user\n        # Set invalid bank account creation info\n&amp;gt;       set_bank_account_creation_info_to_user(user=user, first_name=user_data[&amp;#x27;first_name&amp;#x27;], last_name=user_data[&amp;#x27;last_name&amp;#x27;],\n                                               initial_deposit=user_data[&amp;#x27;initial_deposit&amp;#x27;],\n                                               date_of_birth= user_data[&amp;#x27;date_of_birth&amp;#x27;])\n\nbank_account_creation_test.py:58: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nuser = User(username=&amp;#x27;OJW08&amp;#x27;, password=&amp;#x27;BFV75&amp;#x27;, token=&amp;#x27;dd9fed0a-86d4-4f02-8d84-dc1d644ad177&amp;#x27;, id=126, bank_accounts={}, bank_..._creation_info=BankAccountCreationInfoModel(first_name=None, last_name=None, date_of_birth=None, initial_deposit=None))\nfirst_name = &amp;#x27;John&amp;#x27;, last_name = &amp;#x27;Doe&amp;#x27;, initial_deposit = [1000]\ndate_of_birth = &amp;#x27;1990-01-01&amp;#x27;\n\n    def _set_info(user: User, first_name=None, last_name=None, initial_deposit=None, date_of_birth=None):\n&amp;gt;       info = BankAccountCreationInfoModel(first_name=first_name, last_name=last_name, initial_deposit=initial_deposit, date_of_birth=date_of_birth)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       pydantic_core._pydantic_core.ValidationError: 1 validation error for BankAccountCreationInfoModel\nE       initial_deposit\nE         Input should be a valid integer [type=int_type, input_value=[1000], input_type=list]\nE           For further information visit https://errors.pydantic.dev/2.11/v/int_type\n\nconftest.py:11: ValidationError\n\n------------------------------ Captured log setup ------------------------------\nINFO     root:conftest.py:56 Using existing registered user. username: OJW08, password: ***\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/auth/login\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;42&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;username&amp;quot;: &amp;quot;OJW08&amp;quot;,\n  &amp;quot;password&amp;quot;: &amp;quot;***&amp;quot;\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:56 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;x-api-key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;__cf_bm=Yj2buS4XUUEHSPejJd4RuFLMTbzJfa7CoMsm9EaKq0s-1750524116-1.0.1.1-7aoQKl6zp7lqkqu2t4.eCtg7qXO7HXIslzrQTil1zpEN4u83ZtaH1dE733KaoeMQbOsq6M9pjS2qKr.T1ViTrvrLLtU_HnrzZQfcOwBSb54; path=/; expires=Sat, 21-Jun-25 17:11:56 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f4cfe9587d19-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;api_key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;expires_at&amp;quot;: &amp;quot;2025-06-21T16:42:56.586236820Z&amp;quot;\n}\nINFO     root:conftest.py:24 Logged in as existing user: OJW08\n&#34;}], &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Dict Initial Deposit]&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Dict Initial Deposit]&#34;, &#34;duration&#34;: &#34;201 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Dict Initial Deposit]&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;201 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;user_data = {&amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;, &amp;#x27;first_name&amp;#x27;: &amp;#x27;John&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: {&amp;#x27;amount&amp;#x27;: 1000}, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe&amp;#x27;}\nbank_account_client = &amp;lt;api_clients_and_models.bank_account_manager_api_client.BAMAPIClient object at 0x105d18990&amp;gt;\nget_registered_and_logged_in_user = User(username=&amp;#x27;HR5OM&amp;#x27;, password=&amp;#x27;CX1M7&amp;#x27;, token=&amp;#x27;84786155-4786-428b-95f0-72ff269311e2&amp;#x27;, id=130, bank_accounts={}, bank_..._creation_info=BankAccountCreationInfoModel(first_name=None, last_name=None, date_of_birth=None, initial_deposit=None))\nset_bank_account_creation_info_to_user = &amp;lt;function set_bank_account_creation_info_to_user.&amp;lt;locals&amp;gt;._set_info at 0x105de60c0&amp;gt;\n\n    @pytest.mark.parametrize(&amp;quot;user_data&amp;quot;, invalid_bank_account_creation_info.values(), ids=invalid_bank_account_creation_info.keys())\n    def test_create_bank_account_with_invalid_data(user_data, bank_account_client, get_registered_and_logged_in_user,\n                                                   set_bank_account_creation_info_to_user):\n        user = get_registered_and_logged_in_user\n        # Set invalid bank account creation info\n&amp;gt;       set_bank_account_creation_info_to_user(user=user, first_name=user_data[&amp;#x27;first_name&amp;#x27;], last_name=user_data[&amp;#x27;last_name&amp;#x27;],\n                                               initial_deposit=user_data[&amp;#x27;initial_deposit&amp;#x27;],\n                                               date_of_birth= user_data[&amp;#x27;date_of_birth&amp;#x27;])\n\nbank_account_creation_test.py:58: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nuser = User(username=&amp;#x27;HR5OM&amp;#x27;, password=&amp;#x27;CX1M7&amp;#x27;, token=&amp;#x27;84786155-4786-428b-95f0-72ff269311e2&amp;#x27;, id=130, bank_accounts={}, bank_..._creation_info=BankAccountCreationInfoModel(first_name=None, last_name=None, date_of_birth=None, initial_deposit=None))\nfirst_name = &amp;#x27;John&amp;#x27;, last_name = &amp;#x27;Doe&amp;#x27;, initial_deposit = {&amp;#x27;amount&amp;#x27;: 1000}\ndate_of_birth = &amp;#x27;1990-01-01&amp;#x27;\n\n    def _set_info(user: User, first_name=None, last_name=None, initial_deposit=None, date_of_birth=None):\n&amp;gt;       info = BankAccountCreationInfoModel(first_name=first_name, last_name=last_name, initial_deposit=initial_deposit, date_of_birth=date_of_birth)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       pydantic_core._pydantic_core.ValidationError: 1 validation error for BankAccountCreationInfoModel\nE       initial_deposit\nE         Input should be a valid integer [type=int_type, input_value={&amp;#x27;amount&amp;#x27;: 1000}, input_type=dict]\nE           For further information visit https://errors.pydantic.dev/2.11/v/int_type\n\nconftest.py:11: ValidationError\n\n------------------------------ Captured log setup ------------------------------\nINFO     root:conftest.py:56 Using existing registered user. username: HR5OM, password: ***\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/auth/login\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;42&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;username&amp;quot;: &amp;quot;HR5OM&amp;quot;,\n  &amp;quot;password&amp;quot;: &amp;quot;***&amp;quot;\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:56 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;x-api-key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;__cf_bm=WMZhA9EARyHa6Cm3v3JAqp5V1ZM_M0.W3_ja3qA4J.U-1750524116-1.0.1.1-8vbBuu1pGBXt1oyY0nEJjlDrY8rZ7HMRm24G_hsst6vX8thOmEvLyoPhpErk5uc0AUOWIcJuwRJJ2EEIikGPpn2nhvaiYoIA6fWmhRxpZM8; path=/; expires=Sat, 21-Jun-25 17:11:56 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f4d13c6f3326-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;api_key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;expires_at&amp;quot;: &amp;quot;2025-06-21T16:42:56.800600976Z&amp;quot;\n}\nINFO     root:conftest.py:24 Logged in as existing user: HR5OM\n&#34;}], &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[SQL Injection Initial Deposit]&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[SQL Injection Initial Deposit]&#34;, &#34;duration&#34;: &#34;216 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[SQL Injection Initial Deposit]&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;216 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;user_data = {&amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;, &amp;#x27;first_name&amp;#x27;: &amp;#x27;John&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: &amp;quot;&amp;#x27;; DROP TABLE users; --&amp;quot;, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe&amp;#x27;}\nbank_account_client = &amp;lt;api_clients_and_models.bank_account_manager_api_client.BAMAPIClient object at 0x105d18990&amp;gt;\nget_registered_and_logged_in_user = User(username=&amp;#x27;2CY2K&amp;#x27;, password=&amp;#x27;VS9FA&amp;#x27;, token=&amp;#x27;64003dd8-b4ff-4bce-a479-fd5f59286374&amp;#x27;, id=120, bank_accounts={&amp;#x27;92&amp;#x27;: Ba...nfo=BankAccountCreationInfoModel(first_name=&amp;#x27;John&amp;#x27;, last_name=&amp;#x27;Doe&amp;#x27;, date_of_birth=&amp;#x27;1990-01-01&amp;#x27;, initial_deposit=1000))\nset_bank_account_creation_info_to_user = &amp;lt;function set_bank_account_creation_info_to_user.&amp;lt;locals&amp;gt;._set_info at 0x105de6ac0&amp;gt;\n\n    @pytest.mark.parametrize(&amp;quot;user_data&amp;quot;, invalid_bank_account_creation_info.values(), ids=invalid_bank_account_creation_info.keys())\n    def test_create_bank_account_with_invalid_data(user_data, bank_account_client, get_registered_and_logged_in_user,\n                                                   set_bank_account_creation_info_to_user):\n        user = get_registered_and_logged_in_user\n        # Set invalid bank account creation info\n&amp;gt;       set_bank_account_creation_info_to_user(user=user, first_name=user_data[&amp;#x27;first_name&amp;#x27;], last_name=user_data[&amp;#x27;last_name&amp;#x27;],\n                                               initial_deposit=user_data[&amp;#x27;initial_deposit&amp;#x27;],\n                                               date_of_birth= user_data[&amp;#x27;date_of_birth&amp;#x27;])\n\nbank_account_creation_test.py:58: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nuser = User(username=&amp;#x27;2CY2K&amp;#x27;, password=&amp;#x27;VS9FA&amp;#x27;, token=&amp;#x27;64003dd8-b4ff-4bce-a479-fd5f59286374&amp;#x27;, id=120, bank_accounts={&amp;#x27;92&amp;#x27;: Ba...nfo=BankAccountCreationInfoModel(first_name=&amp;#x27;John&amp;#x27;, last_name=&amp;#x27;Doe&amp;#x27;, date_of_birth=&amp;#x27;1990-01-01&amp;#x27;, initial_deposit=1000))\nfirst_name = &amp;#x27;John&amp;#x27;, last_name = &amp;#x27;Doe&amp;#x27;\ninitial_deposit = &amp;quot;&amp;#x27;; DROP TABLE users; --&amp;quot;, date_of_birth = &amp;#x27;1990-01-01&amp;#x27;\n\n    def _set_info(user: User, first_name=None, last_name=None, initial_deposit=None, date_of_birth=None):\n&amp;gt;       info = BankAccountCreationInfoModel(first_name=first_name, last_name=last_name, initial_deposit=initial_deposit, date_of_birth=date_of_birth)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       pydantic_core._pydantic_core.ValidationError: 1 validation error for BankAccountCreationInfoModel\nE       initial_deposit\nE         Input should be a valid integer, unable to parse string as an integer [type=int_parsing, input_value=&amp;quot;&amp;#x27;; DROP TABLE users; --&amp;quot;, input_type=str]\nE           For further information visit https://errors.pydantic.dev/2.11/v/int_parsing\n\nconftest.py:11: ValidationError\n\n------------------------------ Captured log setup ------------------------------\nINFO     root:conftest.py:56 Using existing registered user. username: 2CY2K, password: ***\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/auth/login\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;42&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;username&amp;quot;: &amp;quot;2CY2K&amp;quot;,\n  &amp;quot;password&amp;quot;: &amp;quot;***&amp;quot;\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:57 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;x-api-key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;__cf_bm=uw.vkine4mWXSvaXwe7nnhRGATFSNFSpmi6zUvK2FEg-1750524117-1.0.1.1-zIeIi_W5Oel7K0u7PMoAKhRCv_z6Nt2wksgwTEpomtvfscl_iGSOdxtqvTcsskVK.0Hn7iEZEReLCuPHehPoXluoIUKocV.veuD7MAQJQak; path=/; expires=Sat, 21-Jun-25 17:11:57 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f4d2b9cc32ea-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;api_key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;expires_at&amp;quot;: &amp;quot;2025-06-21T16:42:57.038353177Z&amp;quot;\n}\nINFO     root:conftest.py:24 Logged in as existing user: 2CY2K\n&#34;}], &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[XSS Initial Deposit]&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[XSS Initial Deposit]&#34;, &#34;duration&#34;: &#34;207 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[XSS Initial Deposit]&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;207 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;user_data = {&amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;, &amp;#x27;first_name&amp;#x27;: &amp;#x27;John&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: &amp;quot;&amp;lt;script&amp;gt;alert(&amp;#x27;XSS&amp;#x27;);&amp;lt;/script&amp;gt;&amp;quot;, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe&amp;#x27;}\nbank_account_client = &amp;lt;api_clients_and_models.bank_account_manager_api_client.BAMAPIClient object at 0x105d18990&amp;gt;\nget_registered_and_logged_in_user = User(username=&amp;#x27;LNACQ&amp;#x27;, password=&amp;#x27;L4SSD&amp;#x27;, token=&amp;#x27;9518eb99-5bda-4189-adff-f4e27acfc905&amp;#x27;, id=119, bank_accounts={}, bank_..._creation_info=BankAccountCreationInfoModel(first_name=None, last_name=None, date_of_birth=None, initial_deposit=None))\nset_bank_account_creation_info_to_user = &amp;lt;function set_bank_account_creation_info_to_user.&amp;lt;locals&amp;gt;._set_info at 0x105de6200&amp;gt;\n\n    @pytest.mark.parametrize(&amp;quot;user_data&amp;quot;, invalid_bank_account_creation_info.values(), ids=invalid_bank_account_creation_info.keys())\n    def test_create_bank_account_with_invalid_data(user_data, bank_account_client, get_registered_and_logged_in_user,\n                                                   set_bank_account_creation_info_to_user):\n        user = get_registered_and_logged_in_user\n        # Set invalid bank account creation info\n&amp;gt;       set_bank_account_creation_info_to_user(user=user, first_name=user_data[&amp;#x27;first_name&amp;#x27;], last_name=user_data[&amp;#x27;last_name&amp;#x27;],\n                                               initial_deposit=user_data[&amp;#x27;initial_deposit&amp;#x27;],\n                                               date_of_birth= user_data[&amp;#x27;date_of_birth&amp;#x27;])\n\nbank_account_creation_test.py:58: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nuser = User(username=&amp;#x27;LNACQ&amp;#x27;, password=&amp;#x27;L4SSD&amp;#x27;, token=&amp;#x27;9518eb99-5bda-4189-adff-f4e27acfc905&amp;#x27;, id=119, bank_accounts={}, bank_..._creation_info=BankAccountCreationInfoModel(first_name=None, last_name=None, date_of_birth=None, initial_deposit=None))\nfirst_name = &amp;#x27;John&amp;#x27;, last_name = &amp;#x27;Doe&amp;#x27;\ninitial_deposit = &amp;quot;&amp;lt;script&amp;gt;alert(&amp;#x27;XSS&amp;#x27;);&amp;lt;/script&amp;gt;&amp;quot;, date_of_birth = &amp;#x27;1990-01-01&amp;#x27;\n\n    def _set_info(user: User, first_name=None, last_name=None, initial_deposit=None, date_of_birth=None):\n&amp;gt;       info = BankAccountCreationInfoModel(first_name=first_name, last_name=last_name, initial_deposit=initial_deposit, date_of_birth=date_of_birth)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       pydantic_core._pydantic_core.ValidationError: 1 validation error for BankAccountCreationInfoModel\nE       initial_deposit\nE         Input should be a valid integer, unable to parse string as an integer [type=int_parsing, input_value=&amp;quot;&amp;lt;script&amp;gt;alert(&amp;#x27;XSS&amp;#x27;);&amp;lt;/script&amp;gt;&amp;quot;, input_type=str]\nE           For further information visit https://errors.pydantic.dev/2.11/v/int_parsing\n\nconftest.py:11: ValidationError\n\n------------------------------ Captured log setup ------------------------------\nINFO     root:conftest.py:56 Using existing registered user. username: LNACQ, password: ***\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/auth/login\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;42&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;username&amp;quot;: &amp;quot;LNACQ&amp;quot;,\n  &amp;quot;password&amp;quot;: &amp;quot;***&amp;quot;\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:57 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;x-api-key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;__cf_bm=L67wryCuZeBTq.ITDqoD6pCS8nhZszZL9S23GpG3GcU-1750524117-1.0.1.1-uMnmmDlpXDiahqU5VLPmOFvcSBNp5hEpVf52Mr5H3yKfCkZBKoCq38I6vu6SmmnvqrDB0D2.3ULvibrQsQurWpSKAkqrdWJoT5_TTIM6TLo; path=/; expires=Sat, 21-Jun-25 17:11:57 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f4d41a7b7d41-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;api_key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;expires_at&amp;quot;: &amp;quot;2025-06-21T16:42:57.265766756Z&amp;quot;\n}\nINFO     root:conftest.py:24 Logged in as existing user: LNACQ\n&#34;}], &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Empty Date of Birth]&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Empty Date of Birth]&#34;, &#34;duration&#34;: &#34;348 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Empty Date of Birth]&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;348 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;user_data = {&amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;&amp;#x27;, &amp;#x27;first_name&amp;#x27;: &amp;#x27;John&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe&amp;#x27;}\nbank_account_client = &amp;lt;api_clients_and_models.bank_account_manager_api_client.BAMAPIClient object at 0x105d18990&amp;gt;\nget_registered_and_logged_in_user = User(username=&amp;#x27;U5CPY&amp;#x27;, password=&amp;#x27;Y2XE5&amp;#x27;, token=&amp;#x27;2daee358-49fe-4c6b-8012-46de2cfc3c55&amp;#x27;, id=116, bank_accounts={}, bank_...creation_info=BankAccountCreationInfoModel(first_name=&amp;#x27;John&amp;#x27;, last_name=&amp;#x27;Doe&amp;#x27;, date_of_birth=&amp;#x27;&amp;#x27;, initial_deposit=1000))\nset_bank_account_creation_info_to_user = &amp;lt;function set_bank_account_creation_info_to_user.&amp;lt;locals&amp;gt;._set_info at 0x105de7880&amp;gt;\n\n    @pytest.mark.parametrize(&amp;quot;user_data&amp;quot;, invalid_bank_account_creation_info.values(), ids=invalid_bank_account_creation_info.keys())\n    def test_create_bank_account_with_invalid_data(user_data, bank_account_client, get_registered_and_logged_in_user,\n                                                   set_bank_account_creation_info_to_user):\n        user = get_registered_and_logged_in_user\n        # Set invalid bank account creation info\n        set_bank_account_creation_info_to_user(user=user, first_name=user_data[&amp;#x27;first_name&amp;#x27;], last_name=user_data[&amp;#x27;last_name&amp;#x27;],\n                                               initial_deposit=user_data[&amp;#x27;initial_deposit&amp;#x27;],\n                                               date_of_birth= user_data[&amp;#x27;date_of_birth&amp;#x27;])\n    \n        response = bank_account_client.create_bank_account(user=user)\n&amp;gt;       assert response.status_code == HTTPStatus.BAD_REQUEST, (\n            f&amp;quot;Expected 400 Bad Request, got {response.status_code} for user data: {user_data}&amp;quot;\n        )\nE       AssertionError: Expected 400 Bad Request, got 200 for user data: {&amp;#x27;first_name&amp;#x27;: &amp;#x27;John&amp;#x27;, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000, &amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;&amp;#x27;}\nE       assert 200 == &amp;lt;HTTPStatus.BAD_REQUEST: 400&amp;gt;\nE        +  where 200 = &amp;lt;Response [200]&amp;gt;.status_code\nE        +  and   &amp;lt;HTTPStatus.BAD_REQUEST: 400&amp;gt; = HTTPStatus.BAD_REQUEST\n\nbank_account_creation_test.py:63: AssertionError\n\n------------------------------ Captured log setup ------------------------------\nINFO     root:conftest.py:56 Using existing registered user. username: U5CPY, password: ***\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/auth/login\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;42&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;username&amp;quot;: &amp;quot;U5CPY&amp;quot;,\n  &amp;quot;password&amp;quot;: &amp;quot;***&amp;quot;\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:57 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;x-api-key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;__cf_bm=F37MHSTZeDQvJ2SW5FgdRPAew8DGKdP8cMwnzgZI1DY-1750524117-1.0.1.1-MLJbTYrsZzCD0AremG_S_E9X.OKtCUE0vYIFWK49hbKgfQlWAunYdj6lSs1WWRHEbpoh7xOVhhmjAwrxFXcFtzDJax7fSwNDzxnQLLEt4I8; path=/; expires=Sat, 21-Jun-25 17:11:57 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f4d57abd32ea-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;api_key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;expires_at&amp;quot;: &amp;quot;2025-06-21T16:42:57.487164221Z&amp;quot;\n}\nINFO     root:conftest.py:24 Logged in as existing user: U5CPY\n\n------------------------------ Captured log call -------------------------------\nINFO     root:conftest.py:13 Set bank account creation info for user: U5CPY, info: {&amp;#x27;first_name&amp;#x27;: &amp;#x27;John&amp;#x27;, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe&amp;#x27;, &amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000}\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/accounts\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;X-API-KEY&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;88&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;first_name&amp;quot;: &amp;quot;John&amp;quot;,\n  &amp;quot;last_name&amp;quot;: &amp;quot;Doe&amp;quot;,\n  &amp;quot;date_of_birth&amp;quot;: &amp;quot;&amp;quot;,\n  &amp;quot;initial_deposit&amp;quot;: 1000\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:57 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;JSESSIONID=7FAAAE67922EFB27BDFD5F993CAC18D3; Path=/; Secure; HttpOnly, __cf_bm=plNsz3NTkJWXejY9qQ.EPyHQP0Mia_n4Zdfw8Tr7ecc-1750524117-1.0.1.1-MkmcsaVDkuOGX6LhOEj2nboe_YAeicq2JrJGMK8C3J7Enwm_doaOo2ugS6XFQPiVO9gWaOxp6HNx49nQ0NkaTI9fcmpw.Z1Aobbj.V2_GeY; path=/; expires=Sat, 21-Jun-25 17:11:57 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f4d6dda17d29-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;id&amp;quot;: 122,\n  &amp;quot;first_name&amp;quot;: &amp;quot;John&amp;quot;,\n  &amp;quot;last_name&amp;quot;: &amp;quot;Doe&amp;quot;,\n  &amp;quot;date_of_birth&amp;quot;: &amp;quot;2025-06-21&amp;quot;,\n  &amp;quot;initial_deposit&amp;quot;: 999.99,\n  &amp;quot;full_name&amp;quot;: &amp;quot;John Doe&amp;quot;,\n  &amp;quot;iban_issuance_status&amp;quot;: &amp;quot;REQUESTED&amp;quot;,\n  &amp;quot;iban&amp;quot;: null,\n  &amp;quot;created_at&amp;quot;: &amp;quot;2025-06-21T16:41:57.625200512&amp;quot;,\n  &amp;quot;updated_at&amp;quot;: &amp;quot;2025-06-21T16:41:57.625200512&amp;quot;\n}\n\n&#34;}], &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Invalid Date Format]&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Invalid Date Format]&#34;, &#34;duration&#34;: &#34;343 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Invalid Date Format]&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;343 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;------------------------------ Captured log setup ------------------------------\nINFO     root:conftest.py:56 Using existing registered user. username: HR5OM, password: ***\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/auth/login\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;42&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;username&amp;quot;: &amp;quot;HR5OM&amp;quot;,\n  &amp;quot;password&amp;quot;: &amp;quot;***&amp;quot;\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:57 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;x-api-key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;__cf_bm=7k0y0ptHT885qEV.JY7Ioii.bOee4GzwPTJORnCdLUc-1750524117-1.0.1.1-Z0WQshJGfY9_AbcercCfAthERR8MI.7Xm33GcOmrbhGDb603pXTne_FdYuHAPzsinqfSZclsBQ_76I_MtG0Cb24Nenne.s0J.AAOjUaBdFc; path=/; expires=Sat, 21-Jun-25 17:11:57 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f4d7cf63334a-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;api_key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;expires_at&amp;quot;: &amp;quot;2025-06-21T16:42:57.848517273Z&amp;quot;\n}\nINFO     root:conftest.py:24 Logged in as existing user: HR5OM\n\n------------------------------ Captured log call -------------------------------\nINFO     root:conftest.py:13 Set bank account creation info for user: HR5OM, info: {&amp;#x27;first_name&amp;#x27;: &amp;#x27;John&amp;#x27;, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe&amp;#x27;, &amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;01-01-1990&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000}\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/accounts\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;X-API-KEY&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;98&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;first_name&amp;quot;: &amp;quot;John&amp;quot;,\n  &amp;quot;last_name&amp;quot;: &amp;quot;Doe&amp;quot;,\n  &amp;quot;date_of_birth&amp;quot;: &amp;quot;01-01-1990&amp;quot;,\n  &amp;quot;initial_deposit&amp;quot;: 1000\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 400\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:58 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;JSESSIONID=C4C53774EC82618D1DFE8D01BDAECA17; Path=/; Secure; HttpOnly, __cf_bm=OfVUc4dy6RVWT2_mzpZ4CyNDgju4fRgIuZsF7CzXAAY-1750524118-1.0.1.1-7xW8Y99URBEYaCb1GTcJMCpNOIehBqdJiKyLjylsZn6k8bug94.Id42PWfvdCw0i6N_DY8Ogm0uI1S7LKhbZ1W88QqOdXLveGlFrg0tK8Ko; path=/; expires=Sat, 21-Jun-25 17:11:58 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f4d91fd83326-EVN&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;timestamp&amp;quot;: &amp;quot;2025-06-21T16:41:57.984+00:00&amp;quot;,\n  &amp;quot;status&amp;quot;: 400,\n  &amp;quot;error&amp;quot;: &amp;quot;Bad Request&amp;quot;,\n  &amp;quot;message&amp;quot;: &amp;quot;JSON parse error: Cannot deserialize value of type `java.time.LocalDate` from String \\&amp;quot;01-01-1990\\&amp;quot;: Failed to deserialize java.time.LocalDate: (java.time.format.DateTimeParseException) Text &amp;#x27;01-01-1990&amp;#x27; could not be parsed at index 0&amp;quot;,\n  &amp;quot;path&amp;quot;: &amp;quot;/api/accounts&amp;quot;\n}\n\n&#34;}], &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Future Date of Birth]&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Future Date of Birth]&#34;, &#34;duration&#34;: &#34;340 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Future Date of Birth]&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;340 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;------------------------------ Captured log setup ------------------------------\nINFO     root:conftest.py:56 Using existing registered user. username: Z9JZO, password: ***\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/auth/login\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;42&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;username&amp;quot;: &amp;quot;Z9JZO&amp;quot;,\n  &amp;quot;password&amp;quot;: &amp;quot;***&amp;quot;\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:58 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;x-api-key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;__cf_bm=nljxqscSDCQZSiwDU4f1ARvLHuYHAt.JPwYPCLPVtds-1750524118-1.0.1.1-XK3DFuMAaOmAK2l4WrfKL0WFP1YxvDkF7XyRE8FXLxG.yr9qabju6M7cVpblIDVBIQc5PfuD_XnRsWsstH.0VxwQxHW8WGF2xNubqOlAwBc; path=/; expires=Sat, 21-Jun-25 17:11:58 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f4d9e8af7d1d-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;api_key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;expires_at&amp;quot;: &amp;quot;2025-06-21T16:42:58.195732874Z&amp;quot;\n}\nINFO     root:conftest.py:24 Logged in as existing user: Z9JZO\n\n------------------------------ Captured log call -------------------------------\nINFO     root:conftest.py:13 Set bank account creation info for user: Z9JZO, info: {&amp;#x27;first_name&amp;#x27;: &amp;#x27;John&amp;#x27;, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe&amp;#x27;, &amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;2050-01-01&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000}\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/accounts\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;X-API-KEY&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;98&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;first_name&amp;quot;: &amp;quot;John&amp;quot;,\n  &amp;quot;last_name&amp;quot;: &amp;quot;Doe&amp;quot;,\n  &amp;quot;date_of_birth&amp;quot;: &amp;quot;2050-01-01&amp;quot;,\n  &amp;quot;initial_deposit&amp;quot;: 1000\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 400\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:58 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;JSESSIONID=731DB768A9D7ECE981E4ECFF7C2FB865; Path=/; Secure; HttpOnly, __cf_bm=cKfZil0.gploypbK_zRRL6xGbA1yqYuhpDVqxISdoTI-1750524118-1.0.1.1-6tPVidl1g1VjQKkcEHi9TN0L4N3Lcjyu6S2XZzVjLh90L5DyEr0SKgom6.JRtnCazdO.24YCUUJXvYzK4tfcU7FOW6E.Duz.ze8kIYdQjfg; path=/; expires=Sat, 21-Jun-25 17:11:58 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f4db3cf77d19-EVN&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;message&amp;quot;: &amp;quot;Account holder must be at least 18 years old; Date of birth must be in the past&amp;quot;\n}\n\n&#34;}], &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Less Than 18 Years Old]&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Less Than 18 Years Old]&#34;, &#34;duration&#34;: &#34;214 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Less Than 18 Years Old]&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;214 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;user_data = {&amp;#x27;date_of_birth&amp;#x27;: 2008, &amp;#x27;first_name&amp;#x27;: &amp;#x27;John&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe&amp;#x27;}\nbank_account_client = &amp;lt;api_clients_and_models.bank_account_manager_api_client.BAMAPIClient object at 0x105d18990&amp;gt;\nget_registered_and_logged_in_user = User(username=&amp;#x27;IOETQ&amp;#x27;, password=&amp;#x27;EDTJI&amp;#x27;, token=&amp;#x27;725d0656-84e2-4e40-a837-bab6d86caac7&amp;#x27;, id=129, bank_accounts={}, bank_..._creation_info=BankAccountCreationInfoModel(first_name=None, last_name=None, date_of_birth=None, initial_deposit=None))\nset_bank_account_creation_info_to_user = &amp;lt;function set_bank_account_creation_info_to_user.&amp;lt;locals&amp;gt;._set_info at 0x106031f80&amp;gt;\n\n    @pytest.mark.parametrize(&amp;quot;user_data&amp;quot;, invalid_bank_account_creation_info.values(), ids=invalid_bank_account_creation_info.keys())\n    def test_create_bank_account_with_invalid_data(user_data, bank_account_client, get_registered_and_logged_in_user,\n                                                   set_bank_account_creation_info_to_user):\n        user = get_registered_and_logged_in_user\n        # Set invalid bank account creation info\n&amp;gt;       set_bank_account_creation_info_to_user(user=user, first_name=user_data[&amp;#x27;first_name&amp;#x27;], last_name=user_data[&amp;#x27;last_name&amp;#x27;],\n                                               initial_deposit=user_data[&amp;#x27;initial_deposit&amp;#x27;],\n                                               date_of_birth= user_data[&amp;#x27;date_of_birth&amp;#x27;])\n\nbank_account_creation_test.py:58: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nuser = User(username=&amp;#x27;IOETQ&amp;#x27;, password=&amp;#x27;EDTJI&amp;#x27;, token=&amp;#x27;725d0656-84e2-4e40-a837-bab6d86caac7&amp;#x27;, id=129, bank_accounts={}, bank_..._creation_info=BankAccountCreationInfoModel(first_name=None, last_name=None, date_of_birth=None, initial_deposit=None))\nfirst_name = &amp;#x27;John&amp;#x27;, last_name = &amp;#x27;Doe&amp;#x27;, initial_deposit = 1000\ndate_of_birth = 2008\n\n    def _set_info(user: User, first_name=None, last_name=None, initial_deposit=None, date_of_birth=None):\n&amp;gt;       info = BankAccountCreationInfoModel(first_name=first_name, last_name=last_name, initial_deposit=initial_deposit, date_of_birth=date_of_birth)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       pydantic_core._pydantic_core.ValidationError: 1 validation error for BankAccountCreationInfoModel\nE       date_of_birth\nE         Input should be a valid string [type=string_type, input_value=2008, input_type=int]\nE           For further information visit https://errors.pydantic.dev/2.11/v/string_type\n\nconftest.py:11: ValidationError\n\n------------------------------ Captured log setup ------------------------------\nINFO     root:conftest.py:56 Using existing registered user. username: IOETQ, password: ***\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/auth/login\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;42&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;username&amp;quot;: &amp;quot;IOETQ&amp;quot;,\n  &amp;quot;password&amp;quot;: &amp;quot;***&amp;quot;\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:58 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;x-api-key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;__cf_bm=as6DKMVV9zLoBtXJX3MO0mlk7u0B2kp0QGBIRN86HhE-1750524118-1.0.1.1-2lJiwkvf8XAJPDbxZK.LcCY4S6Q2BjT5HJNvt.xrIQGww0Ky_VCrsitCLhcdP1TRTHe4r66lp71gZQAJzjKZKDuhPyr5TA0M6EmL9Cob7.I; path=/; expires=Sat, 21-Jun-25 17:11:58 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f4dc1eee331a-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;api_key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;expires_at&amp;quot;: &amp;quot;2025-06-21T16:42:58.544528070Z&amp;quot;\n}\nINFO     root:conftest.py:24 Logged in as existing user: IOETQ\n&#34;}], &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[String Date of Birth]&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[String Date of Birth]&#34;, &#34;duration&#34;: &#34;379 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[String Date of Birth]&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;379 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;------------------------------ Captured log setup ------------------------------\nINFO     root:conftest.py:56 Using existing registered user. username: LNACQ, password: ***\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/auth/login\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;42&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;username&amp;quot;: &amp;quot;LNACQ&amp;quot;,\n  &amp;quot;password&amp;quot;: &amp;quot;***&amp;quot;\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:58 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;x-api-key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;__cf_bm=5USLrHA1FxTCk5A9VIjxXl0asKmfVf11Jtz9HVCDZik-1750524118-1.0.1.1-G73iPT.9lQwS9V5z2wgTyCD_bP_vqfdXxPuEENigg6g9yGIS5036DtBN6NclgyRFv0IIYN4_geHwsg43r9M98pV6jlpMm22TTagRQDAwGDA; path=/; expires=Sat, 21-Jun-25 17:11:58 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f4dd891c334a-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;api_key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;expires_at&amp;quot;: &amp;quot;2025-06-21T16:42:58.779570848Z&amp;quot;\n}\nINFO     root:conftest.py:24 Logged in as existing user: LNACQ\n\n------------------------------ Captured log call -------------------------------\nINFO     root:conftest.py:13 Set bank account creation info for user: LNACQ, info: {&amp;#x27;first_name&amp;#x27;: &amp;#x27;John&amp;#x27;, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe&amp;#x27;, &amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;January 1, 1990&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000}\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/accounts\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;X-API-KEY&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;103&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;first_name&amp;quot;: &amp;quot;John&amp;quot;,\n  &amp;quot;last_name&amp;quot;: &amp;quot;Doe&amp;quot;,\n  &amp;quot;date_of_birth&amp;quot;: &amp;quot;January 1, 1990&amp;quot;,\n  &amp;quot;initial_deposit&amp;quot;: 1000\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 400\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:58 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;JSESSIONID=19C869443B55F9F5FAF9D884CAFC2FCB; Path=/; Secure; HttpOnly, __cf_bm=OyF_Pf2tLg.b1mFfzfOLBgtqw5us2R2BDX6uT4Kx7TI-1750524118-1.0.1.1-hfTwdgraB08zJVtaWJJ0fl0o8KoV2j57h3OlzFi_9dzU_0LBjJGaPuosBPVqDMkVUuxt8ssLix7eZc_N5h.20JU9nFOIDMapYlJrSCFE3DQ; path=/; expires=Sat, 21-Jun-25 17:11:58 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f4df1a2c7d1d-EVN&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;timestamp&amp;quot;: &amp;quot;2025-06-21T16:41:58.944+00:00&amp;quot;,\n  &amp;quot;status&amp;quot;: 400,\n  &amp;quot;error&amp;quot;: &amp;quot;Bad Request&amp;quot;,\n  &amp;quot;message&amp;quot;: &amp;quot;JSON parse error: Cannot deserialize value of type `java.time.LocalDate` from String \\&amp;quot;January 1, 1990\\&amp;quot;: Failed to deserialize java.time.LocalDate: (java.time.format.DateTimeParseException) Text &amp;#x27;January 1, 1990&amp;#x27; could not be parsed at index 0&amp;quot;,\n  &amp;quot;path&amp;quot;: &amp;quot;/api/accounts&amp;quot;\n}\n\n&#34;}], &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Boolean Date of Birth]&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Boolean Date of Birth]&#34;, &#34;duration&#34;: &#34;206 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Boolean Date of Birth]&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;206 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;user_data = {&amp;#x27;date_of_birth&amp;#x27;: True, &amp;#x27;first_name&amp;#x27;: &amp;#x27;John&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe&amp;#x27;}\nbank_account_client = &amp;lt;api_clients_and_models.bank_account_manager_api_client.BAMAPIClient object at 0x105d18990&amp;gt;\nget_registered_and_logged_in_user = User(username=&amp;#x27;HR5OM&amp;#x27;, password=&amp;#x27;CX1M7&amp;#x27;, token=&amp;#x27;c54a4c2f-1571-41cd-bea1-5e74ffa74df4&amp;#x27;, id=130, bank_accounts={}, bank_..._creation_info=BankAccountCreationInfoModel(first_name=None, last_name=None, date_of_birth=None, initial_deposit=None))\nset_bank_account_creation_info_to_user = &amp;lt;function set_bank_account_creation_info_to_user.&amp;lt;locals&amp;gt;._set_info at 0x105de60c0&amp;gt;\n\n    @pytest.mark.parametrize(&amp;quot;user_data&amp;quot;, invalid_bank_account_creation_info.values(), ids=invalid_bank_account_creation_info.keys())\n    def test_create_bank_account_with_invalid_data(user_data, bank_account_client, get_registered_and_logged_in_user,\n                                                   set_bank_account_creation_info_to_user):\n        user = get_registered_and_logged_in_user\n        # Set invalid bank account creation info\n&amp;gt;       set_bank_account_creation_info_to_user(user=user, first_name=user_data[&amp;#x27;first_name&amp;#x27;], last_name=user_data[&amp;#x27;last_name&amp;#x27;],\n                                               initial_deposit=user_data[&amp;#x27;initial_deposit&amp;#x27;],\n                                               date_of_birth= user_data[&amp;#x27;date_of_birth&amp;#x27;])\n\nbank_account_creation_test.py:58: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nuser = User(username=&amp;#x27;HR5OM&amp;#x27;, password=&amp;#x27;CX1M7&amp;#x27;, token=&amp;#x27;c54a4c2f-1571-41cd-bea1-5e74ffa74df4&amp;#x27;, id=130, bank_accounts={}, bank_..._creation_info=BankAccountCreationInfoModel(first_name=None, last_name=None, date_of_birth=None, initial_deposit=None))\nfirst_name = &amp;#x27;John&amp;#x27;, last_name = &amp;#x27;Doe&amp;#x27;, initial_deposit = 1000\ndate_of_birth = True\n\n    def _set_info(user: User, first_name=None, last_name=None, initial_deposit=None, date_of_birth=None):\n&amp;gt;       info = BankAccountCreationInfoModel(first_name=first_name, last_name=last_name, initial_deposit=initial_deposit, date_of_birth=date_of_birth)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       pydantic_core._pydantic_core.ValidationError: 1 validation error for BankAccountCreationInfoModel\nE       date_of_birth\nE         Input should be a valid string [type=string_type, input_value=True, input_type=bool]\nE           For further information visit https://errors.pydantic.dev/2.11/v/string_type\n\nconftest.py:11: ValidationError\n\n------------------------------ Captured log setup ------------------------------\nINFO     root:conftest.py:56 Using existing registered user. username: HR5OM, password: ***\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/auth/login\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;42&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;username&amp;quot;: &amp;quot;HR5OM&amp;quot;,\n  &amp;quot;password&amp;quot;: &amp;quot;***&amp;quot;\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:59 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;x-api-key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;__cf_bm=6zcaiTPsc7mEuolQXE8xorYr31ouZwfDjxz7HksoDYQ-1750524119-1.0.1.1-z91LVFxFwi.629xOvUtg4W9x2YwLx_VWhYXRnj1bmktiAtaVh4O0cZs7qbF8vTpbdTxmRdKR8A5iyjO0aToxCU2vZBwAtmTvMXaAjCL14fw; path=/; expires=Sat, 21-Jun-25 17:11:59 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f4dfebb43356-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;api_key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;expires_at&amp;quot;: &amp;quot;2025-06-21T16:42:59.156232063Z&amp;quot;\n}\nINFO     root:conftest.py:24 Logged in as existing user: HR5OM\n&#34;}], &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[None Date of Birth]&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[None Date of Birth]&#34;, &#34;duration&#34;: &#34;457 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[None Date of Birth]&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;457 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;user_data = {&amp;#x27;date_of_birth&amp;#x27;: None, &amp;#x27;first_name&amp;#x27;: &amp;#x27;John&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe&amp;#x27;}\nbank_account_client = &amp;lt;api_clients_and_models.bank_account_manager_api_client.BAMAPIClient object at 0x105d18990&amp;gt;\nget_registered_and_logged_in_user = User(username=&amp;#x27;U5CPY&amp;#x27;, password=&amp;#x27;Y2XE5&amp;#x27;, token=&amp;#x27;f8efd11f-264c-4a37-abde-ce750c65debc&amp;#x27;, id=116, bank_accounts={}, bank_...eation_info=BankAccountCreationInfoModel(first_name=&amp;#x27;John&amp;#x27;, last_name=&amp;#x27;Doe&amp;#x27;, date_of_birth=None, initial_deposit=1000))\nset_bank_account_creation_info_to_user = &amp;lt;function set_bank_account_creation_info_to_user.&amp;lt;locals&amp;gt;._set_info at 0x105de4ea0&amp;gt;\n\n    @pytest.mark.parametrize(&amp;quot;user_data&amp;quot;, invalid_bank_account_creation_info.values(), ids=invalid_bank_account_creation_info.keys())\n    def test_create_bank_account_with_invalid_data(user_data, bank_account_client, get_registered_and_logged_in_user,\n                                                   set_bank_account_creation_info_to_user):\n        user = get_registered_and_logged_in_user\n        # Set invalid bank account creation info\n        set_bank_account_creation_info_to_user(user=user, first_name=user_data[&amp;#x27;first_name&amp;#x27;], last_name=user_data[&amp;#x27;last_name&amp;#x27;],\n                                               initial_deposit=user_data[&amp;#x27;initial_deposit&amp;#x27;],\n                                               date_of_birth= user_data[&amp;#x27;date_of_birth&amp;#x27;])\n    \n        response = bank_account_client.create_bank_account(user=user)\n&amp;gt;       assert response.status_code == HTTPStatus.BAD_REQUEST, (\n            f&amp;quot;Expected 400 Bad Request, got {response.status_code} for user data: {user_data}&amp;quot;\n        )\nE       AssertionError: Expected 400 Bad Request, got 200 for user data: {&amp;#x27;first_name&amp;#x27;: &amp;#x27;John&amp;#x27;, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000, &amp;#x27;date_of_birth&amp;#x27;: None}\nE       assert 200 == &amp;lt;HTTPStatus.BAD_REQUEST: 400&amp;gt;\nE        +  where 200 = &amp;lt;Response [200]&amp;gt;.status_code\nE        +  and   &amp;lt;HTTPStatus.BAD_REQUEST: 400&amp;gt; = HTTPStatus.BAD_REQUEST\n\nbank_account_creation_test.py:63: AssertionError\n\n------------------------------ Captured log setup ------------------------------\nINFO     root:conftest.py:56 Using existing registered user. username: U5CPY, password: ***\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/auth/login\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;42&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;username&amp;quot;: &amp;quot;U5CPY&amp;quot;,\n  &amp;quot;password&amp;quot;: &amp;quot;***&amp;quot;\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:59 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;x-api-key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;__cf_bm=kINm33oqxaolKJaZFu9aerfmIoR6Q4Gap.dalxLPYnY-1750524119-1.0.1.1-wjFPi.7Z0gngy3qWBDEE2V4ASE2sv5oqPi2f8.8nWPQAOuhvEBcT9xhytJmsjcN4Uw7bw0Imax5I4cGnKxkrr6cgrUqBgm.PK3XQnw8GI4U; path=/; expires=Sat, 21-Jun-25 17:11:59 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f4e15c563356-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;api_key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;expires_at&amp;quot;: &amp;quot;2025-06-21T16:42:59.431936784Z&amp;quot;\n}\nINFO     root:conftest.py:24 Logged in as existing user: U5CPY\n\n------------------------------ Captured log call -------------------------------\nINFO     root:conftest.py:13 Set bank account creation info for user: U5CPY, info: {&amp;#x27;first_name&amp;#x27;: &amp;#x27;John&amp;#x27;, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe&amp;#x27;, &amp;#x27;date_of_birth&amp;#x27;: None, &amp;#x27;initial_deposit&amp;#x27;: 1000}\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/accounts\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;X-API-KEY&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;90&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;first_name&amp;quot;: &amp;quot;John&amp;quot;,\n  &amp;quot;last_name&amp;quot;: &amp;quot;Doe&amp;quot;,\n  &amp;quot;date_of_birth&amp;quot;: null,\n  &amp;quot;initial_deposit&amp;quot;: 1000\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:59 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;JSESSIONID=D208955D8DC9AC23BFF3BB2C96F4ED33; Path=/; Secure; HttpOnly, __cf_bm=.bt3U001v4YgH_eSfd3cbidbd19UOydBxQtJd2YoDTc-1750524119-1.0.1.1-Cd5EeBo5j6qe7Bl6OOoMDRspxwaSv3kGjdyQtUWEUffsVLWX6CfD3xh7j.U9COILUjdMoQfNK4Mys68uLKl4dHTsTwHBjD_Ddn_L0K6pNIE; path=/; expires=Sat, 21-Jun-25 17:11:59 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f4e348177d41-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;id&amp;quot;: 123,\n  &amp;quot;first_name&amp;quot;: &amp;quot;John&amp;quot;,\n  &amp;quot;last_name&amp;quot;: &amp;quot;Doe&amp;quot;,\n  &amp;quot;date_of_birth&amp;quot;: &amp;quot;2025-06-21&amp;quot;,\n  &amp;quot;initial_deposit&amp;quot;: 999.99,\n  &amp;quot;full_name&amp;quot;: &amp;quot;John Doe&amp;quot;,\n  &amp;quot;iban_issuance_status&amp;quot;: &amp;quot;REQUESTED&amp;quot;,\n  &amp;quot;iban&amp;quot;: null,\n  &amp;quot;created_at&amp;quot;: &amp;quot;2025-06-21T16:41:59.613249321&amp;quot;,\n  &amp;quot;updated_at&amp;quot;: &amp;quot;2025-06-21T16:41:59.613249321&amp;quot;\n}\n\n&#34;}], &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[List Date of Birth]&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[List Date of Birth]&#34;, &#34;duration&#34;: &#34;222 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[List Date of Birth]&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;222 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;user_data = {&amp;#x27;date_of_birth&amp;#x27;: [&amp;#x27;1990-01-01&amp;#x27;], &amp;#x27;first_name&amp;#x27;: &amp;#x27;John&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe&amp;#x27;}\nbank_account_client = &amp;lt;api_clients_and_models.bank_account_manager_api_client.BAMAPIClient object at 0x105d18990&amp;gt;\nget_registered_and_logged_in_user = User(username=&amp;#x27;LNACQ&amp;#x27;, password=&amp;#x27;L4SSD&amp;#x27;, token=&amp;#x27;09d99973-2fbb-42db-9482-8a98eba46aa9&amp;#x27;, id=119, bank_accounts={}, bank_..._creation_info=BankAccountCreationInfoModel(first_name=None, last_name=None, date_of_birth=None, initial_deposit=None))\nset_bank_account_creation_info_to_user = &amp;lt;function set_bank_account_creation_info_to_user.&amp;lt;locals&amp;gt;._set_info at 0x105de5da0&amp;gt;\n\n    @pytest.mark.parametrize(&amp;quot;user_data&amp;quot;, invalid_bank_account_creation_info.values(), ids=invalid_bank_account_creation_info.keys())\n    def test_create_bank_account_with_invalid_data(user_data, bank_account_client, get_registered_and_logged_in_user,\n                                                   set_bank_account_creation_info_to_user):\n        user = get_registered_and_logged_in_user\n        # Set invalid bank account creation info\n&amp;gt;       set_bank_account_creation_info_to_user(user=user, first_name=user_data[&amp;#x27;first_name&amp;#x27;], last_name=user_data[&amp;#x27;last_name&amp;#x27;],\n                                               initial_deposit=user_data[&amp;#x27;initial_deposit&amp;#x27;],\n                                               date_of_birth= user_data[&amp;#x27;date_of_birth&amp;#x27;])\n\nbank_account_creation_test.py:58: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nuser = User(username=&amp;#x27;LNACQ&amp;#x27;, password=&amp;#x27;L4SSD&amp;#x27;, token=&amp;#x27;09d99973-2fbb-42db-9482-8a98eba46aa9&amp;#x27;, id=119, bank_accounts={}, bank_..._creation_info=BankAccountCreationInfoModel(first_name=None, last_name=None, date_of_birth=None, initial_deposit=None))\nfirst_name = &amp;#x27;John&amp;#x27;, last_name = &amp;#x27;Doe&amp;#x27;, initial_deposit = 1000\ndate_of_birth = [&amp;#x27;1990-01-01&amp;#x27;]\n\n    def _set_info(user: User, first_name=None, last_name=None, initial_deposit=None, date_of_birth=None):\n&amp;gt;       info = BankAccountCreationInfoModel(first_name=first_name, last_name=last_name, initial_deposit=initial_deposit, date_of_birth=date_of_birth)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       pydantic_core._pydantic_core.ValidationError: 1 validation error for BankAccountCreationInfoModel\nE       date_of_birth\nE         Input should be a valid string [type=string_type, input_value=[&amp;#x27;1990-01-01&amp;#x27;], input_type=list]\nE           For further information visit https://errors.pydantic.dev/2.11/v/string_type\n\nconftest.py:11: ValidationError\n\n------------------------------ Captured log setup ------------------------------\nINFO     root:conftest.py:56 Using existing registered user. username: LNACQ, password: ***\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/auth/login\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;42&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;username&amp;quot;: &amp;quot;LNACQ&amp;quot;,\n  &amp;quot;password&amp;quot;: &amp;quot;***&amp;quot;\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:41:59 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;x-api-key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;__cf_bm=BLRG2evbbzUwD_711h7qLZaYqAkkviWmqwcMbO5yibg-1750524119-1.0.1.1-PgPrHLLfjLNc2n.SCCjqI.kegm.S9ySiFJR1FKY885lvIbBO5CCYlP5pBYniTACgIubIoBWJnSUCAxT_7mv0mF0iOEnFFy7Zv_ZtWUzqivM; path=/; expires=Sat, 21-Jun-25 17:11:59 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f4e44eb032de-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;api_key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;expires_at&amp;quot;: &amp;quot;2025-06-21T16:42:59.856734295Z&amp;quot;\n}\nINFO     root:conftest.py:24 Logged in as existing user: LNACQ\n&#34;}], &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Dict Date of Birth]&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Dict Date of Birth]&#34;, &#34;duration&#34;: &#34;213 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[Dict Date of Birth]&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;213 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;user_data = {&amp;#x27;date_of_birth&amp;#x27;: {&amp;#x27;date&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;}, &amp;#x27;first_name&amp;#x27;: &amp;#x27;John&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe&amp;#x27;}\nbank_account_client = &amp;lt;api_clients_and_models.bank_account_manager_api_client.BAMAPIClient object at 0x105d18990&amp;gt;\nget_registered_and_logged_in_user = User(username=&amp;#x27;YG65E&amp;#x27;, password=&amp;#x27;3EHM1&amp;#x27;, token=&amp;#x27;8b7130c5-5f21-46e0-a0f7-f8dfa6758231&amp;#x27;, id=124, bank_accounts={&amp;#x27;94&amp;#x27;: Ba...nfo=BankAccountCreationInfoModel(first_name=&amp;#x27;John&amp;#x27;, last_name=&amp;#x27;Doe&amp;#x27;, date_of_birth=&amp;#x27;1990-01-01&amp;#x27;, initial_deposit=1000))\nset_bank_account_creation_info_to_user = &amp;lt;function set_bank_account_creation_info_to_user.&amp;lt;locals&amp;gt;._set_info at 0x1060328e0&amp;gt;\n\n    @pytest.mark.parametrize(&amp;quot;user_data&amp;quot;, invalid_bank_account_creation_info.values(), ids=invalid_bank_account_creation_info.keys())\n    def test_create_bank_account_with_invalid_data(user_data, bank_account_client, get_registered_and_logged_in_user,\n                                                   set_bank_account_creation_info_to_user):\n        user = get_registered_and_logged_in_user\n        # Set invalid bank account creation info\n&amp;gt;       set_bank_account_creation_info_to_user(user=user, first_name=user_data[&amp;#x27;first_name&amp;#x27;], last_name=user_data[&amp;#x27;last_name&amp;#x27;],\n                                               initial_deposit=user_data[&amp;#x27;initial_deposit&amp;#x27;],\n                                               date_of_birth= user_data[&amp;#x27;date_of_birth&amp;#x27;])\n\nbank_account_creation_test.py:58: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nuser = User(username=&amp;#x27;YG65E&amp;#x27;, password=&amp;#x27;3EHM1&amp;#x27;, token=&amp;#x27;8b7130c5-5f21-46e0-a0f7-f8dfa6758231&amp;#x27;, id=124, bank_accounts={&amp;#x27;94&amp;#x27;: Ba...nfo=BankAccountCreationInfoModel(first_name=&amp;#x27;John&amp;#x27;, last_name=&amp;#x27;Doe&amp;#x27;, date_of_birth=&amp;#x27;1990-01-01&amp;#x27;, initial_deposit=1000))\nfirst_name = &amp;#x27;John&amp;#x27;, last_name = &amp;#x27;Doe&amp;#x27;, initial_deposit = 1000\ndate_of_birth = {&amp;#x27;date&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;}\n\n    def _set_info(user: User, first_name=None, last_name=None, initial_deposit=None, date_of_birth=None):\n&amp;gt;       info = BankAccountCreationInfoModel(first_name=first_name, last_name=last_name, initial_deposit=initial_deposit, date_of_birth=date_of_birth)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE       pydantic_core._pydantic_core.ValidationError: 1 validation error for BankAccountCreationInfoModel\nE       date_of_birth\nE         Input should be a valid string [type=string_type, input_value={&amp;#x27;date&amp;#x27;: &amp;#x27;1990-01-01&amp;#x27;}, input_type=dict]\nE           For further information visit https://errors.pydantic.dev/2.11/v/string_type\n\nconftest.py:11: ValidationError\n\n------------------------------ Captured log setup ------------------------------\nINFO     root:conftest.py:56 Using existing registered user. username: YG65E, password: ***\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/auth/login\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;42&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;username&amp;quot;: &amp;quot;YG65E&amp;quot;,\n  &amp;quot;password&amp;quot;: &amp;quot;***&amp;quot;\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:42:00 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;x-api-key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;__cf_bm=j10_bdS9bBoePE5Y5PK2IF9pnP1HemE7vMnG1hN.oLs-1750524120-1.0.1.1-k7RWS8ZvyrJT33Fx_9VaK2XwnAAw8IVOKVC8KN_k6crxxvGNXuyEVyhQq4XEkkxXO.y8fS5LLJ8zRthsXK0RrVsMR5zIiGbho._6U5n_9LU; path=/; expires=Sat, 21-Jun-25 17:12:00 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f4e5b8fb7d39-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;api_key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;expires_at&amp;quot;: &amp;quot;2025-06-21T16:43:00.093785502Z&amp;quot;\n}\nINFO     root:conftest.py:24 Logged in as existing user: YG65E\n&#34;}], &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[SQL Injection Date of Birth]&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[SQL Injection Date of Birth]&#34;, &#34;duration&#34;: &#34;402 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[SQL Injection Date of Birth]&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;402 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;------------------------------ Captured log setup ------------------------------\nINFO     root:conftest.py:56 Using existing registered user. username: U5CPY, password: ***\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/auth/login\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;42&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;username&amp;quot;: &amp;quot;U5CPY&amp;quot;,\n  &amp;quot;password&amp;quot;: &amp;quot;***&amp;quot;\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:42:00 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;x-api-key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;__cf_bm=7SkCK5EppD4VmQIgvcVayarVaGsnSyASNo__yTv1OZ4-1750524120-1.0.1.1-GVeir4rdaPWy.yfrZnDWp8NJHgaByswPd18I1UpCWn7uRbBTV2Z3x5tm24h_BTWLgBlugFigOrayJQmX_gWXAYj_8hSB7wxGTjg6B66ST7Q; path=/; expires=Sat, 21-Jun-25 17:12:00 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f4e73a3b3362-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;api_key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;expires_at&amp;quot;: &amp;quot;2025-06-21T16:43:00.322165892Z&amp;quot;\n}\nINFO     root:conftest.py:24 Logged in as existing user: U5CPY\n\n------------------------------ Captured log call -------------------------------\nINFO     root:conftest.py:13 Set bank account creation info for user: U5CPY, info: {&amp;#x27;first_name&amp;#x27;: &amp;#x27;John&amp;#x27;, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe&amp;#x27;, &amp;#x27;date_of_birth&amp;#x27;: &amp;quot;&amp;#x27;; DROP TABLE users; --&amp;quot;, &amp;#x27;initial_deposit&amp;#x27;: 1000}\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/accounts\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;X-API-KEY&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;111&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;first_name&amp;quot;: &amp;quot;John&amp;quot;,\n  &amp;quot;last_name&amp;quot;: &amp;quot;Doe&amp;quot;,\n  &amp;quot;date_of_birth&amp;quot;: &amp;quot;&amp;#x27;; DROP TABLE users; --&amp;quot;,\n  &amp;quot;initial_deposit&amp;quot;: 1000\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 400\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:42:00 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;JSESSIONID=C3C7A46BC5447DF8A50A801CA07269EB; Path=/; Secure; HttpOnly, __cf_bm=n5wqrNo1fZqz.6MYooPyY1rb83HaGzIVNfWer3vG26U-1750524120-1.0.1.1-.J1rv569L03Di9PBwe7tKtlWLcm61DhbShhVoAe3qiQFnDmUrVNXN_SeeAhD7KWg4erRYVvO_y871i_ykYMm95.4gJsPecZ9IYUzoFJyBTE; path=/; expires=Sat, 21-Jun-25 17:12:00 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f4e889b07d41-EVN&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;timestamp&amp;quot;: &amp;quot;2025-06-21T16:42:00.514+00:00&amp;quot;,\n  &amp;quot;status&amp;quot;: 400,\n  &amp;quot;error&amp;quot;: &amp;quot;Bad Request&amp;quot;,\n  &amp;quot;message&amp;quot;: &amp;quot;JSON parse error: Cannot deserialize value of type `java.time.LocalDate` from String \\&amp;quot;&amp;#x27;; DROP TABLE users; --\\&amp;quot;: Failed to deserialize java.time.LocalDate: (java.time.format.DateTimeParseException) Text &amp;#x27;&amp;#x27;; DROP TABLE users; --&amp;#x27; could not be parsed at index 0&amp;quot;,\n  &amp;quot;path&amp;quot;: &amp;quot;/api/accounts&amp;quot;\n}\n\n&#34;}], &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[XSS Date of Birth]&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[XSS Date of Birth]&#34;, &#34;duration&#34;: &#34;342 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/account_tests/bank_account_creation_test.py::test_create_bank_account_with_invalid_data[XSS Date of Birth]&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;342 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;------------------------------ Captured log setup ------------------------------\nINFO     root:conftest.py:56 Using existing registered user. username: LNACQ, password: ***\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/auth/login\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;42&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;username&amp;quot;: &amp;quot;LNACQ&amp;quot;,\n  &amp;quot;password&amp;quot;: &amp;quot;***&amp;quot;\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 200\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:42:00 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;x-api-key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;__cf_bm=uotn6x2cXIugZYW5M.2XhAoJFUClDkF1LNGKUqEpuHE-1750524120-1.0.1.1-pJpzXtmMqvgLatwZaWa_ZKJcjOwPszT5VEiRxe_.dc4ut2xGR7m_Pcg1tgEj5NcecxZ_sm1XGMH40LZi7dTE.wWewv20tdn8URpe7cpjcq0; path=/; expires=Sat, 21-Jun-25 17:12:00 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f4e9b9767d21-EVN&amp;quot;,\n  &amp;quot;Content-Encoding&amp;quot;: &amp;quot;gzip&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;api_key&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;expires_at&amp;quot;: &amp;quot;2025-06-21T16:43:00.717734136Z&amp;quot;\n}\nINFO     root:conftest.py:24 Logged in as existing user: LNACQ\n\n------------------------------ Captured log call -------------------------------\nINFO     root:conftest.py:13 Set bank account creation info for user: LNACQ, info: {&amp;#x27;first_name&amp;#x27;: &amp;#x27;John&amp;#x27;, &amp;#x27;last_name&amp;#x27;: &amp;#x27;Doe&amp;#x27;, &amp;#x27;date_of_birth&amp;#x27;: &amp;#x27;&amp;lt;script&amp;gt;alert(&amp;quot;XSS&amp;quot;);&amp;lt;/script&amp;gt;&amp;#x27;, &amp;#x27;initial_deposit&amp;#x27;: 1000}\nDEBUG    root:custom_requests.py:15 Request URL: https://global-bank-qa-challenge-external.fleet.dev.eu-west-1.sumup.net/api/accounts\nDEBUG    root:custom_requests.py:16 Request Method: POST\nDEBUG    root:custom_requests.py:21 Request Headers:\n{\n  &amp;quot;User-Agent&amp;quot;: &amp;quot;python-requests/2.32.4&amp;quot;,\n  &amp;quot;Accept-Encoding&amp;quot;: &amp;quot;gzip, deflate&amp;quot;,\n  &amp;quot;Accept&amp;quot;: &amp;quot;*/*&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;X-API-KEY&amp;quot;: &amp;quot;***&amp;quot;,\n  &amp;quot;Content-Length&amp;quot;: &amp;quot;120&amp;quot;\n}\nDEBUG    root:custom_requests.py:37 Request Body:\n{\n  &amp;quot;first_name&amp;quot;: &amp;quot;John&amp;quot;,\n  &amp;quot;last_name&amp;quot;: &amp;quot;Doe&amp;quot;,\n  &amp;quot;date_of_birth&amp;quot;: &amp;quot;&amp;lt;script&amp;gt;alert(\\&amp;quot;XSS\\&amp;quot;);&amp;lt;/script&amp;gt;&amp;quot;,\n  &amp;quot;initial_deposit&amp;quot;: 1000\n}\nDEBUG    root:custom_requests.py:39 Response Status Code: 400\nDEBUG    root:custom_requests.py:44 Response Headers:\n{\n  &amp;quot;Date&amp;quot;: &amp;quot;Sat, 21 Jun 2025 16:42:00 GMT&amp;quot;,\n  &amp;quot;Content-Type&amp;quot;: &amp;quot;application/json&amp;quot;,\n  &amp;quot;Transfer-Encoding&amp;quot;: &amp;quot;chunked&amp;quot;,\n  &amp;quot;Connection&amp;quot;: &amp;quot;keep-alive&amp;quot;,\n  &amp;quot;Set-Cookie&amp;quot;: &amp;quot;JSESSIONID=C4F96FC04FBFB10747ABDF6B71D2FEDD; Path=/; Secure; HttpOnly, __cf_bm=OOmtB3QV29rrQgVNy_fmx3ZvzYuhf0bkvbWeqNyj1lU-1750524120-1.0.1.1-Yl4cErvnT.29ZBqRG36LIHLxCqktztiQm5124HbzxEZTQSMNNamrrhRBdYclYwhxpPCKJCMINbFj8IYj__0Y61cjRyeMcZ_V5QuGt7KLTxg; path=/; expires=Sat, 21-Jun-25 17:12:00 GMT; domain=.sumup.net; HttpOnly; Secure; SameSite=None&amp;quot;,\n  &amp;quot;x-content-type-options&amp;quot;: &amp;quot;nosniff&amp;quot;,\n  &amp;quot;x-xss-protection&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;Cache-Control&amp;quot;: &amp;quot;no-cache, no-store, max-age=0, must-revalidate&amp;quot;,\n  &amp;quot;pragma&amp;quot;: &amp;quot;no-cache&amp;quot;,\n  &amp;quot;expires&amp;quot;: &amp;quot;0&amp;quot;,\n  &amp;quot;strict-transport-security&amp;quot;: &amp;quot;max-age=31536000 ; includeSubDomains&amp;quot;,\n  &amp;quot;x-frame-options&amp;quot;: &amp;quot;DENY&amp;quot;,\n  &amp;quot;cf-cache-status&amp;quot;: &amp;quot;DYNAMIC&amp;quot;,\n  &amp;quot;Server&amp;quot;: &amp;quot;cloudflare&amp;quot;,\n  &amp;quot;CF-RAY&amp;quot;: &amp;quot;9534f4eafde13326-EVN&amp;quot;\n}\nDEBUG    root:custom_requests.py:54 Response Body:\n{\n  &amp;quot;timestamp&amp;quot;: &amp;quot;2025-06-21T16:42:00.849+00:00&amp;quot;,\n  &amp;quot;status&amp;quot;: 400,\n  &amp;quot;error&amp;quot;: &amp;quot;Bad Request&amp;quot;,\n  &amp;quot;message&amp;quot;: &amp;quot;JSON parse error: Cannot deserialize value of type `java.time.LocalDate` from String \\&amp;quot;&amp;lt;script&amp;gt;alert(\\&amp;quot;XSS\\&amp;quot;);&amp;lt;/script&amp;gt;\\&amp;quot;: Failed to deserialize java.time.LocalDate: (java.time.format.DateTimeParseException) Text &amp;#x27;&amp;lt;script&amp;gt;alert(\\&amp;quot;XSS\\&amp;quot;);&amp;lt;/script&amp;gt;&amp;#x27; could not be parsed at index 0&amp;quot;,\n  &amp;quot;path&amp;quot;: &amp;quot;/api/accounts&amp;quot;\n}\n\n---------------------------- Captured log teardown -----------------------------\nINFO     root:conftest.py:78 Pushing updated users to VCS...&#34;}]}, &#34;renderCollapsed&#34;: [&#34;passed&#34;], &#34;initialSort&#34;: &#34;result&#34;, &#34;title&#34;: &#34;report.html&#34;}"></div>
    <script>
      (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
const { getCollapsedCategory, setCollapsedIds } = require('./storage.js')

class DataManager {
    setManager(data) {
        const collapsedCategories = [...getCollapsedCategory(data.renderCollapsed)]
        const collapsedIds = []
        const tests = Object.values(data.tests).flat().map((test, index) => {
            const collapsed = collapsedCategories.includes(test.result.toLowerCase())
            const id = `test_${index}`
            if (collapsed) {
                collapsedIds.push(id)
            }
            return {
                ...test,
                id,
                collapsed,
            }
        })
        const dataBlob = { ...data, tests }
        this.data = { ...dataBlob }
        this.renderData = { ...dataBlob }
        setCollapsedIds(collapsedIds)
    }

    get allData() {
        return { ...this.data }
    }

    resetRender() {
        this.renderData = { ...this.data }
    }

    setRender(data) {
        this.renderData.tests = [...data]
    }

    toggleCollapsedItem(id) {
        this.renderData.tests = this.renderData.tests.map((test) =>
            test.id === id ? { ...test, collapsed: !test.collapsed } : test,
        )
    }

    set allCollapsed(collapsed) {
        this.renderData = { ...this.renderData, tests: [...this.renderData.tests.map((test) => (
            { ...test, collapsed }
        ))] }
    }

    get testSubset() {
        return [...this.renderData.tests]
    }

    get environment() {
        return this.renderData.environment
    }

    get initialSort() {
        return this.data.initialSort
    }
}

module.exports = {
    manager: new DataManager(),
}

},{"./storage.js":8}],2:[function(require,module,exports){
const mediaViewer = require('./mediaviewer.js')
const templateEnvRow = document.getElementById('template_environment_row')
const templateResult = document.getElementById('template_results-table__tbody')

function htmlToElements(html) {
    const temp = document.createElement('template')
    temp.innerHTML = html
    return temp.content.childNodes
}

const find = (selector, elem) => {
    if (!elem) {
        elem = document
    }
    return elem.querySelector(selector)
}

const findAll = (selector, elem) => {
    if (!elem) {
        elem = document
    }
    return [...elem.querySelectorAll(selector)]
}

const dom = {
    getStaticRow: (key, value) => {
        const envRow = templateEnvRow.content.cloneNode(true)
        const isObj = typeof value === 'object' && value !== null
        const values = isObj ? Object.keys(value).map((k) => `${k}: ${value[k]}`) : null

        const valuesElement = htmlToElements(
            values ? `<ul>${values.map((val) => `<li>${val}</li>`).join('')}<ul>` : `<div>${value}</div>`)[0]
        const td = findAll('td', envRow)
        td[0].textContent = key
        td[1].appendChild(valuesElement)

        return envRow
    },
    getResultTBody: ({ testId, id, log, extras, resultsTableRow, tableHtml, result, collapsed }) => {
        const resultBody = templateResult.content.cloneNode(true)
        resultBody.querySelector('tbody').classList.add(result.toLowerCase())
        resultBody.querySelector('tbody').id = testId
        resultBody.querySelector('.collapsible').dataset.id = id

        resultsTableRow.forEach((html) => {
            const t = document.createElement('template')
            t.innerHTML = html
            resultBody.querySelector('.collapsible').appendChild(t.content)
        })

        if (log) {
            // Wrap lines starting with "E" with span.error to color those lines red
            const wrappedLog = log.replace(/^E.*$/gm, (match) => `<span class="error">${match}</span>`)
            resultBody.querySelector('.log').innerHTML = wrappedLog
        } else {
            resultBody.querySelector('.log').remove()
        }

        if (collapsed) {
            resultBody.querySelector('.collapsible > td')?.classList.add('collapsed')
            resultBody.querySelector('.extras-row').classList.add('hidden')
        } else {
            resultBody.querySelector('.collapsible > td')?.classList.remove('collapsed')
        }

        const media = []
        extras?.forEach(({ name, format_type, content }) => {
            if (['image', 'video'].includes(format_type)) {
                media.push({ path: content, name, format_type })
            }

            if (format_type === 'html') {
                resultBody.querySelector('.extraHTML').insertAdjacentHTML('beforeend', `<div>${content}</div>`)
            }
        })
        mediaViewer.setup(resultBody, media)

        // Add custom html from the pytest_html_results_table_html hook
        tableHtml?.forEach((item) => {
            resultBody.querySelector('td[class="extra"]').insertAdjacentHTML('beforeend', item)
        })

        return resultBody
    },
}

module.exports = {
    dom,
    htmlToElements,
    find,
    findAll,
}

},{"./mediaviewer.js":6}],3:[function(require,module,exports){
const { manager } = require('./datamanager.js')
const { doSort } = require('./sort.js')
const storageModule = require('./storage.js')

const getFilteredSubSet = (filter) =>
    manager.allData.tests.filter(({ result }) => filter.includes(result.toLowerCase()))

const doInitFilter = () => {
    const currentFilter = storageModule.getVisible()
    const filteredSubset = getFilteredSubSet(currentFilter)
    manager.setRender(filteredSubset)
}

const doFilter = (type, show) => {
    if (show) {
        storageModule.showCategory(type)
    } else {
        storageModule.hideCategory(type)
    }

    const currentFilter = storageModule.getVisible()
    const filteredSubset = getFilteredSubSet(currentFilter)
    manager.setRender(filteredSubset)

    const sortColumn = storageModule.getSort()
    doSort(sortColumn, true)
}

module.exports = {
    doFilter,
    doInitFilter,
}

},{"./datamanager.js":1,"./sort.js":7,"./storage.js":8}],4:[function(require,module,exports){
const { redraw, bindEvents, renderStatic } = require('./main.js')
const { doInitFilter } = require('./filter.js')
const { doInitSort } = require('./sort.js')
const { manager } = require('./datamanager.js')
const data = JSON.parse(document.getElementById('data-container').dataset.jsonblob)

function init() {
    manager.setManager(data)
    doInitFilter()
    doInitSort()
    renderStatic()
    redraw()
    bindEvents()
}

init()

},{"./datamanager.js":1,"./filter.js":3,"./main.js":5,"./sort.js":7}],5:[function(require,module,exports){
const { dom, find, findAll } = require('./dom.js')
const { manager } = require('./datamanager.js')
const { doSort } = require('./sort.js')
const { doFilter } = require('./filter.js')
const {
    getVisible,
    getCollapsedIds,
    setCollapsedIds,
    getSort,
    getSortDirection,
    possibleFilters,
} = require('./storage.js')

const removeChildren = (node) => {
    while (node.firstChild) {
        node.removeChild(node.firstChild)
    }
}

const renderStatic = () => {
    const renderEnvironmentTable = () => {
        const environment = manager.environment
        const rows = Object.keys(environment).map((key) => dom.getStaticRow(key, environment[key]))
        const table = document.getElementById('environment')
        removeChildren(table)
        rows.forEach((row) => table.appendChild(row))
    }
    renderEnvironmentTable()
}

const addItemToggleListener = (elem) => {
    elem.addEventListener('click', ({ target }) => {
        const id = target.parentElement.dataset.id
        manager.toggleCollapsedItem(id)

        const collapsedIds = getCollapsedIds()
        if (collapsedIds.includes(id)) {
            const updated = collapsedIds.filter((item) => item !== id)
            setCollapsedIds(updated)
        } else {
            collapsedIds.push(id)
            setCollapsedIds(collapsedIds)
        }
        redraw()
    })
}

const renderContent = (tests) => {
    const sortAttr = getSort(manager.initialSort)
    const sortAsc = JSON.parse(getSortDirection())
    const rows = tests.map(dom.getResultTBody)
    const table = document.getElementById('results-table')
    const tableHeader = document.getElementById('results-table-head')

    const newTable = document.createElement('table')
    newTable.id = 'results-table'

    // remove all sorting classes and set the relevant
    findAll('.sortable', tableHeader).forEach((elem) => elem.classList.remove('asc', 'desc'))
    tableHeader.querySelector(`.sortable[data-column-type="${sortAttr}"]`)?.classList.add(sortAsc ? 'desc' : 'asc')
    newTable.appendChild(tableHeader)

    if (!rows.length) {
        const emptyTable = document.getElementById('template_results-table__body--empty').content.cloneNode(true)
        newTable.appendChild(emptyTable)
    } else {
        rows.forEach((row) => {
            if (!!row) {
                findAll('.collapsible td:not(.col-links', row).forEach(addItemToggleListener)
                find('.logexpander', row).addEventListener('click',
                    (evt) => evt.target.parentNode.classList.toggle('expanded'),
                )
                newTable.appendChild(row)
            }
        })
    }

    table.replaceWith(newTable)
}

const renderDerived = () => {
    const currentFilter = getVisible()
    possibleFilters.forEach((result) => {
        const input = document.querySelector(`input[data-test-result="${result}"]`)
        input.checked = currentFilter.includes(result)
    })
}

const bindEvents = () => {
    const filterColumn = (evt) => {
        const { target: element } = evt
        const { testResult } = element.dataset

        doFilter(testResult, element.checked)
        const collapsedIds = getCollapsedIds()
        const updated = manager.renderData.tests.map((test) => {
            return {
                ...test,
                collapsed: collapsedIds.includes(test.id),
            }
        })
        manager.setRender(updated)
        redraw()
    }

    const header = document.getElementById('environment-header')
    header.addEventListener('click', () => {
        const table = document.getElementById('environment')
        table.classList.toggle('hidden')
        header.classList.toggle('collapsed')
    })

    findAll('input[name="filter_checkbox"]').forEach((elem) => {
        elem.addEventListener('click', filterColumn)
    })

    findAll('.sortable').forEach((elem) => {
        elem.addEventListener('click', (evt) => {
            const { target: element } = evt
            const { columnType } = element.dataset
            doSort(columnType)
            redraw()
        })
    })

    document.getElementById('show_all_details').addEventListener('click', () => {
        manager.allCollapsed = false
        setCollapsedIds([])
        redraw()
    })
    document.getElementById('hide_all_details').addEventListener('click', () => {
        manager.allCollapsed = true
        const allIds = manager.renderData.tests.map((test) => test.id)
        setCollapsedIds(allIds)
        redraw()
    })
}

const redraw = () => {
    const { testSubset } = manager

    renderContent(testSubset)
    renderDerived()
}

module.exports = {
    redraw,
    bindEvents,
    renderStatic,
}

},{"./datamanager.js":1,"./dom.js":2,"./filter.js":3,"./sort.js":7,"./storage.js":8}],6:[function(require,module,exports){
class MediaViewer {
    constructor(assets) {
        this.assets = assets
        this.index = 0
    }

    nextActive() {
        this.index = this.index === this.assets.length - 1 ? 0 : this.index + 1
        return [this.activeFile, this.index]
    }

    prevActive() {
        this.index = this.index === 0 ? this.assets.length - 1 : this.index -1
        return [this.activeFile, this.index]
    }

    get currentIndex() {
        return this.index
    }

    get activeFile() {
        return this.assets[this.index]
    }
}


const setup = (resultBody, assets) => {
    if (!assets.length) {
        resultBody.querySelector('.media').classList.add('hidden')
        return
    }

    const mediaViewer = new MediaViewer(assets)
    const container = resultBody.querySelector('.media-container')
    const leftArrow = resultBody.querySelector('.media-container__nav--left')
    const rightArrow = resultBody.querySelector('.media-container__nav--right')
    const mediaName = resultBody.querySelector('.media__name')
    const counter = resultBody.querySelector('.media__counter')
    const imageEl = resultBody.querySelector('img')
    const sourceEl = resultBody.querySelector('source')
    const videoEl = resultBody.querySelector('video')

    const setImg = (media, index) => {
        if (media?.format_type === 'image') {
            imageEl.src = media.path

            imageEl.classList.remove('hidden')
            videoEl.classList.add('hidden')
        } else if (media?.format_type === 'video') {
            sourceEl.src = media.path

            videoEl.classList.remove('hidden')
            imageEl.classList.add('hidden')
        }

        mediaName.innerText = media?.name
        counter.innerText = `${index + 1} / ${assets.length}`
    }
    setImg(mediaViewer.activeFile, mediaViewer.currentIndex)

    const moveLeft = () => {
        const [media, index] = mediaViewer.prevActive()
        setImg(media, index)
    }
    const doRight = () => {
        const [media, index] = mediaViewer.nextActive()
        setImg(media, index)
    }
    const openImg = () => {
        window.open(mediaViewer.activeFile.path, '_blank')
    }
    if (assets.length === 1) {
        container.classList.add('media-container--fullscreen')
    } else {
        leftArrow.addEventListener('click', moveLeft)
        rightArrow.addEventListener('click', doRight)
    }
    imageEl.addEventListener('click', openImg)
}

module.exports = {
    setup,
}

},{}],7:[function(require,module,exports){
const { manager } = require('./datamanager.js')
const storageModule = require('./storage.js')

const genericSort = (list, key, ascending, customOrder) => {
    let sorted
    if (customOrder) {
        sorted = list.sort((a, b) => {
            const aValue = a.result.toLowerCase()
            const bValue = b.result.toLowerCase()

            const aIndex = customOrder.findIndex((item) => item.toLowerCase() === aValue)
            const bIndex = customOrder.findIndex((item) => item.toLowerCase() === bValue)

            // Compare the indices to determine the sort order
            return aIndex - bIndex
        })
    } else {
        sorted = list.sort((a, b) => a[key] === b[key] ? 0 : a[key] > b[key] ? 1 : -1)
    }

    if (ascending) {
        sorted.reverse()
    }
    return sorted
}

const durationSort = (list, ascending) => {
    const parseDuration = (duration) => {
        if (duration.includes(':')) {
            // If it's in the format "HH:mm:ss"
            const [hours, minutes, seconds] = duration.split(':').map(Number)
            return (hours * 3600 + minutes * 60 + seconds) * 1000
        } else {
            // If it's in the format "nnn ms"
            return parseInt(duration)
        }
    }
    const sorted = list.sort((a, b) => parseDuration(a['duration']) - parseDuration(b['duration']))
    if (ascending) {
        sorted.reverse()
    }
    return sorted
}

const doInitSort = () => {
    const type = storageModule.getSort(manager.initialSort)
    const ascending = storageModule.getSortDirection()
    const list = manager.testSubset
    const initialOrder = ['Error', 'Failed', 'Rerun', 'XFailed', 'XPassed', 'Skipped', 'Passed']

    storageModule.setSort(type)
    storageModule.setSortDirection(ascending)

    if (type?.toLowerCase() === 'original') {
        manager.setRender(list)
    } else {
        let sortedList
        switch (type) {
        case 'duration':
            sortedList = durationSort(list, ascending)
            break
        case 'result':
            sortedList = genericSort(list, type, ascending, initialOrder)
            break
        default:
            sortedList = genericSort(list, type, ascending)
            break
        }
        manager.setRender(sortedList)
    }
}

const doSort = (type, skipDirection) => {
    const newSortType = storageModule.getSort(manager.initialSort) !== type
    const currentAsc = storageModule.getSortDirection()
    let ascending
    if (skipDirection) {
        ascending = currentAsc
    } else {
        ascending = newSortType ? false : !currentAsc
    }
    storageModule.setSort(type)
    storageModule.setSortDirection(ascending)

    const list = manager.testSubset
    const sortedList = type === 'duration' ? durationSort(list, ascending) : genericSort(list, type, ascending)
    manager.setRender(sortedList)
}

module.exports = {
    doInitSort,
    doSort,
}

},{"./datamanager.js":1,"./storage.js":8}],8:[function(require,module,exports){
const possibleFilters = [
    'passed',
    'skipped',
    'failed',
    'error',
    'xfailed',
    'xpassed',
    'rerun',
]

const getVisible = () => {
    const url = new URL(window.location.href)
    const settings = new URLSearchParams(url.search).get('visible')
    const lower = (item) => {
        const lowerItem = item.toLowerCase()
        if (possibleFilters.includes(lowerItem)) {
            return lowerItem
        }
        return null
    }
    return settings === null ?
        possibleFilters :
        [...new Set(settings?.split(',').map(lower).filter((item) => item))]
}

const hideCategory = (categoryToHide) => {
    const url = new URL(window.location.href)
    const visibleParams = new URLSearchParams(url.search).get('visible')
    const currentVisible = visibleParams ? visibleParams.split(',') : [...possibleFilters]
    const settings = [...new Set(currentVisible)].filter((f) => f !== categoryToHide).join(',')

    url.searchParams.set('visible', settings)
    window.history.pushState({}, null, unescape(url.href))
}

const showCategory = (categoryToShow) => {
    if (typeof window === 'undefined') {
        return
    }
    const url = new URL(window.location.href)
    const currentVisible = new URLSearchParams(url.search).get('visible')?.split(',').filter(Boolean) ||
        [...possibleFilters]
    const settings = [...new Set([categoryToShow, ...currentVisible])]
    const noFilter = possibleFilters.length === settings.length || !settings.length

    noFilter ? url.searchParams.delete('visible') : url.searchParams.set('visible', settings.join(','))
    window.history.pushState({}, null, unescape(url.href))
}

const getSort = (initialSort) => {
    const url = new URL(window.location.href)
    let sort = new URLSearchParams(url.search).get('sort')
    if (!sort) {
        sort = initialSort || 'result'
    }
    return sort
}

const setSort = (type) => {
    const url = new URL(window.location.href)
    url.searchParams.set('sort', type)
    window.history.pushState({}, null, unescape(url.href))
}

const getCollapsedCategory = (renderCollapsed) => {
    let categories
    if (typeof window !== 'undefined') {
        const url = new URL(window.location.href)
        const collapsedItems = new URLSearchParams(url.search).get('collapsed')
        switch (true) {
        case !renderCollapsed && collapsedItems === null:
            categories = ['passed']
            break
        case collapsedItems?.length === 0 || /^["']{2}$/.test(collapsedItems):
            categories = []
            break
        case /^all$/.test(collapsedItems) || collapsedItems === null && /^all$/.test(renderCollapsed):
            categories = [...possibleFilters]
            break
        default:
            categories = collapsedItems?.split(',').map((item) => item.toLowerCase()) || renderCollapsed
            break
        }
    } else {
        categories = []
    }
    return categories
}

const getSortDirection = () => JSON.parse(sessionStorage.getItem('sortAsc')) || false
const setSortDirection = (ascending) => sessionStorage.setItem('sortAsc', ascending)

const getCollapsedIds = () => JSON.parse(sessionStorage.getItem('collapsedIds')) || []
const setCollapsedIds = (list) => sessionStorage.setItem('collapsedIds', JSON.stringify(list))

module.exports = {
    getVisible,
    hideCategory,
    showCategory,
    getCollapsedIds,
    setCollapsedIds,
    getSort,
    setSort,
    getSortDirection,
    setSortDirection,
    getCollapsedCategory,
    possibleFilters,
}

},{}]},{},[4]);
    </script>
  </footer>
</html>